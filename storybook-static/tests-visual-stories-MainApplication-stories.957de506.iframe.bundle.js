"use strict";(self.webpackChunkroutopia=self.webpackChunkroutopia||[]).push([[331],{"./src/tests/visual/stories/MainApplication.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Loading:()=>Loading,WithError:()=>WithError,WithRoute:()=>WithRoute,__namedExportsOrder:()=>__namedExportsOrder,default:()=>MainApplication_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const createStoreImpl=createState=>{let state;const listeners=new Set,setState=(partial,replace)=>{const nextState="function"==typeof partial?partial(state):partial;if(!Object.is(nextState,state)){const previousState=state;state=(null!=replace?replace:"object"!=typeof nextState||null===nextState)?nextState:Object.assign({},state,nextState),listeners.forEach((listener=>listener(state,previousState)))}},getState=()=>state,api={setState,getState,getInitialState:()=>initialState,subscribe:listener=>(listeners.add(listener),()=>listeners.delete(listener))},initialState=state=createState(setState,getState,api);return api},identity=arg=>arg;const createImpl=createState=>{const api=(createState=>createState?createStoreImpl(createState):createStoreImpl)(createState),useBoundStore=selector=>function useStore(api,selector=identity){const slice=react.useSyncExternalStore(api.subscribe,(()=>selector(api.getState())),(()=>selector(api.getInitialState())));return react.useDebugValue(slice),slice}(api,selector);return Object.assign(useBoundStore,api),useBoundStore},create=createState=>createState?createImpl(createState):createImpl;var console=__webpack_require__("./node_modules/console-browserify/index.js");const trackedConnections=new Map,getTrackedConnectionState=name=>{const api=trackedConnections.get(name);return api?Object.fromEntries(Object.entries(api.stores).map((([key,api2])=>[key,api2.getState()]))):{}},devtools=(fn,devtoolsOptions={})=>(set,get,api)=>{const{enabled,anonymousActionType,store,...options}=devtoolsOptions;let extensionConnector;try{extensionConnector=(null==enabled||enabled)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!extensionConnector)return fn(set,get,api);const{connection,...connectionInformation}=((store,extensionConnector,options)=>{if(void 0===store)return{type:"untracked",connection:extensionConnector.connect(options)};const existingConnection=trackedConnections.get(options.name);if(existingConnection)return{type:"tracked",store,...existingConnection};const newConnection={connection:extensionConnector.connect(options),stores:{}};return trackedConnections.set(options.name,newConnection),{type:"tracked",store,...newConnection}})(store,extensionConnector,options);let isRecording=!0;api.setState=(state,replace,nameOrAction)=>{const r=set(state,replace);if(!isRecording)return r;const action=void 0===nameOrAction?{type:anonymousActionType||"anonymous"}:"string"==typeof nameOrAction?{type:nameOrAction}:nameOrAction;return void 0===store?(null==connection||connection.send(action,get()),r):(null==connection||connection.send({...action,type:`${store}/${action.type}`},{...getTrackedConnectionState(options.name),[store]:api.getState()}),r)};const setStateFromDevtools=(...a)=>{const originalIsRecording=isRecording;isRecording=!1,set(...a),isRecording=originalIsRecording},initialState=fn(api.setState,get,api);if("untracked"===connectionInformation.type?null==connection||connection.init(initialState):(connectionInformation.stores[connectionInformation.store]=api,null==connection||connection.init(Object.fromEntries(Object.entries(connectionInformation.stores).map((([key,store2])=>[key,key===connectionInformation.store?initialState:store2.getState()]))))),api.dispatchFromDevtools&&"function"==typeof api.dispatch){let didWarnAboutReservedActionType=!1;const originalDispatch=api.dispatch;api.dispatch=(...a)=>{"__setState"!==a[0].type||didWarnAboutReservedActionType||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),didWarnAboutReservedActionType=!0),originalDispatch(...a)}}return connection.subscribe((message=>{var _a;switch(message.type){case"ACTION":return"string"!=typeof message.payload?void console.error("[zustand devtools middleware] Unsupported action format"):parseJsonThen(message.payload,(action=>{if("__setState"!==action.type)api.dispatchFromDevtools&&"function"==typeof api.dispatch&&api.dispatch(action);else{if(void 0===store)return void setStateFromDevtools(action.state);1!==Object.keys(action.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const stateFromDevtools=action.state[store];if(null==stateFromDevtools)return;JSON.stringify(api.getState())!==JSON.stringify(stateFromDevtools)&&setStateFromDevtools(stateFromDevtools)}}));case"DISPATCH":switch(message.payload.type){case"RESET":return setStateFromDevtools(initialState),void 0===store?null==connection?void 0:connection.init(api.getState()):null==connection?void 0:connection.init(getTrackedConnectionState(options.name));case"COMMIT":return void 0===store?void(null==connection||connection.init(api.getState())):null==connection?void 0:connection.init(getTrackedConnectionState(options.name));case"ROLLBACK":return parseJsonThen(message.state,(state=>{if(void 0===store)return setStateFromDevtools(state),void(null==connection||connection.init(api.getState()));setStateFromDevtools(state[store]),null==connection||connection.init(getTrackedConnectionState(options.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(message.state,(state=>{void 0!==store?JSON.stringify(api.getState())!==JSON.stringify(state[store])&&setStateFromDevtools(state[store]):setStateFromDevtools(state)}));case"IMPORT_STATE":{const{nextLiftedState}=message.payload,lastComputedState=null==(_a=nextLiftedState.computedStates.slice(-1)[0])?void 0:_a.state;if(!lastComputedState)return;return setStateFromDevtools(void 0===store?lastComputedState:lastComputedState[store]),void(null==connection||connection.send(null,nextLiftedState))}case"PAUSE_RECORDING":return isRecording=!isRecording}return}})),initialState},parseJsonThen=(stringified,f)=>{let parsed;try{parsed=JSON.parse(stringified)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==parsed&&f(parsed)};function createJSONStorage(getStorage,options){let storage;try{storage=getStorage()}catch(e){return}return{getItem:name=>{var _a;const parse=str2=>null===str2?null:JSON.parse(str2,null==options?void 0:options.reviver),str=null!=(_a=storage.getItem(name))?_a:null;return str instanceof Promise?str.then(parse):parse(str)},setItem:(name,newValue)=>storage.setItem(name,JSON.stringify(newValue,null==options?void 0:options.replacer)),removeItem:name=>storage.removeItem(name)}}const toThenable=fn=>input=>{try{const result=fn(input);return result instanceof Promise?result:{then:onFulfilled=>toThenable(onFulfilled)(result),catch(_onRejected){return this}}}catch(e){return{then(_onFulfilled){return this},catch:onRejected=>toThenable(onRejected)(e)}}},persist=(config,baseOptions)=>(set,get,api)=>{let options={storage:createJSONStorage((()=>localStorage)),partialize:state=>state,version:0,merge:(persistedState,currentState)=>({...currentState,...persistedState}),...baseOptions},hasHydrated=!1;const hydrationListeners=new Set,finishHydrationListeners=new Set;let storage=options.storage;if(!storage)return config(((...args)=>{console.warn(`[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`),set(...args)}),get,api);const setItem=()=>{const state=options.partialize({...get()});return storage.setItem(options.name,{state,version:options.version})},savedSetState=api.setState;api.setState=(state,replace)=>{savedSetState(state,replace),setItem()};const configResult=config(((...args)=>{set(...args),setItem()}),get,api);let stateFromStorage;api.getInitialState=()=>configResult;const hydrate=()=>{var _a,_b;if(!storage)return;hasHydrated=!1,hydrationListeners.forEach((cb=>{var _a2;return cb(null!=(_a2=get())?_a2:configResult)}));const postRehydrationCallback=(null==(_b=options.onRehydrateStorage)?void 0:_b.call(options,null!=(_a=get())?_a:configResult))||void 0;return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue=>{if(deserializedStorageValue){if("number"!=typeof deserializedStorageValue.version||deserializedStorageValue.version===options.version)return[!1,deserializedStorageValue.state];if(options.migrate){const migration=options.migrate(deserializedStorageValue.state,deserializedStorageValue.version);return migration instanceof Promise?migration.then((result=>[!0,result])):[!0,migration]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((migrationResult=>{var _a2;const[migrated,migratedState]=migrationResult;if(stateFromStorage=options.merge(migratedState,null!=(_a2=get())?_a2:configResult),set(stateFromStorage,!0),migrated)return setItem()})).then((()=>{null==postRehydrationCallback||postRehydrationCallback(stateFromStorage,void 0),stateFromStorage=get(),hasHydrated=!0,finishHydrationListeners.forEach((cb=>cb(stateFromStorage)))})).catch((e=>{null==postRehydrationCallback||postRehydrationCallback(void 0,e)}))};return api.persist={setOptions:newOptions=>{options={...options,...newOptions},newOptions.storage&&(storage=newOptions.storage)},clearStorage:()=>{null==storage||storage.removeItem(options.name)},getOptions:()=>options,rehydrate:()=>hydrate(),hasHydrated:()=>hasHydrated,onHydrate:cb=>(hydrationListeners.add(cb),()=>{hydrationListeners.delete(cb)}),onFinishHydration:cb=>(finishHydrationListeners.add(cb),()=>{finishHydrationListeners.delete(cb)})},options.skipHydration||hydrate(),stateFromStorage||configResult},useActivityStore=create()(devtools(persist(((set,get)=>({currentActivity:null,preferences:{difficulty:"moderate",terrain:["paved","trail"],timeOfDay:"any",weather:["clear","cloudy"]},constraints:{maxDistance:null,maxDuration:null,maxElevation:null,requiredPOIs:[]},history:[],metrics:{performance:{},frequency:{},preferences:{}},setActivity:activity=>set({currentActivity:activity}),updatePreferences:prefs=>set((state=>({preferences:{...state.preferences,...prefs}}))),updateConstraints:constraints=>set((state=>({constraints:{...state.constraints,...constraints}}))),logActivity:(activity,duration)=>set((state=>({history:[...state.history,{activity,duration,timestamp:Date.now()}]}))),updateMetrics:(activity,performance)=>set((state=>{const current=state.metrics.performance[activity]||{average:0,best:0,recent:[]};return{metrics:{...state.metrics,performance:{...state.metrics.performance,[activity]:{average:(current.average+performance)/2,best:Math.max(current.best,performance),recent:[...current.recent.slice(-9),performance]}}}}})),resetActivity:()=>set({currentActivity:null,preferences:{difficulty:"moderate",terrain:["paved","trail"],timeOfDay:"any",weather:["clear","cloudy"]}})})),{name:"activity-storage"}))),ActivitySelector=({selectedActivity,onActivityChange})=>(0,jsx_runtime.jsxs)("div",{className:"activity-selector","data-testid":"activity-selector",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Select Activity"}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{type:"car",label:"Drive",icon:"ðŸš—"},{type:"bike",label:"Bike",icon:"ðŸš²"},{type:"walk",label:"Walk",icon:"ðŸš¶"},{type:"ski",label:"Ski",icon:"â›·ï¸"}].map((({type,label,icon})=>(0,jsx_runtime.jsxs)("button",{onClick:()=>onActivityChange(type),className:`\n              flex items-center gap-2 p-3 rounded-lg\n              transition-colors duration-200\n              ${selectedActivity===type?"bg-teal-600 text-white":"bg-stone-800 text-stone-300 hover:bg-stone-700"}\n            `,"data-testid":`activity-${type}`,children:[(0,jsx_runtime.jsx)("span",{className:"text-2xl",role:"img","aria-label":label,children:icon}),(0,jsx_runtime.jsx)("span",{children:label})]},type)))})]});try{ActivitySelector.displayName="ActivitySelector",ActivitySelector.__docgenInfo={description:"",displayName:"ActivitySelector",props:{selectedActivity:{defaultValue:null,description:"",name:"selectedActivity",required:!0,type:{name:"enum",value:[{value:'"BIKE"'},{value:'"RUN"'},{value:'"WALK"'},{value:'"HIKE"'},{value:'"SKI"'},{value:'"SWIM"'},{value:'"CAR"'}]}},onActivityChange:{defaultValue:null,description:"",name:"onActivityChange",required:!0,type:{name:"(activity: ActivityType) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/activity/ActivitySelector.tsx#ActivitySelector"]={docgenInfo:ActivitySelector.__docgenInfo,name:"ActivitySelector",path:"src/components/activity/ActivitySelector.tsx#ActivitySelector"})}catch(__react_docgen_typescript_loader_error){}const PreferencePanel=({preferences,onPreferenceChange})=>{const handleChange=(key,value)=>{onPreferenceChange({...preferences,[key]:value})};return(0,jsx_runtime.jsxs)("div",{className:"preference-panel p-4 bg-stone-800 rounded-lg","data-testid":"preference-panel",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Preferences"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300",children:"Avoid Tolls"}),(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:preferences.avoidTolls,onChange:e=>handleChange("avoidTolls",e.target.checked),className:"toggle"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300",children:"Avoid Highways"}),(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:preferences.avoidHighways,onChange:e=>handleChange("avoidHighways",e.target.checked),className:"toggle"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300",children:"Prefer Scenic Routes"}),(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:preferences.preferScenic,onChange:e=>handleChange("preferScenic",e.target.checked),className:"toggle"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Maximum Distance (km)"}),(0,jsx_runtime.jsx)("input",{type:"number",value:preferences.maxDistance||"",onChange:e=>handleChange("maxDistance",Number(e.target.value)),className:"w-full bg-stone-700 text-white rounded px-3 py-2",min:"0"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Maximum Duration (minutes)"}),(0,jsx_runtime.jsx)("input",{type:"number",value:preferences.maxDuration||"",onChange:e=>handleChange("maxDuration",Number(e.target.value)),className:"w-full bg-stone-700 text-white rounded px-3 py-2",min:"0"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Difficulty Level"}),(0,jsx_runtime.jsxs)("select",{value:preferences.difficulty||"moderate",onChange:e=>handleChange("difficulty",e.target.value),className:"w-full bg-stone-700 text-white rounded px-3 py-2",children:[(0,jsx_runtime.jsx)("option",{value:"easy",children:"Easy"}),(0,jsx_runtime.jsx)("option",{value:"moderate",children:"Moderate"}),(0,jsx_runtime.jsx)("option",{value:"hard",children:"Hard"})]})]})]})]})};try{PreferencePanel.displayName="PreferencePanel",PreferencePanel.__docgenInfo={description:"",displayName:"PreferencePanel",props:{preferences:{defaultValue:null,description:"",name:"preferences",required:!0,type:{name:"ActivityPreferences"}},onPreferenceChange:{defaultValue:null,description:"",name:"onPreferenceChange",required:!0,type:{name:"(preferences: ActivityPreferences) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/activity/PreferencePanel.tsx#PreferencePanel"]={docgenInfo:PreferencePanel.__docgenInfo,name:"PreferencePanel",path:"src/components/activity/PreferencePanel.tsx#PreferencePanel"})}catch(__react_docgen_typescript_loader_error){}const ConstraintManager=({constraints,onConstraintChange})=>{var _constraints_timeConstraints_startTime,_constraints_timeConstraints,_constraints_timeConstraints_endTime,_constraints_timeConstraints1,_constraints_routeConstraints,_constraints_routeConstraints1,_constraints_routeConstraints2;const handleChange=(category,key,value)=>{onConstraintChange({...constraints,[category]:{...constraints[category],[key]:value}})};return(0,jsx_runtime.jsxs)("div",{className:"constraint-manager p-4 bg-stone-800 rounded-lg","data-testid":"constraint-manager",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Route Constraints"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("h4",{className:"text-md font-medium text-stone-300",children:"Time Constraints"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Start Time"}),(0,jsx_runtime.jsx)("input",{type:"datetime-local",value:(null===(_constraints_timeConstraints=constraints.timeConstraints)||void 0===_constraints_timeConstraints||null===(_constraints_timeConstraints_startTime=_constraints_timeConstraints.startTime)||void 0===_constraints_timeConstraints_startTime?void 0:_constraints_timeConstraints_startTime.toISOString().slice(0,16))||"",onChange:e=>handleChange("timeConstraints","startTime",new Date(e.target.value)),className:"w-full bg-stone-700 text-white rounded px-3 py-2"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"End Time"}),(0,jsx_runtime.jsx)("input",{type:"datetime-local",value:(null===(_constraints_timeConstraints1=constraints.timeConstraints)||void 0===_constraints_timeConstraints1||null===(_constraints_timeConstraints_endTime=_constraints_timeConstraints1.endTime)||void 0===_constraints_timeConstraints_endTime?void 0:_constraints_timeConstraints_endTime.toISOString().slice(0,16))||"",onChange:e=>handleChange("timeConstraints","endTime",new Date(e.target.value)),className:"w-full bg-stone-700 text-white rounded px-3 py-2"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("h4",{className:"text-md font-medium text-stone-300",children:"Route Constraints"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Maximum Elevation (m)"}),(0,jsx_runtime.jsx)("input",{type:"number",value:(null===(_constraints_routeConstraints=constraints.routeConstraints)||void 0===_constraints_routeConstraints?void 0:_constraints_routeConstraints.maxElevation)||"",onChange:e=>handleChange("routeConstraints","maxElevation",Number(e.target.value)),className:"w-full bg-stone-700 text-white rounded px-3 py-2",min:"0"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Maximum Gradient (%)"}),(0,jsx_runtime.jsx)("input",{type:"number",value:(null===(_constraints_routeConstraints1=constraints.routeConstraints)||void 0===_constraints_routeConstraints1?void 0:_constraints_routeConstraints1.maxGradient)||"",onChange:e=>handleChange("routeConstraints","maxGradient",Number(e.target.value)),className:"w-full bg-stone-700 text-white rounded px-3 py-2",min:"0",max:"100"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 block",children:"Surface Types"}),(0,jsx_runtime.jsxs)("select",{multiple:!0,value:(null===(_constraints_routeConstraints2=constraints.routeConstraints)||void 0===_constraints_routeConstraints2?void 0:_constraints_routeConstraints2.surfaceType)||[],onChange:e=>{const selected=Array.from(e.target.selectedOptions,(option=>option.value));handleChange("routeConstraints","surfaceType",selected)},className:"w-full bg-stone-700 text-white rounded px-3 py-2",children:[(0,jsx_runtime.jsx)("option",{value:"paved",children:"Paved"}),(0,jsx_runtime.jsx)("option",{value:"gravel",children:"Gravel"}),(0,jsx_runtime.jsx)("option",{value:"dirt",children:"Dirt"}),(0,jsx_runtime.jsx)("option",{value:"trail",children:"Trail"})]})]})]})]})]})};try{ConstraintManager.displayName="ConstraintManager",ConstraintManager.__docgenInfo={description:"",displayName:"ConstraintManager",props:{constraints:{defaultValue:null,description:"",name:"constraints",required:!0,type:{name:"ActivityConstraints"}},onConstraintChange:{defaultValue:null,description:"",name:"onConstraintChange",required:!0,type:{name:"(constraints: ActivityConstraints) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/activity/ConstraintManager.tsx#ConstraintManager"]={docgenInfo:ConstraintManager.__docgenInfo,name:"ConstraintManager",path:"src/components/activity/ConstraintManager.tsx#ConstraintManager"})}catch(__react_docgen_typescript_loader_error){}const ActivityControls=()=>{const store=useActivityStore();return(0,jsx_runtime.jsxs)("div",{className:"activity-controls","data-testid":"activity-controls",children:[(0,jsx_runtime.jsx)(ActivitySelector,{selectedActivity:store.currentActivity,onActivityChange:activity=>{store.setActivity(activity)}}),(0,jsx_runtime.jsx)(PreferencePanel,{preferences:store.preferences,onPreferenceChange:preferences=>{store.updatePreferences(preferences)}}),(0,jsx_runtime.jsx)(ConstraintManager,{constraints:store.constraints,onConstraintChange:constraints=>{store.updateConstraints(constraints)}})]})};try{ActivityControls.displayName="ActivityControls",ActivityControls.__docgenInfo={description:"",displayName:"ActivityControls",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/activity/ActivityControls.tsx#ActivityControls"]={docgenInfo:ActivityControls.__docgenInfo,name:"ActivityControls",path:"src/components/activity/ActivityControls.tsx#ActivityControls"})}catch(__react_docgen_typescript_loader_error){}const useRealTimeStore=create()(devtools(((set,get)=>({weather:null,traffic:null,conditions:null,lastUpdate:{weather:0,traffic:0,conditions:0},updateStatus:{inProgress:!1,lastError:null,retryCount:0},updateWeather:data=>set((state=>({weather:data,lastUpdate:{...state.lastUpdate,weather:Date.now()}}))),updateTraffic:data=>set((state=>({traffic:data,lastUpdate:{...state.lastUpdate,traffic:Date.now()}}))),updateConditions:data=>set((state=>({conditions:data,lastUpdate:{...state.lastUpdate,conditions:Date.now()}}))),updateAll:async()=>{set({updateStatus:{...get().updateStatus,inProgress:!0}});try{const[weather,traffic,conditions]=await Promise.all([fetchWeatherData(),fetchTrafficData(),fetchConditionData()]);set((state=>({weather,traffic,conditions,lastUpdate:{weather:Date.now(),traffic:Date.now(),conditions:Date.now()},updateStatus:{inProgress:!1,lastError:null,retryCount:0}})))}catch(error){get().handleUpdateError(error)}},handleUpdateError:error=>set((state=>({updateStatus:{inProgress:!1,lastError:error,retryCount:state.updateStatus.retryCount+1}}))),resetUpdates:()=>set({weather:null,traffic:null,conditions:null,lastUpdate:{weather:0,traffic:0,conditions:0},updateStatus:{inProgress:!1,lastError:null,retryCount:0}})}))));class WeatherService{static async getCurrentWeather(){return{temperature:20,conditions:"Clear",location:"New York, NY"}}static async getForecast(){return[{day:"Mon",temp:22,conditions:"Sunny"},{day:"Tue",temp:19,conditions:"Cloudy"},{day:"Wed",temp:18,conditions:"Rain"},{day:"Thu",temp:21,conditions:"Clear"},{day:"Fri",temp:23,conditions:"Sunny"}]}}class TrafficService{static async getTrafficConditions(){return{congestion:"low",incidents:[],lastUpdated:(new Date).toISOString()}}static async getRouteConditions(routeId){return{routeId,status:"clear",estimatedDelay:0,alternateRoutes:[]}}}class ConditionMonitor{static async getCurrentConditions(){return{status:"normal",alerts:[],lastUpdated:(new Date).toISOString()}}static async getSystemStatus(){return{uptime:100,performance:"optimal",lastCheck:(new Date).toISOString()}}}const RealTimeUpdates=()=>{const store=useRealTimeStore();return(0,react.useEffect)((()=>{const updateInterval=setInterval((()=>{store.updateAll()}),3e4);return()=>clearInterval(updateInterval)}),[]),(0,jsx_runtime.jsxs)("div",{className:"realtime-updates","data-testid":"realtime-updates",children:[(0,jsx_runtime.jsx)(WeatherService,{data:store.weather,onUpdate:store.updateWeather}),(0,jsx_runtime.jsx)(TrafficService,{data:store.traffic,onUpdate:store.updateTraffic}),(0,jsx_runtime.jsx)(ConditionMonitor,{conditions:store.conditions,onUpdate:store.updateConditions})]})};try{RealTimeUpdates.displayName="RealTimeUpdates",RealTimeUpdates.__docgenInfo={description:"",displayName:"RealTimeUpdates",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/realtime/RealTimeUpdates.tsx#RealTimeUpdates"]={docgenInfo:RealTimeUpdates.__docgenInfo,name:"RealTimeUpdates",path:"src/components/realtime/RealTimeUpdates.tsx#RealTimeUpdates"})}catch(__react_docgen_typescript_loader_error){}const useFeedbackStore=create()(devtools((set=>({alerts:[],notifications:[],interactionFeedback:[],addAlert:alert=>set((state=>({alerts:[...state.alerts,{...alert,id:Math.random().toString()}]}))),addNotification:notification=>set((state=>({notifications:[...state.notifications,{...notification,id:Math.random().toString()}]}))),addFeedback:feedback=>set((state=>({interactionFeedback:[...state.interactionFeedback,{...feedback,id:Math.random().toString()}]}))),clearAlerts:()=>set({alerts:[]}),clearNotifications:()=>set({notifications:[]}),clearFeedback:()=>set({interactionFeedback:[]})})),{name:"feedback-store"})),AlertSystem=({alerts,onAlertDismiss,onAlertAction})=>(0,jsx_runtime.jsx)("div",{className:"alert-system fixed top-4 right-4 space-y-2 z-50","data-testid":"alert-system",children:alerts.map((alert=>(0,jsx_runtime.jsxs)("div",{className:`\n            alert p-4 rounded-lg shadow-lg max-w-md\n            transition-all duration-300 ease-in-out\n            ${getAlertColorClass(alert.type)}\n          `,"data-testid":`alert-${alert.id}`,children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-start",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h4",{className:"font-semibold text-lg",children:alert.title}),(0,jsx_runtime.jsx)("p",{className:"text-sm mt-1",children:alert.message})]}),(0,jsx_runtime.jsx)("button",{onClick:()=>onAlertDismiss(alert.id),className:"text-sm opacity-70 hover:opacity-100","aria-label":"Dismiss alert",children:"âœ•"})]}),alert.actions&&alert.actions.length>0&&(0,jsx_runtime.jsx)("div",{className:"mt-3 flex gap-2",children:alert.actions.map((action=>(0,jsx_runtime.jsx)("button",{onClick:()=>null==onAlertAction?void 0:onAlertAction(alert.id,action),className:"px-3 py-1 text-sm rounded-md bg-black/10 hover:bg-black/20   transition-colors duration-200",children:action},action)))})]},alert.id)))}),getAlertColorClass=type=>{switch(type){case"success":return"bg-emerald-500 text-white";case"error":return"bg-red-500 text-white";case"warning":return"bg-amber-500 text-white";default:return"bg-blue-500 text-white"}};try{AlertSystem.displayName="AlertSystem",AlertSystem.__docgenInfo={description:"",displayName:"AlertSystem",props:{alerts:{defaultValue:null,description:"",name:"alerts",required:!0,type:{name:"Alert[]"}},onAlertDismiss:{defaultValue:null,description:"",name:"onAlertDismiss",required:!0,type:{name:"(alertId: string) => void"}},onAlertAction:{defaultValue:null,description:"",name:"onAlertAction",required:!1,type:{name:"((alertId: string, action: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/feedback/AlertSystem.tsx#AlertSystem"]={docgenInfo:AlertSystem.__docgenInfo,name:"AlertSystem",path:"src/components/feedback/AlertSystem.tsx#AlertSystem"})}catch(__react_docgen_typescript_loader_error){}const NotificationCenter=({notifications,onNotificationRead,onNotificationAction})=>(0,jsx_runtime.jsx)("div",{className:"notification-center","data-testid":"notification-center",children:notifications.map((notification=>{var _notification_actions;return(0,jsx_runtime.jsxs)("div",{className:"notification "+(notification.read?"read":"unread"),"data-testid":`notification-${notification.id}`,children:[(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[(0,jsx_runtime.jsx)("h4",{children:notification.title}),(0,jsx_runtime.jsx)("p",{children:notification.message}),(0,jsx_runtime.jsx)("span",{className:"timestamp",children:new Date(notification.timestamp).toLocaleString()})]}),(0,jsx_runtime.jsxs)("div",{className:"notification-actions",children:[null===(_notification_actions=notification.actions)||void 0===_notification_actions?void 0:_notification_actions.map((action=>(0,jsx_runtime.jsx)("button",{onClick:()=>null==onNotificationAction?void 0:onNotificationAction(notification.id,action),children:action},action))),!notification.read&&(0,jsx_runtime.jsx)("button",{onClick:()=>onNotificationRead(notification.id),children:"Mark as Read"})]})]},notification.id)}))});try{NotificationCenter.displayName="NotificationCenter",NotificationCenter.__docgenInfo={description:"",displayName:"NotificationCenter",props:{notifications:{defaultValue:null,description:"",name:"notifications",required:!0,type:{name:"Notification[]"}},onNotificationRead:{defaultValue:null,description:"",name:"onNotificationRead",required:!0,type:{name:"(notificationId: string) => void"}},onNotificationAction:{defaultValue:null,description:"",name:"onNotificationAction",required:!1,type:{name:"((notificationId: string, action: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/feedback/NotificationCenter.tsx#NotificationCenter"]={docgenInfo:NotificationCenter.__docgenInfo,name:"NotificationCenter",path:"src/components/feedback/NotificationCenter.tsx#NotificationCenter"})}catch(__react_docgen_typescript_loader_error){}const InteractionFeedback=({feedback})=>feedback&&0!==feedback.length?(0,jsx_runtime.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:feedback.map((item=>(0,jsx_runtime.jsx)("div",{className:"rounded-lg p-4 shadow-lg "+("success"===item.type?"bg-green-100 text-green-800":"error"===item.type?"bg-red-100 text-red-800":"warning"===item.type?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:item.message},item.id)))}):null;try{InteractionFeedback.displayName="InteractionFeedback",InteractionFeedback.__docgenInfo={description:"",displayName:"InteractionFeedback",props:{feedback:{defaultValue:null,description:"",name:"feedback",required:!0,type:{name:'{ id: string; message: string; type: "error" | "success" | "info" | "warning"; }[]'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/feedback/InteractionFeedback.tsx#InteractionFeedback"]={docgenInfo:InteractionFeedback.__docgenInfo,name:"InteractionFeedback",path:"src/components/feedback/InteractionFeedback.tsx#InteractionFeedback"})}catch(__react_docgen_typescript_loader_error){}const FeedbackInterface=()=>{const store=useFeedbackStore();return(0,jsx_runtime.jsxs)("div",{className:"feedback-interface","data-testid":"feedback-interface",children:[(0,jsx_runtime.jsx)(AlertSystem,{alerts:store.alerts,onAlertDismiss:store.dismissAlert,onAlertAction:store.handleAlertAction}),(0,jsx_runtime.jsx)(NotificationCenter,{notifications:store.notifications,onNotificationRead:store.markAsRead}),(0,jsx_runtime.jsx)(InteractionFeedback,{feedback:store.interactionFeedback,onFeedbackComplete:store.clearFeedback})]})};try{FeedbackInterface.displayName="FeedbackInterface",FeedbackInterface.__docgenInfo={description:"",displayName:"FeedbackInterface",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/feedback/FeedbackInterface.tsx#FeedbackInterface"]={docgenInfo:FeedbackInterface.__docgenInfo,name:"FeedbackInterface",path:"src/components/feedback/FeedbackInterface.tsx#FeedbackInterface"})}catch(__react_docgen_typescript_loader_error){}const useRouteVisualizationStore=create()(devtools(persist((set=>({currentRoute:null,activeOverlays:new Set,interactionState:{hoveredElement:null,selectedElement:null,dragState:{active:!1,startPosition:null}},performance:{lastUpdateTimestamp:Date.now(),frameRate:60,renderTime:0},setRoute:route=>set({currentRoute:route}),toggleOverlay:overlay=>set((state=>{const newOverlays=new Set(state.activeOverlays);return newOverlays.has(overlay)?newOverlays.delete(overlay):newOverlays.add(overlay),{activeOverlays:newOverlays}})),updateInteractionState:update=>set((state=>({interactionState:{...state.interactionState,...update}}))),resetState:()=>set({currentRoute:null,activeOverlays:new Set,interactionState:{hoveredElement:null,selectedElement:null,dragState:{active:!1,startPosition:null}}})})),{name:"route-visualization-storage"})));const BaseVisualizationLayer=props=>{useRouteVisualizationStore();const{handleInteraction,interactionState}=function useRouteInteractions(props){const store=useRouteVisualizationStore(),interactionTimeout=(0,react.useRef)(),handleInteraction=(0,react.useCallback)((event=>{var _props_onInteraction;switch(interactionTimeout.current&&clearTimeout(interactionTimeout.current),store.updateInteractionState({hoveredElement:"hover"===event.type?`${event.target}-${event.position.index}`:null,selectedElement:"click"===event.type?`${event.target}-${event.position.index}`:null}),event.type){case"hover":handleHover(event);break;case"click":handleClick(event);break;case"drag":handleDrag(event)}null===(_props_onInteraction=props.onInteraction)||void 0===_props_onInteraction||_props_onInteraction.call(props,event)}),[props.onInteraction]),handleHover=(0,react.useCallback)((event=>{}),[]),handleClick=(0,react.useCallback)((event=>{}),[]),handleDrag=(0,react.useCallback)((event=>{}),[]);return{handleInteraction,interactionState:store.interactionState}}(props);props.renderMode,props.updateStrategy;return(0,jsx_runtime.jsxs)("div",{className:"visualization-layer","data-testid":"visualization-layer",children:[(0,jsx_runtime.jsxs)("div",{className:"layer-controls",children:[props.customControls,(0,jsx_runtime.jsx)("div",{className:"default-controls"})]}),(0,jsx_runtime.jsx)("div",{className:"layer-container",style:{position:"relative"},children:props.children}),!1]})};try{BaseVisualizationLayer.displayName="BaseVisualizationLayer",BaseVisualizationLayer.__docgenInfo={description:"",displayName:"BaseVisualizationLayer",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"RouteVisualizationSchema"}},overlays:{defaultValue:null,description:"",name:"overlays",required:!0,type:{name:"RouteVisualizationSchema"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!0,type:{name:"RouteVisualizationSchema"}},performance:{defaultValue:null,description:"",name:"performance",required:!0,type:{name:"RouteVisualizationSchema"}},onRouteUpdate:{defaultValue:null,description:"",name:"onRouteUpdate",required:!1,type:{name:"((route: RouteVisualizationSchema) => void)"}},onOverlayToggle:{defaultValue:null,description:"",name:"onOverlayToggle",required:!1,type:{name:"((overlayType: string | number | symbol) => void)"}},onInteraction:{defaultValue:null,description:"",name:"onInteraction",required:!1,type:{name:"((event: RouteInteractionEvent) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}},renderMode:{defaultValue:null,description:"",name:"renderMode",required:!1,type:{name:"enum",value:[{value:'"performance"'},{value:'"quality"'}]}},updateStrategy:{defaultValue:null,description:"",name:"updateStrategy",required:!1,type:{name:"enum",value:[{value:'"immediate"'},{value:'"debounced"'},{value:'"batched"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/visualization/BaseVisualizationLayer.tsx#BaseVisualizationLayer"]={docgenInfo:BaseVisualizationLayer.__docgenInfo,name:"BaseVisualizationLayer",path:"src/components/visualization/BaseVisualizationLayer.tsx#BaseVisualizationLayer"})}catch(__react_docgen_typescript_loader_error){}const RouteLayer=props=>{const canvasRef=(0,react.useRef)(null);useRouteVisualizationStore();return(0,react.useEffect)((()=>{var _props_theme;if(!canvasRef.current||!props.route)return;const ctx=canvasRef.current.getContext("2d");ctx&&renderRoute(ctx,props.route,null===(_props_theme=props.theme)||void 0===_props_theme?void 0:_props_theme.colors.route)}),[props.route,props.theme]),(0,jsx_runtime.jsx)(BaseVisualizationLayer,{...props,children:(0,jsx_runtime.jsx)("canvas",{ref:canvasRef,className:"route-layer"})})};try{RouteLayer.displayName="RouteLayer",RouteLayer.__docgenInfo={description:"",displayName:"RouteLayer",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"RouteVisualizationSchema"}},overlays:{defaultValue:null,description:"",name:"overlays",required:!0,type:{name:"RouteVisualizationSchema"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!0,type:{name:"RouteVisualizationSchema"}},performance:{defaultValue:null,description:"",name:"performance",required:!0,type:{name:"RouteVisualizationSchema"}},onRouteUpdate:{defaultValue:null,description:"",name:"onRouteUpdate",required:!1,type:{name:"((route: RouteVisualizationSchema) => void)"}},onOverlayToggle:{defaultValue:null,description:"",name:"onOverlayToggle",required:!1,type:{name:"((overlayType: string | number | symbol) => void)"}},onInteraction:{defaultValue:null,description:"",name:"onInteraction",required:!1,type:{name:"((event: RouteInteractionEvent) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}},renderMode:{defaultValue:null,description:"",name:"renderMode",required:!1,type:{name:"enum",value:[{value:'"performance"'},{value:'"quality"'}]}},updateStrategy:{defaultValue:null,description:"",name:"updateStrategy",required:!1,type:{name:"enum",value:[{value:'"immediate"'},{value:'"debounced"'},{value:'"batched"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/visualization/layers/RouteLayer.tsx#RouteLayer"]={docgenInfo:RouteLayer.__docgenInfo,name:"RouteLayer",path:"src/components/visualization/layers/RouteLayer.tsx#RouteLayer"})}catch(__react_docgen_typescript_loader_error){}const POIMarkers=props=>{useRouteVisualizationStore();const clusteredMarkers=(0,react.useMemo)((()=>props.overlays.poi?clusterMarkers(props.overlays.poi):[]),[props.overlays.poi]);return(0,jsx_runtime.jsx)(BaseVisualizationLayer,{...props,children:(0,jsx_runtime.jsx)("div",{className:"poi-markers-container",children:clusteredMarkers.map((cluster=>(0,jsx_runtime.jsx)(MarkerCluster,{cluster,theme:props.theme},cluster.id)))})})};try{POIMarkers.displayName="POIMarkers",POIMarkers.__docgenInfo={description:"",displayName:"POIMarkers",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"RouteVisualizationSchema"}},overlays:{defaultValue:null,description:"",name:"overlays",required:!0,type:{name:"RouteVisualizationSchema"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!0,type:{name:"RouteVisualizationSchema"}},performance:{defaultValue:null,description:"",name:"performance",required:!0,type:{name:"RouteVisualizationSchema"}},onRouteUpdate:{defaultValue:null,description:"",name:"onRouteUpdate",required:!1,type:{name:"((route: RouteVisualizationSchema) => void)"}},onOverlayToggle:{defaultValue:null,description:"",name:"onOverlayToggle",required:!1,type:{name:"((overlayType: string | number | symbol) => void)"}},onInteraction:{defaultValue:null,description:"",name:"onInteraction",required:!1,type:{name:"((event: RouteInteractionEvent) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}},renderMode:{defaultValue:null,description:"",name:"renderMode",required:!1,type:{name:"enum",value:[{value:'"performance"'},{value:'"quality"'}]}},updateStrategy:{defaultValue:null,description:"",name:"updateStrategy",required:!1,type:{name:"enum",value:[{value:'"immediate"'},{value:'"debounced"'},{value:'"batched"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/visualization/layers/POIMarkers.tsx#POIMarkers"]={docgenInfo:POIMarkers.__docgenInfo,name:"POIMarkers",path:"src/components/visualization/layers/POIMarkers.tsx#POIMarkers"})}catch(__react_docgen_typescript_loader_error){}const ElevationLayer=props=>{const svgRef=(0,react.useRef)(null);useRouteVisualizationStore();return(0,react.useEffect)((()=>{var _props_theme;svgRef.current&&props.overlays.elevation&&renderElevationProfile(svgRef.current,props.overlays.elevation,null===(_props_theme=props.theme)||void 0===_props_theme?void 0:_props_theme.colors.elevation)}),[props.overlays.elevation,props.theme]),(0,jsx_runtime.jsx)(BaseVisualizationLayer,{...props,children:(0,jsx_runtime.jsx)("svg",{ref:svgRef,className:"elevation-layer"})})};try{ElevationLayer.displayName="ElevationLayer",ElevationLayer.__docgenInfo={description:"",displayName:"ElevationLayer",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"RouteVisualizationSchema"}},overlays:{defaultValue:null,description:"",name:"overlays",required:!0,type:{name:"RouteVisualizationSchema"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!0,type:{name:"RouteVisualizationSchema"}},performance:{defaultValue:null,description:"",name:"performance",required:!0,type:{name:"RouteVisualizationSchema"}},onRouteUpdate:{defaultValue:null,description:"",name:"onRouteUpdate",required:!1,type:{name:"((route: RouteVisualizationSchema) => void)"}},onOverlayToggle:{defaultValue:null,description:"",name:"onOverlayToggle",required:!1,type:{name:"((overlayType: string | number | symbol) => void)"}},onInteraction:{defaultValue:null,description:"",name:"onInteraction",required:!1,type:{name:"((event: RouteInteractionEvent) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}},renderMode:{defaultValue:null,description:"",name:"renderMode",required:!1,type:{name:"enum",value:[{value:'"performance"'},{value:'"quality"'}]}},updateStrategy:{defaultValue:null,description:"",name:"updateStrategy",required:!1,type:{name:"enum",value:[{value:'"immediate"'},{value:'"debounced"'},{value:'"batched"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/visualization/layers/ElevationLayer.tsx#ElevationLayer"]={docgenInfo:ElevationLayer.__docgenInfo,name:"ElevationLayer",path:"src/components/visualization/layers/ElevationLayer.tsx#ElevationLayer"})}catch(__react_docgen_typescript_loader_error){}const WeatherOverlay=props=>{useRouteVisualizationStore();const[weatherData,setWeatherData]=(0,react.useState)(props.overlays.weather);return(0,react.useEffect)((()=>{const updateInterval=setInterval((()=>{updateWeatherData()}),3e5);return()=>clearInterval(updateInterval)}),[]),(0,jsx_runtime.jsx)(BaseVisualizationLayer,{...props,children:(0,jsx_runtime.jsx)("div",{className:"weather-overlay-container",children:null==weatherData?void 0:weatherData.data.map((point=>(0,jsx_runtime.jsx)(WeatherPoint,{data:point,theme:props.theme},`${point.position.lat}-${point.position.lng}`)))})})};try{WeatherOverlay.displayName="WeatherOverlay",WeatherOverlay.__docgenInfo={description:"",displayName:"WeatherOverlay",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"RouteVisualizationSchema"}},overlays:{defaultValue:null,description:"",name:"overlays",required:!0,type:{name:"RouteVisualizationSchema"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!0,type:{name:"RouteVisualizationSchema"}},performance:{defaultValue:null,description:"",name:"performance",required:!0,type:{name:"RouteVisualizationSchema"}},onRouteUpdate:{defaultValue:null,description:"",name:"onRouteUpdate",required:!1,type:{name:"((route: RouteVisualizationSchema) => void)"}},onOverlayToggle:{defaultValue:null,description:"",name:"onOverlayToggle",required:!1,type:{name:"((overlayType: string | number | symbol) => void)"}},onInteraction:{defaultValue:null,description:"",name:"onInteraction",required:!1,type:{name:"((event: RouteInteractionEvent) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}},renderMode:{defaultValue:null,description:"",name:"renderMode",required:!1,type:{name:"enum",value:[{value:'"performance"'},{value:'"quality"'}]}},updateStrategy:{defaultValue:null,description:"",name:"updateStrategy",required:!1,type:{name:"enum",value:[{value:'"immediate"'},{value:'"debounced"'},{value:'"batched"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/visualization/layers/WeatherOverlay.tsx#WeatherOverlay"]={docgenInfo:WeatherOverlay.__docgenInfo,name:"WeatherOverlay",path:"src/components/visualization/layers/WeatherOverlay.tsx#WeatherOverlay"})}catch(__react_docgen_typescript_loader_error){}const RouteVisualizationComposite=props=>(0,jsx_runtime.jsxs)("div",{className:"route-visualization-composite","data-testid":"route-visualization",children:[(0,jsx_runtime.jsx)(RouteLayer,{...props}),props.overlays.elevation&&(0,jsx_runtime.jsx)(ElevationLayer,{...props}),props.overlays.poi&&(0,jsx_runtime.jsx)(POIMarkers,{...props}),props.overlays.weather&&(0,jsx_runtime.jsx)(WeatherOverlay,{...props}),!1]});try{RouteVisualizationComposite.displayName="RouteVisualizationComposite",RouteVisualizationComposite.__docgenInfo={description:"",displayName:"RouteVisualizationComposite",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"RouteVisualizationSchema"}},overlays:{defaultValue:null,description:"",name:"overlays",required:!0,type:{name:"RouteVisualizationSchema"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!0,type:{name:"RouteVisualizationSchema"}},performance:{defaultValue:null,description:"",name:"performance",required:!0,type:{name:"RouteVisualizationSchema"}},onRouteUpdate:{defaultValue:null,description:"",name:"onRouteUpdate",required:!1,type:{name:"((route: RouteVisualizationSchema) => void)"}},onOverlayToggle:{defaultValue:null,description:"",name:"onOverlayToggle",required:!1,type:{name:"((overlayType: string | number | symbol) => void)"}},onInteraction:{defaultValue:null,description:"",name:"onInteraction",required:!1,type:{name:"((event: RouteInteractionEvent) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}},renderMode:{defaultValue:null,description:"",name:"renderMode",required:!1,type:{name:"enum",value:[{value:'"performance"'},{value:'"quality"'}]}},updateStrategy:{defaultValue:null,description:"",name:"updateStrategy",required:!1,type:{name:"enum",value:[{value:'"immediate"'},{value:'"debounced"'},{value:'"batched"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/visualization/RouteVisualizationComposite.tsx#RouteVisualizationComposite"]={docgenInfo:RouteVisualizationComposite.__docgenInfo,name:"RouteVisualizationComposite",path:"src/components/visualization/RouteVisualizationComposite.tsx#RouteVisualizationComposite"})}catch(__react_docgen_typescript_loader_error){}const MainApplicationView=()=>(0,jsx_runtime.jsxs)("div",{className:"app-layout","data-testid":"main-application",children:[(0,jsx_runtime.jsx)("div",{className:"left-panel",children:(0,jsx_runtime.jsx)(ActivityControls,{})}),(0,jsx_runtime.jsxs)("div",{className:"center-panel",children:[(0,jsx_runtime.jsx)(RouteVisualizationComposite,{}),(0,jsx_runtime.jsx)(RealTimeUpdates,{})]}),(0,jsx_runtime.jsx)("div",{className:"right-panel",children:(0,jsx_runtime.jsx)(FeedbackInterface,{})})]});try{MainApplicationView.displayName="MainApplicationView",MainApplicationView.__docgenInfo={description:"",displayName:"MainApplicationView",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/app/MainApplicationView.tsx#MainApplicationView"]={docgenInfo:MainApplicationView.__docgenInfo,name:"MainApplicationView",path:"src/components/app/MainApplicationView.tsx#MainApplicationView"})}catch(__react_docgen_typescript_loader_error){}const testData={routes:[{id:"route-1",name:"Mountain Trail Loop",type:"hiking",difficulty:"moderate",distance:8.5,elevation:450,duration:180,coordinates:[{lat:47.6062,lng:-122.3321,elevation:100},{lat:47.6063,lng:-122.3322,elevation:150}],points:[{type:"viewpoint",name:"Summit Overlook",coordinates:{lat:47.6065,lng:-122.3325}}]}],weather:{current:{temperature:18,conditions:"partly_cloudy",wind:{speed:5,direction:"NW"},precipitation:0},forecast:[{time:"2024-03-20T12:00:00Z",temperature:20,conditions:"sunny"}]},activities:[{type:"hiking",preferences:{difficulty:"moderate",terrain:["trail","mountain"],duration:"2-4h"}}],user:{preferences:{units:"metric",theme:"light",notifications:["weather","route-updates"]},history:[{date:"2024-03-19",route:"route-1",duration:165,distance:8.2}]}},MainApplication_stories={title:"Views/MainApplication",component:MainApplicationView,parameters:{layout:"fullscreen",chromatic:{viewports:[320,768,1440]}}},Default={args:{initialData:testData}},Loading={args:{initialData:null,loading:!0}},WithRoute={args:{initialData:{...testData,currentRoute:testData.routes[0]}}},WithError={args:{initialData:testData,error:new Error("Failed to load route")}},__namedExportsOrder=["Default","Loading","WithRoute","WithError"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialData: testData\n  }\n}",...Default.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialData: null,\n    loading: true\n  }\n}",...Loading.parameters?.docs?.source}}},WithRoute.parameters={...WithRoute.parameters,docs:{...WithRoute.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialData: {\n      ...testData,\n      currentRoute: testData.routes[0]\n    }\n  }\n}",...WithRoute.parameters?.docs?.source}}},WithError.parameters={...WithError.parameters,docs:{...WithError.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialData: testData,\n    error: new Error('Failed to load route')\n  }\n}",...WithError.parameters?.docs?.source}}}}}]);