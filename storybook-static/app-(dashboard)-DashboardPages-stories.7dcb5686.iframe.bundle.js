(self.webpackChunkroutopia=self.webpackChunkroutopia||[]).push([[991],{"./src/app/(dashboard)/DashboardPages.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ActivityHub:()=>ActivityHub,Overview:()=>Overview,POIExplorer:()=>POIExplorer,RoutePlanner:()=>RoutePlanner,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DashboardPages_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic);class ErrorBoundary extends react.Component{static getDerivedStateFromError(error){return{hasError:!0,error}}render(){return this.state.hasError?this.props.fallback||(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-900 text-white",children:(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[(0,jsx_runtime.jsx)("h2",{className:"text-xl mb-2",children:"Something went wrong"}),(0,jsx_runtime.jsx)("button",{className:"px-4 py-2 bg-teal-600 rounded hover:bg-teal-700",onClick:()=>window.location.reload(),children:"Reload Page"})]})}):this.props.children}constructor(props){super(props),this.state={hasError:!1}}}try{ErrorBoundary.displayName="ErrorBoundary",ErrorBoundary.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{fallback:{defaultValue:null,description:"",name:"fallback",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary.tsx#ErrorBoundary"]={docgenInfo:ErrorBoundary.__docgenInfo,name:"ErrorBoundary",path:"src/components/ErrorBoundary.tsx#ErrorBoundary"})}catch(__react_docgen_typescript_loader_error){}const ChatMessages=({messages,scrollDirection="down"})=>{const messagesEndRef=(0,react.useRef)(null),containerRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{containerRef.current&&(containerRef.current.scrollTop=containerRef.current.scrollHeight)}),[messages]),(0,jsx_runtime.jsxs)("div",{ref:containerRef,className:"p-4 space-y-4 min-h-0",children:[messages.map(((message,index)=>(0,jsx_runtime.jsx)("div",{className:"flex "+("user"===message.type?"justify-end":"justify-start"),children:(0,jsx_runtime.jsx)("div",{className:"max-w-[85%] rounded-lg p-3 "+("user"===message.type?"bg-blue-600 text-white":"bg-[#2D2D2D] text-white"),children:(0,jsx_runtime.jsx)("p",{className:"whitespace-pre-wrap break-words",children:message.content})})},index))),(0,jsx_runtime.jsx)("div",{ref:messagesEndRef})]})},chat_ChatMessages=ChatMessages;try{ChatMessages.displayName="ChatMessages",ChatMessages.__docgenInfo={description:"",displayName:"ChatMessages",props:{messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"Message[]"}},scrollDirection:{defaultValue:{value:"down"},description:"",name:"scrollDirection",required:!1,type:{name:"enum",value:[{value:'"up"'},{value:'"down"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/chat/ChatMessages.tsx#ChatMessages"]={docgenInfo:ChatMessages.__docgenInfo,name:"ChatMessages",path:"src/components/chat/ChatMessages.tsx#ChatMessages"})}catch(__react_docgen_typescript_loader_error){}const ChatInput=({onSendMessage})=>{const[message,setMessage]=(0,react.useState)("");return(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)("textarea",{value:message,onChange:e=>setMessage(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),message.trim()&&(onSendMessage(message.trim()),setMessage("")))},placeholder:"Enter your route planning question...",className:"w-full px-4 py-2 bg-stone-800 text-white rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-teal-500",rows:2,style:{minHeight:"50px",maxHeight:"80px"}}),(0,jsx_runtime.jsx)("div",{className:"absolute right-2 bottom-1 text-xs text-stone-400",children:"Press Enter to send"})]})},chat_ChatInput=ChatInput;try{ChatInput.displayName="ChatInput",ChatInput.__docgenInfo={description:"",displayName:"ChatInput",props:{onSendMessage:{defaultValue:null,description:"",name:"onSendMessage",required:!0,type:{name:"(message: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/chat/ChatInput.tsx#ChatInput"]={docgenInfo:ChatInput.__docgenInfo,name:"ChatInput",path:"src/components/chat/ChatInput.tsx#ChatInput"})}catch(__react_docgen_typescript_loader_error){}var console=__webpack_require__("./node_modules/console-browserify/index.js");const ChatWindow=({onSendMessage,onDestinationChange})=>{const[messages,setMessages]=(0,react.useState)([{type:"assistant",content:"I'm here to help you plan routes in Colorado. Where would you like to go?"}]);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col h-full",children:[(0,jsx_runtime.jsx)("div",{className:"p-4 border-b border-stone-800",children:(0,jsx_runtime.jsx)("h2",{className:"text-white text-lg font-semibold",children:"RouteGPT"})}),(0,jsx_runtime.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,jsx_runtime.jsx)(chat_ChatMessages,{messages})}),(0,jsx_runtime.jsx)("div",{className:"p-4 border-t border-stone-800",children:(0,jsx_runtime.jsx)(chat_ChatInput,{onSendMessage:async message=>{setMessages((prev=>[...prev,{type:"user",content:message}]));try{const response=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message})}),data=await response.json();setMessages((prev=>[...prev,{type:"assistant",content:data.message}])),onSendMessage(data.message),onDestinationChange&&data.destination&&onDestinationChange(data.destination)}catch(error){console.error("Chat error:",error),setMessages((prev=>[...prev,{type:"assistant",content:"Sorry, I encountered an error processing your request."}]))}}})})]})},chat_ChatWindow=ChatWindow;try{ChatWindow.displayName="ChatWindow",ChatWindow.__docgenInfo={description:"",displayName:"ChatWindow",props:{onSendMessage:{defaultValue:null,description:"",name:"onSendMessage",required:!0,type:{name:"(message: string) => void"}},onDestinationChange:{defaultValue:null,description:"",name:"onDestinationChange",required:!1,type:{name:"((destination: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/chat/ChatWindow.tsx#ChatWindow"]={docgenInfo:ChatWindow.__docgenInfo,name:"ChatWindow",path:"src/components/chat/ChatWindow.tsx#ChatWindow"})}catch(__react_docgen_typescript_loader_error){}var x=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/x.js"),search=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/search.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),bundle_mjs=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,bundle_mjs.QP)((0,clsx.$)(inputs))}const Input=react.forwardRef((({className,type,...props},ref)=>(0,jsx_runtime.jsx)("input",{type,className:cn("flex h-10 w-full rounded-md border border-stone-700 bg-stone-800 px-3 py-2 text-sm text-stone-50 ring-offset-stone-900 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-stone-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",className),ref,...props})));Input.displayName="Input";try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/ui/input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}function cn_cn(...inputs){return(0,bundle_mjs.QP)((0,clsx.$)(inputs))}const buttonVariants=(0,__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs").F)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-teal-600 text-white hover:bg-teal-500",secondary:"bg-stone-800 text-white hover:bg-stone-700",outline:"border border-stone-700 hover:bg-stone-800"},size:{sm:"h-9 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-11 px-8 text-lg"}},defaultVariants:{variant:"primary",size:"md"}});function Button({className,variant,size,...props}){return(0,jsx_runtime.jsx)("button",{className:cn_cn(buttonVariants({variant,size,className})),...props})}try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"primary" | "secondary" | "outline" | null'}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:'"sm" | "lg" | "md" | null'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/ui/button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}var SearchPanel_console=__webpack_require__("./node_modules/console-browserify/index.js");function SearchPanel({onClose,onLocationSelect}){const[searchResults,setSearchResults]=(0,react.useState)([]),[isLoading,setIsLoading]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{className:"absolute top-4 left-4 w-80 bg-stone-900/90 backdrop-blur-md rounded-lg p-4 shadow-lg",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-stone-100",children:"Search Location"}),(0,jsx_runtime.jsx)(Button,{variant:"ghost",size:"sm",onClick:onClose,className:"text-stone-400 hover:text-stone-300",children:(0,jsx_runtime.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(search.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-stone-400"}),(0,jsx_runtime.jsx)(Input,{type:"text",placeholder:"Search places...",className:"pl-10",onChange:e=>(async query=>{if(query){setIsLoading(!0);try{const response=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(query)}.json?access_token=pk.eyJ1Ijoicm91dG9waWEtYWkiLCJhIjoiY200MWkzb25xMHFtcjJxcHRmOTE3NTlrNSJ9.d2Ds8SJXnQzc2W1o50D76Q&types=place,address,poi&limit=5`),data=await response.json();setSearchResults(data.features)}catch(error){SearchPanel_console.error("Search error:",error)}finally{setIsLoading(!1)}}else setSearchResults([])})(e.target.value)})]}),isLoading&&(0,jsx_runtime.jsx)("div",{className:"mt-2 text-stone-400 text-sm",children:"Searching..."}),searchResults.length>0&&(0,jsx_runtime.jsx)("div",{className:"mt-2 max-h-60 overflow-y-auto space-y-1",children:searchResults.map((result=>(0,jsx_runtime.jsxs)("button",{className:"w-full text-left p-2 hover:bg-stone-800 text-stone-100 text-sm rounded transition-colors",onClick:()=>{onLocationSelect(result.center),onClose()},children:[(0,jsx_runtime.jsx)("div",{className:"font-medium",children:result.text}),(0,jsx_runtime.jsx)("div",{className:"text-xs text-stone-400",children:result.place_name})]},result.id)))})]})}try{SearchPanel.displayName="SearchPanel",SearchPanel.__docgenInfo={description:"",displayName:"SearchPanel",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onLocationSelect:{defaultValue:null,description:"",name:"onLocationSelect",required:!0,type:{name:"(coordinates: [number, number]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SearchPanel.tsx#SearchPanel"]={docgenInfo:SearchPanel.__docgenInfo,name:"SearchPanel",path:"src/components/SearchPanel.tsx#SearchPanel"})}catch(__react_docgen_typescript_loader_error){}var mapbox_gl=__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js"),mapbox_gl_default=__webpack_require__.n(mapbox_gl),SearchBox_console=__webpack_require__("./node_modules/console-browserify/index.js");function SearchBox({initialValue="",onSelect,placeholder}){const[query,setQuery]=(0,react.useState)(initialValue),[results,setResults]=(0,react.useState)([]),[isLoading,setIsLoading]=(0,react.useState)(!1),[showResults,setShowResults]=(0,react.useState)(!1),timeoutRef=(0,react.useRef)();(0,react.useEffect)((()=>()=>{timeoutRef.current&&clearTimeout(timeoutRef.current)}),[]);const handleSearch=value=>{setQuery(value),timeoutRef.current&&clearTimeout(timeoutRef.current),timeoutRef.current=setTimeout((()=>{(async searchQuery=>{if(searchQuery.trim()){setIsLoading(!0);try{const response=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(searchQuery)}.json?access_token=${mapbox_gl_default().accessToken}&types=address,poi,place&limit=5`),data=await response.json();setResults(data.features.map((feature=>({coordinates:feature.center,place_name:feature.place_name}))))}catch(error){SearchBox_console.error("Search error:",error),setResults([])}finally{setIsLoading(!1)}}else setResults([])})(value)}),300)};return(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)("input",{type:"text",value:query,onChange:e=>handleSearch(e.target.value),onFocus:()=>setShowResults(!0),placeholder,className:"w-full px-4 py-2 bg-stone-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500"}),showResults&&results.length>0&&(0,jsx_runtime.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-stone-800 rounded-md shadow-lg max-h-60 overflow-auto",children:results.map(((result,index)=>(0,jsx_runtime.jsx)("button",{className:"w-full px-4 py-2 text-left text-stone-300 hover:bg-stone-700 focus:outline-none",onClick:()=>{setQuery(result.place_name),onSelect(result),setShowResults(!1)},children:result.place_name},index)))}),isLoading&&(0,jsx_runtime.jsx)("div",{className:"absolute right-3 top-2.5",children:(0,jsx_runtime.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-emerald-500 rounded-full border-t-transparent"})})]})}try{SearchBox.displayName="SearchBox",SearchBox.__docgenInfo={description:"",displayName:"SearchBox",props:{initialValue:{defaultValue:{value:""},description:"",name:"initialValue",required:!1,type:{name:"string"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(result: SearchResult) => void"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SearchBox.tsx#SearchBox"]={docgenInfo:SearchBox.__docgenInfo,name:"SearchBox",path:"src/components/SearchBox.tsx#SearchBox"})}catch(__react_docgen_typescript_loader_error){}dynamic_default()((()=>__webpack_require__.e(371).then(__webpack_require__.bind(__webpack_require__,"./src/components/Map.tsx"))),{loadableGenerated:{webpack:()=>["./src/components/Map.tsx"]},ssr:!1});function RoutePanel({onClose,startLocation,endLocation,waypoints,onStartLocationChange,onEndLocationChange,onWaypointAdd}){return(0,jsx_runtime.jsxs)("div",{className:"absolute top-4 right-4 bg-stone-800/95 backdrop-blur-md p-6 rounded-lg shadow-lg w-96",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,jsx_runtime.jsx)("h2",{className:"text-white text-lg font-semibold",children:"Plan Your Route"}),(0,jsx_runtime.jsx)("button",{onClick:onClose,className:"text-stone-400 hover:text-white",children:"×"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 text-sm mb-1 block",children:"Start Location"}),(0,jsx_runtime.jsx)(SearchBox,{initialValue:(null==startLocation?void 0:startLocation.address)||"",onSelect:result=>onStartLocationChange(result),placeholder:"Enter start location"})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"text-stone-300 text-sm mb-1 block",children:"Destination"}),(0,jsx_runtime.jsx)(SearchBox,{initialValue:(null==endLocation?void 0:endLocation.address)||"",onSelect:result=>onEndLocationChange(result),placeholder:"Enter destination"})]})]})]})}try{RoutePanel.displayName="RoutePanel",RoutePanel.__docgenInfo={description:"",displayName:"RoutePanel",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},startLocation:{defaultValue:null,description:"",name:"startLocation",required:!0,type:{name:"Location | null"}},endLocation:{defaultValue:null,description:"",name:"endLocation",required:!0,type:{name:"Location | null"}},waypoints:{defaultValue:null,description:"",name:"waypoints",required:!0,type:{name:"Location[]"}},onStartLocationChange:{defaultValue:null,description:"",name:"onStartLocationChange",required:!0,type:{name:"(location: Location) => void"}},onEndLocationChange:{defaultValue:null,description:"",name:"onEndLocationChange",required:!0,type:{name:"(location: Location) => void"}},onWaypointAdd:{defaultValue:null,description:"",name:"onWaypointAdd",required:!0,type:{name:"(location: Location) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RoutePanel.tsx#RoutePanel"]={docgenInfo:RoutePanel.__docgenInfo,name:"RoutePanel",path:"src/components/RoutePanel.tsx#RoutePanel"})}catch(__react_docgen_typescript_loader_error){}var page_console=__webpack_require__("./node_modules/console-browserify/index.js");const page_Map=dynamic_default()((()=>__webpack_require__.e(371).then(__webpack_require__.bind(__webpack_require__,"./src/components/Map.tsx"))),{loadableGenerated:{webpack:()=>["./src/components/Map.tsx"]},ssr:!1,loading:()=>(0,jsx_runtime.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-stone-900",children:(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-teal-500"})})});var navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),next=__webpack_require__("./node_modules/next-auth/next/index.js"),command=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/command.js"),formatters=__webpack_require__("./src/utils/formatters.ts");function CommandPalette({isOpen,onClose}){const[searchQuery,setSearchQuery]=(0,react.useState)(""),[selectedIndex,setSelectedIndex]=(0,react.useState)(0),inputRef=(0,react.useRef)(null),router=(0,navigation.useRouter)(),filteredCommands=[{id:"home",name:"Go to Home",description:"Return to the home page",shortcut:["g","h"],icon:"🏠",action:()=>router.push("/")},{id:"new-route",name:"Create New Route",description:"Start planning a new route",shortcut:["c","r"],icon:"🗺️",action:()=>router.push("/routes/new")}].filter((command=>{var _command_description;return command.name.toLowerCase().includes(searchQuery.toLowerCase())||(null===(_command_description=command.description)||void 0===_command_description?void 0:_command_description.toLowerCase().includes(searchQuery.toLowerCase()))}));return(0,react.useEffect)((()=>{var _inputRef_current;isOpen?(null===(_inputRef_current=inputRef.current)||void 0===_inputRef_current||_inputRef_current.focus(),document.body.style.overflow="hidden"):(document.body.style.overflow="unset",setSearchQuery(""),setSelectedIndex(0))}),[isOpen]),(0,react.useEffect)((()=>{const handleKeyDown=e=>{if(isOpen)switch(e.key){case"ArrowDown":e.preventDefault(),setSelectedIndex((i=>i<filteredCommands.length-1?i+1:0));break;case"ArrowUp":e.preventDefault(),setSelectedIndex((i=>i>0?i-1:filteredCommands.length-1));break;case"Enter":e.preventDefault(),filteredCommands[selectedIndex]&&(filteredCommands[selectedIndex].action(),onClose());break;case"Escape":e.preventDefault(),onClose()}};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[isOpen,filteredCommands,selectedIndex,onClose]),isOpen?(0,jsx_runtime.jsx)("div",{className:(0,formatters.g)("fixed inset-0 z-50","bg-black/80 backdrop-blur-sm","flex items-start justify-center pt-[20vh]"),onClick:e=>{e.target===e.currentTarget&&onClose()},children:(0,jsx_runtime.jsxs)("div",{className:(0,formatters.g)("w-full max-w-2xl mx-4","bg-stone-900 rounded-xl","shadow-2xl shadow-black/20","border border-stone-800","divide-y divide-stone-800"),children:[(0,jsx_runtime.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[(0,jsx_runtime.jsx)(command.A,{className:"w-5 h-5 text-stone-400"}),(0,jsx_runtime.jsx)("input",{ref:inputRef,type:"text",value:searchQuery,onChange:e=>{setSearchQuery(e.target.value),setSelectedIndex(0)},placeholder:"Search commands...",className:(0,formatters.g)("flex-1 bg-transparent","text-white placeholder-stone-400","text-lg","focus:outline-none")}),searchQuery&&(0,jsx_runtime.jsx)("button",{onClick:()=>setSearchQuery(""),className:"text-stone-400 hover:text-stone-300",children:"Clear"})]}),(0,jsx_runtime.jsx)("div",{className:"max-h-[60vh] overflow-y-auto",children:0===filteredCommands.length?(0,jsx_runtime.jsx)("div",{className:"p-4 text-stone-400 text-center",children:"No commands found"}):(0,jsx_runtime.jsx)("div",{className:"py-2",children:filteredCommands.map(((command,index)=>(0,jsx_runtime.jsxs)("button",{onClick:()=>{command.action(),onClose()},className:(0,formatters.g)("w-full px-4 py-3","flex items-center gap-3","text-left","transition-colors duration-100",index===selectedIndex?"bg-stone-800 text-white":"text-stone-300 hover:bg-stone-800/50"),children:[(0,jsx_runtime.jsx)("span",{className:"flex-shrink-0",children:command.icon}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jsx_runtime.jsx)("div",{className:"font-medium",children:command.name}),command.description&&(0,jsx_runtime.jsx)("div",{className:"text-sm text-stone-400 truncate",children:command.description})]}),command.shortcut&&(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-1",children:command.shortcut.map(((key,i)=>(0,jsx_runtime.jsx)("kbd",{className:(0,formatters.g)("px-2 py-1 rounded","bg-stone-800","text-sm text-stone-400","border border-stone-700"),children:key},i)))})]},command.id)))})})]})}):null}try{CommandPalette.displayName="CommandPalette",CommandPalette.__docgenInfo={description:"",displayName:"CommandPalette",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CommandPalette.tsx#CommandPalette"]={docgenInfo:CommandPalette.__docgenInfo,name:"CommandPalette",path:"src/components/CommandPalette.tsx#CommandPalette"})}catch(__react_docgen_typescript_loader_error){}function DashboardLayoutClient({children}){const{isOpen,close}=function useCommandPalette(){const[isOpen,setIsOpen]=(0,react.useState)(!1),open=(0,react.useCallback)((()=>setIsOpen(!0)),[]),close=(0,react.useCallback)((()=>setIsOpen(!1)),[]),toggle=(0,react.useCallback)((()=>setIsOpen((prev=>!prev))),[]);return(0,react.useEffect)((()=>{const handleKeyDown=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),toggle())};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[toggle]),{isOpen,open,close,toggle}}();return(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-stone-900",children:[(0,jsx_runtime.jsx)("nav",{className:"h-16 border-b border-stone-800 bg-stone-900/50 backdrop-blur-xl fixed top-0 left-0 right-0 z-10",children:(0,jsx_runtime.jsxs)("div",{className:"h-full px-4 flex items-center justify-between",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("img",{src:"/routopia-logo.png",alt:"Routopia",className:"w-8 h-8"}),(0,jsx_runtime.jsx)("span",{className:"font-semibold text-white",children:"Routopia"})]}),(0,jsx_runtime.jsx)("button",{onClick:()=>close(),className:"px-3 py-1.5 text-sm text-stone-400 bg-stone-800 rounded-md border border-stone-700",children:"Press ⌘K"})]})}),(0,jsx_runtime.jsx)("main",{className:"pt-16",children}),(0,jsx_runtime.jsx)(CommandPalette,{isOpen,onClose:close})]})}try{DashboardLayoutClient.displayName="DashboardLayoutClient",DashboardLayoutClient.__docgenInfo={description:"",displayName:"DashboardLayoutClient",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/layout/DashboardLayoutClient.tsx#DashboardLayoutClient"]={docgenInfo:DashboardLayoutClient.__docgenInfo,name:"DashboardLayoutClient",path:"src/components/layout/DashboardLayoutClient.tsx#DashboardLayoutClient"})}catch(__react_docgen_typescript_loader_error){}async function DashboardLayout({children}){const session=await(0,next.Mt)();return(null==session?void 0:session.user)||(0,navigation.redirect)("/"),(0,jsx_runtime.jsx)(DashboardLayoutClient,{children})}try{layout.displayName="layout",layout.__docgenInfo={description:"",displayName:"layout",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/(dashboard)/layout.tsx#layout"]={docgenInfo:layout.__docgenInfo,name:"layout",path:"src/app/(dashboard)/layout.tsx#layout"})}catch(__react_docgen_typescript_loader_error){}var MapView=__webpack_require__("./src/components/shared/MapView/index.tsx"),AIChat=__webpack_require__("./src/components/shared/AIChat/index.tsx"),WeatherWidget=__webpack_require__("./src/components/shared/WeatherWidget/index.tsx");function RoutePlannerPage(){return(0,jsx_runtime.jsxs)("div",{className:"route-planner",children:[(0,jsx_runtime.jsx)("div",{className:"route-planner__map",children:(0,jsx_runtime.jsx)(MapView.K,{})}),(0,jsx_runtime.jsxs)("div",{className:"route-planner__sidebar",children:[(0,jsx_runtime.jsx)(WeatherWidget.J,{}),(0,jsx_runtime.jsx)(AIChat.n,{})]})]})}var ActivityTracker=__webpack_require__("./src/components/shared/ActivityTracker/index.tsx");function ActivityHubPage(){return(0,jsx_runtime.jsxs)("div",{className:"activity-hub",children:[(0,jsx_runtime.jsx)("div",{className:"activity-hub__main",children:(0,jsx_runtime.jsx)(ActivityTracker.m,{})}),(0,jsx_runtime.jsxs)("div",{className:"activity-hub__sidebar",children:[(0,jsx_runtime.jsx)(WeatherWidget.J,{}),(0,jsx_runtime.jsx)(AIChat.n,{})]})]})}function POIExplorerPage(){return(0,jsx_runtime.jsxs)("div",{className:"poi-explorer",children:[(0,jsx_runtime.jsx)("div",{className:"poi-explorer__map",children:(0,jsx_runtime.jsx)(MapView.K,{})}),(0,jsx_runtime.jsxs)("div",{className:"poi-explorer__sidebar",children:[(0,jsx_runtime.jsx)(WeatherWidget.J,{}),(0,jsx_runtime.jsx)(AIChat.n,{})]})]})}const DashboardPages_stories={title:"Pages/Dashboard",component:function DashboardPage(){const mapRef=(0,react.useRef)(null),[startLocation,setStartLocation]=(0,react.useState)(""),[destination,setDestination]=(0,react.useState)(""),[showSearchPanel,setShowSearchPanel]=(0,react.useState)(!1),[showRoutePanel,setShowRoutePanel]=(0,react.useState)(!1),handleLocationSelect=coords=>{page_console.log("Location selected:",coords)};return(0,jsx_runtime.jsx)("div",{className:"flex flex-col h-screen bg-stone-900",children:(0,jsx_runtime.jsxs)("main",{className:"flex-1 flex relative",children:[(0,jsx_runtime.jsx)("div",{className:"w-[350px] flex flex-col bg-stone-900 border-r border-stone-800",children:(0,jsx_runtime.jsx)(chat_ChatWindow,{onSendMessage:message=>{var _mapRef_current;null===(_mapRef_current=mapRef.current)||void 0===_mapRef_current||_mapRef_current.showResponse(message)},onDestinationChange:setDestination})}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 relative",children:[(0,jsx_runtime.jsx)(ErrorBoundary,{children:(0,jsx_runtime.jsx)(page_Map,{ref:mapRef,startLocation:null,endLocation:null,waypoints:[],onLocationSelect:handleLocationSelect,onStartLocationChange:setStartLocation,onDestinationChange:setDestination})}),showSearchPanel&&(0,jsx_runtime.jsx)(SearchPanel,{onClose:()=>setShowSearchPanel(!1),onLocationSelect:handleLocationSelect}),showRoutePanel&&(0,jsx_runtime.jsx)(RoutePanel,{onClose:()=>setShowRoutePanel(!1),startLocation:null,endLocation:null,waypoints:[],onStartLocationChange:loc=>setStartLocation(loc.address),onEndLocationChange:loc=>setDestination(loc.address),onWaypointAdd:()=>{}})]}),(0,jsx_runtime.jsxs)("div",{className:"w-[350px] flex flex-col bg-stone-900 border-l border-stone-800",children:[(0,jsx_runtime.jsx)("div",{className:"p-4 border-b border-stone-800",children:(0,jsx_runtime.jsx)("h2",{className:"text-white text-lg font-semibold",children:"My Routes"})}),(0,jsx_runtime.jsx)("div",{className:"flex-1 overflow-auto p-4"})]})]})})},parameters:{layout:"fullscreen"},decorators:[Story=>(0,jsx_runtime.jsx)(DashboardLayout,{children:(0,jsx_runtime.jsx)(Story,{})})]},Overview={args:{}},RoutePlanner={render:()=>(0,jsx_runtime.jsx)(RoutePlannerPage,{})},ActivityHub={render:()=>(0,jsx_runtime.jsx)(ActivityHubPage,{})},POIExplorer={render:()=>(0,jsx_runtime.jsx)(POIExplorerPage,{})},__namedExportsOrder=["Overview","RoutePlanner","ActivityHub","POIExplorer"];Overview.parameters={...Overview.parameters,docs:{...Overview.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Overview.parameters?.docs?.source}}},RoutePlanner.parameters={...RoutePlanner.parameters,docs:{...RoutePlanner.parameters?.docs,source:{originalSource:"{\n  render: () => <RoutePlannerPage />\n}",...RoutePlanner.parameters?.docs?.source}}},ActivityHub.parameters={...ActivityHub.parameters,docs:{...ActivityHub.parameters?.docs,source:{originalSource:"{\n  render: () => <ActivityHubPage />\n}",...ActivityHub.parameters?.docs?.source}}},POIExplorer.parameters={...POIExplorer.parameters,docs:{...POIExplorer.parameters?.docs,source:{originalSource:"{\n  render: () => <POIExplorerPage />\n}",...POIExplorer.parameters?.docs?.source}}}},"./src/components/shared/AIChat/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>AIChat});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function AIChat(){const[messages,setMessages]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[input,setInput]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"ai-chat",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"ai-chat__messages",children:messages.map(((msg,i)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`ai-chat__message ai-chat__message--${msg.role}`,children:msg.content},i)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!input.trim())return;const newMessage={role:"user",content:input};setMessages((prev=>[...prev,newMessage])),setInput("")},className:"ai-chat__input",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:input,onChange:e=>setInput(e.target.value),placeholder:"Ask me anything...",className:"ai-chat__input-field"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",className:"ai-chat__submit",children:"Send"})]})]})}},"./src/components/shared/ActivityTracker/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>ActivityTracker});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function ActivityTracker(){const[activities,setActivities]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setTimeout((()=>{setActivities([{id:"1",type:"Running",duration:45,distance:5.2,date:"2024-01-10"},{id:"2",type:"Cycling",duration:90,distance:20.5,date:"2024-01-09"}]),setLoading(!1)}),1e3)}),[]),loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"activity-tracker activity-tracker--loading",children:"Loading..."}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"activity-tracker",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"activity-tracker__title",children:"Recent Activities"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"activity-tracker__list",children:activities.map((activity=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"activity-tracker__item",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"activity-tracker__type",children:activity.type}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"activity-tracker__stats",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:[activity.distance," miles"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:[activity.duration," minutes"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"activity-tracker__date",children:activity.date})]},activity.id)))})]})}},"./src/components/shared/MapView/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>MapView});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),mapbox_gl=__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js"),mapbox_gl_default=__webpack_require__.n(mapbox_gl);const MAPBOX_TOKEN="pk.eyJ1Ijoicm91dG9waWEtYWkiLCJhIjoiY200MWkzb25xMHFtcjJxcHRmOTE3NTlrNSJ9.d2Ds8SJXnQzc2W1o50D76Q";mapbox_gl_default().accessToken=MAPBOX_TOKEN;const mapboxService=new class MapboxService{createMap(options){return new(mapbox_gl_default().Map)({container:options.container,style:options.style||"mapbox://styles/mapbox/dark-v11",center:options.center||[-74.5,40],zoom:options.zoom||9})}createMarker(options={}){return new(mapbox_gl_default().Marker)({color:options.color,draggable:options.draggable})}async getRoute(start,end){const query=await fetch(`https://api.mapbox.com/directions/v5/mapbox/cycling/${start[0]},${start[1]};${end[0]},${end[1]}?geometries=geojson&access_token=${MAPBOX_TOKEN}`);return(await query.json()).routes[0]}async searchPlace(query){const response=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(query)}.json?access_token=${MAPBOX_TOKEN}`);return(await response.json()).features}};__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css");function MapView({center=[-74.5,40],zoom=9,onMapLoad,className=""}){const mapContainer=(0,react.useRef)(null),map=(0,react.useRef)(null),[loaded,setLoaded]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{if(mapContainer.current&&!map.current)return map.current=mapboxService.createMap({container:mapContainer.current,center,zoom}),map.current.on("load",(()=>{setLoaded(!0),onMapLoad&&map.current&&onMapLoad(map.current)})),()=>{map.current&&(map.current.remove(),map.current=null)}}),[center,zoom,onMapLoad]),(0,jsx_runtime.jsx)("div",{ref:mapContainer,className:`map-view w-full h-full min-h-[400px] ${className}`})}try{MapView.displayName="MapView",MapView.__docgenInfo={description:"",displayName:"MapView",props:{center:{defaultValue:{value:"[-74.5, 40]"},description:"",name:"center",required:!1,type:{name:"[number, number]"}},zoom:{defaultValue:{value:"9"},description:"",name:"zoom",required:!1,type:{name:"number"}},onMapLoad:{defaultValue:null,description:"",name:"onMapLoad",required:!1,type:{name:"((map: Map) => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/shared/MapView/index.tsx#MapView"]={docgenInfo:MapView.__docgenInfo,name:"MapView",path:"src/components/shared/MapView/index.tsx#MapView"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/shared/WeatherWidget/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>WeatherWidget});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const WeatherWidget=({temperature=20,conditions="Clear",location="New York, NY",isLoading=!1,error})=>isLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"weather-widget loading",children:"Loading weather data..."}):error?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"weather-widget error",children:error}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"weather-widget",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"location",children:location}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"temperature",children:[temperature,"°C"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"conditions",children:conditions})]});try{WeatherWidget.displayName="WeatherWidget",WeatherWidget.__docgenInfo={description:"",displayName:"WeatherWidget",props:{temperature:{defaultValue:{value:"20"},description:"",name:"temperature",required:!1,type:{name:"number"}},conditions:{defaultValue:{value:"Clear"},description:"",name:"conditions",required:!1,type:{name:"string"}},location:{defaultValue:{value:"New York, NY"},description:"",name:"location",required:!1,type:{name:"string"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/shared/WeatherWidget/index.tsx#WeatherWidget"]={docgenInfo:WeatherWidget.__docgenInfo,name:"WeatherWidget",path:"src/components/shared/WeatherWidget/index.tsx#WeatherWidget"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/formatters.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getTypographyClass(scale){return{xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl"}[scale]}function combineClasses(...classes){return classes.filter(Boolean).join(" ")}__webpack_require__.d(__webpack_exports__,{P:()=>getTypographyClass,g:()=>combineClasses})},"./node_modules/openid-client/node_modules/object-hash/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/openid-client/node_modules/object-hash/dist sync recursive",module.exports=webpackEmptyContext},"?d546":()=>{},"?8131":()=>{},"?3fc0":()=>{},"?cad2":()=>{},"?593c":()=>{},"?4068":()=>{},"?e7e4":()=>{},"?7bec":()=>{},"?0aec":()=>{},"?4f7e":()=>{},"?fbf1":()=>{}}]);