/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@mapbox";
exports.ids = ["vendor-chunks/@mapbox"];
exports.modules = {

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js":
/*!********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js ***!
  \********************************************************************/
/***/ (function(module) {

eval("!function(t,e){ true?module.exports=e():0}(this,(function(){\"use strict\";var t=function(t,e){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},o={on:function(t,e,o){if(void 0===n[t])throw new Error(\"Invalid event type: \"+t);n[t].push({selector:e,fn:o})},render:function(t){e.store.featureChanged(t)}},r=function(t,r){for(var i=n[t],a=i.length;a--;){var s=i[a];if(s.selector(r)){s.fn.call(o,r)||e.store.render(),e.ui.updateMapClasses();break}}};return t.start.call(o),{render:t.render,stop:function(){t.stop&&t.stop()},trash:function(){t.trash&&(t.trash(),e.store.render())},combineFeatures:function(){t.combineFeatures&&t.combineFeatures()},uncombineFeatures:function(){t.uncombineFeatures&&t.uncombineFeatures()},drag:function(t){r(\"drag\",t)},click:function(t){r(\"click\",t)},mousemove:function(t){r(\"mousemove\",t)},mousedown:function(t){r(\"mousedown\",t)},mouseup:function(t){r(\"mouseup\",t)},mouseout:function(t){r(\"mouseout\",t)},keydown:function(t){r(\"keydown\",t)},keyup:function(t){r(\"keyup\",t)},touchstart:function(t){r(\"touchstart\",t)},touchmove:function(t){r(\"touchmove\",t)},touchend:function(t){r(\"touchend\",t)},tap:function(t){r(\"tap\",t)}}};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function n(t){if(t.__esModule)return t;var e=t.default;if(\"function\"==typeof e){var n=function t(){if(this instanceof t){var n=[null];n.push.apply(n,arguments);var o=Function.bind.apply(e,n);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,\"__esModule\",{value:!0}),Object.keys(t).forEach((function(e){var o=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,o.get?o:{enumerable:!0,get:function(){return t[e]}})})),n}var o={},r={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142},i=r;function a(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,o,r,a,s,c=0,l=t.length;if(l>2){for(s=0;s<l;s++)s===l-2?(o=l-2,r=l-1,a=0):s===l-1?(o=l-1,r=0,a=1):(o=s,r=s+1,a=s+2),e=t[o],n=t[r],c+=(u(t[a][0])-u(e[0]))*Math.sin(u(n[1]));c=c*i.RADIUS*i.RADIUS/2}return c}function u(t){return t*Math.PI/180}o.geometry=function t(e){var n,o=0;switch(e.type){case\"Polygon\":return a(e.coordinates);case\"MultiPolygon\":for(n=0;n<e.coordinates.length;n++)o+=a(e.coordinates[n]);return o;case\"Point\":case\"MultiPoint\":case\"LineString\":case\"MultiLineString\":return 0;case\"GeometryCollection\":for(n=0;n<e.geometries.length;n++)o+=t(e.geometries[n]);return o}},o.ring=s;var c={CONTROL_BASE:\"mapboxgl-ctrl\",CONTROL_PREFIX:\"mapboxgl-ctrl-\",CONTROL_BUTTON:\"mapbox-gl-draw_ctrl-draw-btn\",CONTROL_BUTTON_LINE:\"mapbox-gl-draw_line\",CONTROL_BUTTON_POLYGON:\"mapbox-gl-draw_polygon\",CONTROL_BUTTON_POINT:\"mapbox-gl-draw_point\",CONTROL_BUTTON_TRASH:\"mapbox-gl-draw_trash\",CONTROL_BUTTON_COMBINE_FEATURES:\"mapbox-gl-draw_combine\",CONTROL_BUTTON_UNCOMBINE_FEATURES:\"mapbox-gl-draw_uncombine\",CONTROL_GROUP:\"mapboxgl-ctrl-group\",ATTRIBUTION:\"mapboxgl-ctrl-attrib\",ACTIVE_BUTTON:\"active\",BOX_SELECT:\"mapbox-gl-draw_boxselect\"},l={HOT:\"mapbox-gl-draw-hot\",COLD:\"mapbox-gl-draw-cold\"},d={ADD:\"add\",MOVE:\"move\",DRAG:\"drag\",POINTER:\"pointer\",NONE:\"none\"},p={POLYGON:\"polygon\",LINE:\"line_string\",POINT:\"point\"},f={FEATURE:\"Feature\",POLYGON:\"Polygon\",LINE_STRING:\"LineString\",POINT:\"Point\",FEATURE_COLLECTION:\"FeatureCollection\",MULTI_PREFIX:\"Multi\",MULTI_POINT:\"MultiPoint\",MULTI_LINE_STRING:\"MultiLineString\",MULTI_POLYGON:\"MultiPolygon\"},h={DRAW_LINE_STRING:\"draw_line_string\",DRAW_POLYGON:\"draw_polygon\",DRAW_POINT:\"draw_point\",SIMPLE_SELECT:\"simple_select\",DIRECT_SELECT:\"direct_select\",STATIC:\"static\"},g={CREATE:\"draw.create\",DELETE:\"draw.delete\",UPDATE:\"draw.update\",SELECTION_CHANGE:\"draw.selectionchange\",MODE_CHANGE:\"draw.modechange\",ACTIONABLE:\"draw.actionable\",RENDER:\"draw.render\",COMBINE_FEATURES:\"draw.combine\",UNCOMBINE_FEATURES:\"draw.uncombine\"},y={MOVE:\"move\",CHANGE_COORDINATES:\"change_coordinates\"},v={FEATURE:\"feature\",MIDPOINT:\"midpoint\",VERTEX:\"vertex\"},m={ACTIVE:\"true\",INACTIVE:\"false\"},_=[\"scrollZoom\",\"boxZoom\",\"dragRotate\",\"dragPan\",\"keyboard\",\"doubleClickZoom\",\"touchZoomRotate\"],b=-85,E=Object.freeze({__proto__:null,classes:c,sources:l,cursors:d,types:p,geojsonTypes:f,modes:h,events:g,updateActions:y,meta:v,activeStates:m,interactions:_,LAT_MIN:-90,LAT_RENDERED_MIN:b,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),T={Point:0,LineString:1,MultiLineString:1,Polygon:2};function C(t,e){var n=T[t.geometry.type]-T[e.geometry.type];return 0===n&&t.geometry.type===f.POLYGON?t.area-e.area:n}function O(t){return t.map((function(t){return t.geometry.type===f.POLYGON&&(t.area=o.geometry({type:f.FEATURE,property:{},geometry:t.geometry})),t})).sort(C).map((function(t){return delete t.area,t}))}function S(t,e){return void 0===e&&(e=0),[[t.point.x-e,t.point.y-e],[t.point.x+e,t.point.y+e]]}function I(t){if(this._items={},this._nums={},this._length=t?t.length:0,t)for(var e=0,n=t.length;e<n;e++)this.add(t[e]),void 0!==t[e]&&(\"string\"==typeof t[e]?this._items[t[e]]=e:this._nums[t[e]]=e)}I.prototype.add=function(t){return this.has(t)||(this._length++,\"string\"==typeof t?this._items[t]=this._length:this._nums[t]=this._length),this},I.prototype.delete=function(t){return!1===this.has(t)||(this._length--,delete this._items[t],delete this._nums[t]),this},I.prototype.has=function(t){return(\"string\"==typeof t||\"number\"==typeof t)&&(void 0!==this._items[t]||void 0!==this._nums[t])},I.prototype.values=function(){var t=this,e=[];return Object.keys(this._items).forEach((function(n){e.push({k:n,v:t._items[n]})})),Object.keys(this._nums).forEach((function(n){e.push({k:JSON.parse(n),v:t._nums[n]})})),e.sort((function(t,e){return t.v-e.v})).map((function(t){return t.k}))},I.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var x=[v.FEATURE,v.MIDPOINT,v.VERTEX],M={click:function(t,e,n){return L(t,e,n,n.options.clickBuffer)},touch:function(t,e,n){return L(t,e,n,n.options.touchBuffer)}};function L(t,e,n,o){if(null===n.map)return[];var r=t?S(t,o):e,i={};n.options.styles&&(i.layers=n.options.styles.map((function(t){return t.id})).filter((function(t){return null!=n.map.getLayer(t)})));var a=n.map.queryRenderedFeatures(r,i).filter((function(t){return-1!==x.indexOf(t.properties.meta)})),s=new I,u=[];return a.forEach((function(t){var e=t.properties.id;s.has(e)||(s.add(e),u.push(t))})),O(u)}function N(t,e){var n=M.click(t,null,e),o={mouse:d.NONE};return n[0]&&(o.mouse=n[0].properties.active===m.ACTIVE?d.MOVE:d.POINTER,o.feature=n[0].properties.meta),-1!==e.events.currentModeName().indexOf(\"draw\")&&(o.mouse=d.ADD),e.ui.queueMapClasses(o),e.ui.updateMapClasses(),n[0]}function A(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}function P(t,e,n){void 0===n&&(n={});var o=null!=n.fineTolerance?n.fineTolerance:4,r=null!=n.grossTolerance?n.grossTolerance:12,i=null!=n.interval?n.interval:500;t.point=t.point||e.point,t.time=t.time||e.time;var a=A(t.point,e.point);return a<o||a<r&&e.time-t.time<i}function F(t,e,n){void 0===n&&(n={});var o=null!=n.tolerance?n.tolerance:25,r=null!=n.interval?n.interval:250;return t.point=t.point||e.point,t.time=t.time||e.time,A(t.point,e.point)<o&&e.time-t.time<r}var w={exports:{}},R=w.exports=function(t,e){if(e||(e=16),void 0===t&&(t=128),t<=0)return\"0\";for(var n=Math.log(Math.pow(2,t))/Math.log(e),o=2;n===1/0;o*=2)n=Math.log(Math.pow(2,t/o))/Math.log(e)*o;var r=n-Math.floor(n),i=\"\";for(o=0;o<Math.floor(n);o++){i=Math.floor(Math.random()*e).toString(e)+i}if(r){var a=Math.pow(e,r);i=Math.floor(Math.random()*a).toString(e)+i}var s=parseInt(i,e);return s!==1/0&&s>=Math.pow(2,t)?R(t,e):i};R.rack=function(t,e,n){var o=function(o){var i=0;do{if(i++>10){if(!n)throw new Error(\"too many ID collisions, use more bits\");t+=n}var a=R(t,e)}while(Object.hasOwnProperty.call(r,a));return r[a]=o,a},r=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=e||16,o};var k=e(w.exports),D=function(t,e){this.ctx=t,this.properties=e.properties||{},this.coordinates=e.geometry.coordinates,this.id=e.id||k(),this.type=e.geometry.type};D.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},D.prototype.incomingCoords=function(t){this.setCoordinates(t)},D.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},D.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},D.prototype.setProperty=function(t,e){this.properties[t]=e},D.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:f.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},D.prototype.internal=function(t){var e={id:this.id,meta:v.FEATURE,\"meta:type\":this.type,active:m.INACTIVE,mode:t};if(this.ctx.options.userProperties)for(var n in this.properties)e[\"user_\"+n]=this.properties[n];return{type:f.FEATURE,properties:e,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var U=function(t,e){D.call(this,t,e)};(U.prototype=Object.create(D.prototype)).isValid=function(){return\"number\"==typeof this.coordinates[0]&&\"number\"==typeof this.coordinates[1]},U.prototype.updateCoordinate=function(t,e,n){this.coordinates=3===arguments.length?[e,n]:[t,e],this.changed()},U.prototype.getCoordinate=function(){return this.getCoordinates()};var j=function(t,e){D.call(this,t,e)};(j.prototype=Object.create(D.prototype)).isValid=function(){return this.coordinates.length>1},j.prototype.addCoordinate=function(t,e,n){this.changed();var o=parseInt(t,10);this.coordinates.splice(o,0,[e,n])},j.prototype.getCoordinate=function(t){var e=parseInt(t,10);return JSON.parse(JSON.stringify(this.coordinates[e]))},j.prototype.removeCoordinate=function(t){this.changed(),this.coordinates.splice(parseInt(t,10),1)},j.prototype.updateCoordinate=function(t,e,n){var o=parseInt(t,10);this.coordinates[o]=[e,n],this.changed()};var V=function(t,e){D.call(this,t,e),this.coordinates=this.coordinates.map((function(t){return t.slice(0,-1)}))};(V.prototype=Object.create(D.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(t){return t.length>2}))},V.prototype.incomingCoords=function(t){this.coordinates=t.map((function(t){return t.slice(0,-1)})),this.changed()},V.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},V.prototype.addCoordinate=function(t,e,n){this.changed();var o=t.split(\".\").map((function(t){return parseInt(t,10)}));this.coordinates[o[0]].splice(o[1],0,[e,n])},V.prototype.removeCoordinate=function(t){this.changed();var e=t.split(\".\").map((function(t){return parseInt(t,10)})),n=this.coordinates[e[0]];n&&(n.splice(e[1],1),n.length<3&&this.coordinates.splice(e[0],1))},V.prototype.getCoordinate=function(t){var e=t.split(\".\").map((function(t){return parseInt(t,10)})),n=this.coordinates[e[0]];return JSON.parse(JSON.stringify(n[e[1]]))},V.prototype.getCoordinates=function(){return this.coordinates.map((function(t){return t.concat([t[0]])}))},V.prototype.updateCoordinate=function(t,e,n){this.changed();var o=t.split(\".\"),r=parseInt(o[0],10),i=parseInt(o[1],10);void 0===this.coordinates[r]&&(this.coordinates[r]=[]),this.coordinates[r][i]=[e,n]};var B={MultiPoint:U,MultiLineString:j,MultiPolygon:V},G=function(t,e,n,o,r){var i=n.split(\".\"),a=parseInt(i[0],10),s=i[1]?i.slice(1).join(\".\"):null;return t[a][e](s,o,r)},J=function(t,e){if(D.call(this,t,e),delete this.coordinates,this.model=B[e.geometry.type],void 0===this.model)throw new TypeError(e.geometry.type+\" is not a valid type\");this.features=this._coordinatesToFeatures(e.geometry.coordinates)};function z(t){this.map=t.map,this.drawConfig=JSON.parse(JSON.stringify(t.options||{})),this._ctx=t}(J.prototype=Object.create(D.prototype))._coordinatesToFeatures=function(t){var e=this,n=this.model.bind(this);return t.map((function(t){return new n(e.ctx,{id:k(),type:f.FEATURE,properties:{},geometry:{coordinates:t,type:e.type.replace(\"Multi\",\"\")}})}))},J.prototype.isValid=function(){return this.features.every((function(t){return t.isValid()}))},J.prototype.setCoordinates=function(t){this.features=this._coordinatesToFeatures(t),this.changed()},J.prototype.getCoordinate=function(t){return G(this.features,\"getCoordinate\",t)},J.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(t){return t.type===f.POLYGON?t.getCoordinates():t.coordinates}))))},J.prototype.updateCoordinate=function(t,e,n){G(this.features,\"updateCoordinate\",t,e,n),this.changed()},J.prototype.addCoordinate=function(t,e,n){G(this.features,\"addCoordinate\",t,e,n),this.changed()},J.prototype.removeCoordinate=function(t){G(this.features,\"removeCoordinate\",t),this.changed()},J.prototype.getFeatures=function(){return this.features},z.prototype.setSelected=function(t){return this._ctx.store.setSelected(t)},z.prototype.setSelectedCoordinates=function(t){var e=this;this._ctx.store.setSelectedCoordinates(t),t.reduce((function(t,n){return void 0===t[n.feature_id]&&(t[n.feature_id]=!0,e._ctx.store.get(n.feature_id).changed()),t}),{})},z.prototype.getSelected=function(){return this._ctx.store.getSelected()},z.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},z.prototype.isSelected=function(t){return this._ctx.store.isSelected(t)},z.prototype.getFeature=function(t){return this._ctx.store.get(t)},z.prototype.select=function(t){return this._ctx.store.select(t)},z.prototype.deselect=function(t){return this._ctx.store.deselect(t)},z.prototype.deleteFeature=function(t,e){return void 0===e&&(e={}),this._ctx.store.delete(t,e)},z.prototype.addFeature=function(t){return this._ctx.store.add(t)},z.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},z.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},z.prototype.setActionableState=function(t){void 0===t&&(t={});var e={trash:t.trash||!1,combineFeatures:t.combineFeatures||!1,uncombineFeatures:t.uncombineFeatures||!1};return this._ctx.events.actionable(e)},z.prototype.changeMode=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),this._ctx.events.changeMode(t,e,n)},z.prototype.updateUIClasses=function(t){return this._ctx.ui.queueMapClasses(t)},z.prototype.activateUIButton=function(t){return this._ctx.ui.setActiveButton(t)},z.prototype.featuresAt=function(t,e,n){if(void 0===n&&(n=\"click\"),\"click\"!==n&&\"touch\"!==n)throw new Error(\"invalid buffer type\");return M[n](t,e,this._ctx)},z.prototype.newFeature=function(t){var e=t.geometry.type;return e===f.POINT?new U(this._ctx,t):e===f.LINE_STRING?new j(this._ctx,t):e===f.POLYGON?new V(this._ctx,t):new J(this._ctx,t)},z.prototype.isInstanceOf=function(t,e){if(t===f.POINT)return e instanceof U;if(t===f.LINE_STRING)return e instanceof j;if(t===f.POLYGON)return e instanceof V;if(\"MultiFeature\"===t)return e instanceof J;throw new Error(\"Unknown feature class: \"+t)},z.prototype.doRender=function(t){return this._ctx.store.featureChanged(t)},z.prototype.onSetup=function(){},z.prototype.onDrag=function(){},z.prototype.onClick=function(){},z.prototype.onMouseMove=function(){},z.prototype.onMouseDown=function(){},z.prototype.onMouseUp=function(){},z.prototype.onMouseOut=function(){},z.prototype.onKeyUp=function(){},z.prototype.onKeyDown=function(){},z.prototype.onTouchStart=function(){},z.prototype.onTouchMove=function(){},z.prototype.onTouchEnd=function(){},z.prototype.onTap=function(){},z.prototype.onStop=function(){},z.prototype.onTrash=function(){},z.prototype.onCombineFeature=function(){},z.prototype.onUncombineFeature=function(){},z.prototype.toDisplayFeatures=function(){throw new Error(\"You must overwrite toDisplayFeatures\")};var Y={drag:\"onDrag\",click:\"onClick\",mousemove:\"onMouseMove\",mousedown:\"onMouseDown\",mouseup:\"onMouseUp\",mouseout:\"onMouseOut\",keyup:\"onKeyUp\",keydown:\"onKeyDown\",touchstart:\"onTouchStart\",touchmove:\"onTouchMove\",touchend:\"onTouchEnd\",tap:\"onTap\"},$=Object.keys(Y);function q(t){var e=Object.keys(t);return function(n,o){void 0===o&&(o={});var r={},i=e.reduce((function(e,n){return e[n]=t[n],e}),new z(n));return{start:function(){var e=this;r=i.onSetup(o),$.forEach((function(n){var o,a=Y[n],s=function(){return!1};t[a]&&(s=function(){return!0}),e.on(n,s,(o=a,function(t){return i[o](r,t)}))}))},stop:function(){i.onStop(r)},trash:function(){i.onTrash(r)},combineFeatures:function(){i.onCombineFeatures(r)},uncombineFeatures:function(){i.onUncombineFeatures(r)},render:function(t,e){i.toDisplayFeatures(r,t,e)}}}}function H(t){return[].concat(t).filter((function(t){return void 0!==t}))}function X(){var t=this;if(!(t.ctx.map&&void 0!==t.ctx.map.getSource(l.HOT)))return u();var e=t.ctx.events.currentModeName();t.ctx.ui.queueMapClasses({mode:e});var n=[],o=[];t.isDirty?o=t.getAllIds():(n=t.getChangedIds().filter((function(e){return void 0!==t.get(e)})),o=t.sources.hot.filter((function(e){return e.properties.id&&-1===n.indexOf(e.properties.id)&&void 0!==t.get(e.properties.id)})).map((function(t){return t.properties.id}))),t.sources.hot=[];var r=t.sources.cold.length;t.sources.cold=t.isDirty?[]:t.sources.cold.filter((function(t){var e=t.properties.id||t.properties.parent;return-1===n.indexOf(e)}));var i=r!==t.sources.cold.length||o.length>0;function a(n,o){var r=t.get(n).internal(e);t.ctx.events.currentModeRender(r,(function(e){t.sources[o].push(e)}))}if(n.forEach((function(t){return a(t,\"hot\")})),o.forEach((function(t){return a(t,\"cold\")})),i&&t.ctx.map.getSource(l.COLD).setData({type:f.FEATURE_COLLECTION,features:t.sources.cold}),t.ctx.map.getSource(l.HOT).setData({type:f.FEATURE_COLLECTION,features:t.sources.hot}),t._emitSelectionChange&&(t.ctx.map.fire(g.SELECTION_CHANGE,{features:t.getSelected().map((function(t){return t.toGeoJSON()})),points:t.getSelectedCoordinates().map((function(t){return{type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:t.coordinates}}}))}),t._emitSelectionChange=!1),t._deletedFeaturesToEmit.length){var s=t._deletedFeaturesToEmit.map((function(t){return t.toGeoJSON()}));t._deletedFeaturesToEmit=[],t.ctx.map.fire(g.DELETE,{features:s})}function u(){t.isDirty=!1,t.clearChangedIds()}u(),t.ctx.map.fire(g.RENDER,{})}function Z(t){var e,n=this;this._features={},this._featureIds=new I,this._selectedFeatureIds=new I,this._selectedCoordinates=[],this._changedFeatureIds=new I,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=t,this.sources={hot:[],cold:[]},this.render=function(){e||(e=requestAnimationFrame((function(){e=null,X.call(n)})))},this.isDirty=!1}function W(t,e){var n=t._selectedCoordinates.filter((function(e){return t._selectedFeatureIds.has(e.feature_id)}));t._selectedCoordinates.length===n.length||e.silent||(t._emitSelectionChange=!0),t._selectedCoordinates=n}Z.prototype.createRenderBatch=function(){var t=this,e=this.render,n=0;return this.render=function(){n++},function(){t.render=e,n>0&&t.render()}},Z.prototype.setDirty=function(){return this.isDirty=!0,this},Z.prototype.featureChanged=function(t){return this._changedFeatureIds.add(t),this},Z.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},Z.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},Z.prototype.getAllIds=function(){return this._featureIds.values()},Z.prototype.add=function(t){return this.featureChanged(t.id),this._features[t.id]=t,this._featureIds.add(t.id),this},Z.prototype.delete=function(t,e){var n=this;return void 0===e&&(e={}),H(t).forEach((function(t){n._featureIds.has(t)&&(n._featureIds.delete(t),n._selectedFeatureIds.delete(t),e.silent||-1===n._deletedFeaturesToEmit.indexOf(n._features[t])&&n._deletedFeaturesToEmit.push(n._features[t]),delete n._features[t],n.isDirty=!0)})),W(this,e),this},Z.prototype.get=function(t){return this._features[t]},Z.prototype.getAll=function(){var t=this;return Object.keys(this._features).map((function(e){return t._features[e]}))},Z.prototype.select=function(t,e){var n=this;return void 0===e&&(e={}),H(t).forEach((function(t){n._selectedFeatureIds.has(t)||(n._selectedFeatureIds.add(t),n._changedFeatureIds.add(t),e.silent||(n._emitSelectionChange=!0))})),this},Z.prototype.deselect=function(t,e){var n=this;return void 0===e&&(e={}),H(t).forEach((function(t){n._selectedFeatureIds.has(t)&&(n._selectedFeatureIds.delete(t),n._changedFeatureIds.add(t),e.silent||(n._emitSelectionChange=!0))})),W(this,e),this},Z.prototype.clearSelected=function(t){return void 0===t&&(t={}),this.deselect(this._selectedFeatureIds.values(),{silent:t.silent}),this},Z.prototype.setSelected=function(t,e){var n=this;return void 0===e&&(e={}),t=H(t),this.deselect(this._selectedFeatureIds.values().filter((function(e){return-1===t.indexOf(e)})),{silent:e.silent}),this.select(t.filter((function(t){return!n._selectedFeatureIds.has(t)})),{silent:e.silent}),this},Z.prototype.setSelectedCoordinates=function(t){return this._selectedCoordinates=t,this._emitSelectionChange=!0,this},Z.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},Z.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},Z.prototype.getSelected=function(){var t=this;return this._selectedFeatureIds.values().map((function(e){return t.get(e)}))},Z.prototype.getSelectedCoordinates=function(){var t=this;return this._selectedCoordinates.map((function(e){return{coordinates:t.get(e.feature_id).getCoordinate(e.coord_path)}}))},Z.prototype.isSelected=function(t){return this._selectedFeatureIds.has(t)},Z.prototype.setFeatureProperty=function(t,e,n){this.get(t).setProperty(e,n),this.featureChanged(t)},Z.prototype.storeMapConfig=function(){var t=this;_.forEach((function(e){t.ctx.map[e]&&(t._mapInitialConfig[e]=t.ctx.map[e].isEnabled())}))},Z.prototype.restoreMapConfig=function(){var t=this;Object.keys(this._mapInitialConfig).forEach((function(e){t._mapInitialConfig[e]?t.ctx.map[e].enable():t.ctx.map[e].disable()}))},Z.prototype.getInitialConfigValue=function(t){return void 0===this._mapInitialConfig[t]||this._mapInitialConfig[t]};var K=function(){for(var t=arguments,e={},n=0;n<arguments.length;n++){var o=t[n];for(var r in o)Q.call(o,r)&&(e[r]=o[r])}return e},Q=Object.prototype.hasOwnProperty;var tt=e(K),et=[\"mode\",\"feature\",\"mouse\"];function nt(e){var n=null,o=null,r={onRemove:function(){return e.map.off(\"load\",r.connect),clearInterval(o),r.removeLayers(),e.store.restoreMapConfig(),e.ui.removeButtons(),e.events.removeEventListeners(),e.ui.clearMapClasses(),e.boxZoomInitial&&e.map.boxZoom.enable(),e.map=null,e.container=null,e.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){e.map.off(\"load\",r.connect),clearInterval(o),r.addLayers(),e.store.storeMapConfig(),e.events.addEventListeners()},onAdd:function(i){var a=i.fire;return i.fire=function(t,e){var n=arguments;return 1===a.length&&1!==arguments.length&&(n=[tt({},{type:t},e)]),a.apply(i,n)},e.map=i,e.events=function(e){var n=Object.keys(e.options.modes).reduce((function(t,n){return t[n]=q(e.options.modes[n]),t}),{}),o={},r={},i={},a=null,s=null;i.drag=function(t,n){n({point:t.point,time:(new Date).getTime()})?(e.ui.queueMapClasses({mouse:d.DRAG}),s.drag(t)):t.originalEvent.stopPropagation()},i.mousedrag=function(t){i.drag(t,(function(t){return!P(o,t)}))},i.touchdrag=function(t){i.drag(t,(function(t){return!F(r,t)}))},i.mousemove=function(t){if(1===(void 0!==t.originalEvent.buttons?t.originalEvent.buttons:t.originalEvent.which))return i.mousedrag(t);var n=N(t,e);t.featureTarget=n,s.mousemove(t)},i.mousedown=function(t){o={time:(new Date).getTime(),point:t.point};var n=N(t,e);t.featureTarget=n,s.mousedown(t)},i.mouseup=function(t){var n=N(t,e);t.featureTarget=n,P(o,{point:t.point,time:(new Date).getTime()})?s.click(t):s.mouseup(t)},i.mouseout=function(t){s.mouseout(t)},i.touchstart=function(t){if(e.options.touchEnabled){r={time:(new Date).getTime(),point:t.point};var n=M.touch(t,null,e)[0];t.featureTarget=n,s.touchstart(t)}},i.touchmove=function(t){if(e.options.touchEnabled)return s.touchmove(t),i.touchdrag(t)},i.touchend=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){var n=M.touch(t,null,e)[0];t.featureTarget=n,F(r,{time:(new Date).getTime(),point:t.point})?s.tap(t):s.touchend(t)}};var u=function(t){return!(8===t||46===t||t>=48&&t<=57)};function c(o,r,i){void 0===i&&(i={}),s.stop();var u=n[o];if(void 0===u)throw new Error(o+\" is not valid\");a=o;var c=u(e,r);s=t(c,e),i.silent||e.map.fire(g.MODE_CHANGE,{mode:o}),e.store.setDirty(),e.store.render()}i.keydown=function(t){(t.srcElement||t.target).classList.contains(\"mapboxgl-canvas\")&&(8!==t.keyCode&&46!==t.keyCode||!e.options.controls.trash?u(t.keyCode)?s.keydown(t):49===t.keyCode&&e.options.controls.point?c(h.DRAW_POINT):50===t.keyCode&&e.options.controls.line_string?c(h.DRAW_LINE_STRING):51===t.keyCode&&e.options.controls.polygon&&c(h.DRAW_POLYGON):(t.preventDefault(),s.trash()))},i.keyup=function(t){u(t.keyCode)&&s.keyup(t)},i.zoomend=function(){e.store.changeZoom()},i.data=function(t){if(\"style\"===t.dataType){var n=e.setup,o=e.map,r=e.options,i=e.store;r.styles.some((function(t){return o.getLayer(t.id)}))||(n.addLayers(),i.setDirty(),i.render())}};var l={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){a=e.options.defaultMode,s=t(n[a](e),e)},changeMode:c,actionable:function(t){var n=!1;Object.keys(t).forEach((function(e){if(void 0===l[e])throw new Error(\"Invalid action type\");l[e]!==t[e]&&(n=!0),l[e]=t[e]})),n&&e.map.fire(g.ACTIONABLE,{actions:l})},currentModeName:function(){return a},currentModeRender:function(t,e){return s.render(t,e)},fire:function(t,e){i[t]&&i[t](e)},addEventListeners:function(){e.map.on(\"mousemove\",i.mousemove),e.map.on(\"mousedown\",i.mousedown),e.map.on(\"mouseup\",i.mouseup),e.map.on(\"data\",i.data),e.map.on(\"touchmove\",i.touchmove),e.map.on(\"touchstart\",i.touchstart),e.map.on(\"touchend\",i.touchend),e.container.addEventListener(\"mouseout\",i.mouseout),e.options.keybindings&&(e.container.addEventListener(\"keydown\",i.keydown),e.container.addEventListener(\"keyup\",i.keyup))},removeEventListeners:function(){e.map.off(\"mousemove\",i.mousemove),e.map.off(\"mousedown\",i.mousedown),e.map.off(\"mouseup\",i.mouseup),e.map.off(\"data\",i.data),e.map.off(\"touchmove\",i.touchmove),e.map.off(\"touchstart\",i.touchstart),e.map.off(\"touchend\",i.touchend),e.container.removeEventListener(\"mouseout\",i.mouseout),e.options.keybindings&&(e.container.removeEventListener(\"keydown\",i.keydown),e.container.removeEventListener(\"keyup\",i.keyup))},trash:function(t){s.trash(t)},combineFeatures:function(){s.combineFeatures()},uncombineFeatures:function(){s.uncombineFeatures()},getMode:function(){return a}}}(e),e.ui=function(t){var e={},n=null,o={mode:null,feature:null,mouse:null},r={mode:null,feature:null,mouse:null};function i(t){r=tt(r,t)}function a(){var e,n;if(t.container){var i=[],a=[];et.forEach((function(t){r[t]!==o[t]&&(i.push(t+\"-\"+o[t]),null!==r[t]&&a.push(t+\"-\"+r[t]))})),i.length>0&&(e=t.container.classList).remove.apply(e,i),a.length>0&&(n=t.container.classList).add.apply(n,a),o=tt(o,r)}}function s(t,e){void 0===e&&(e={});var o=document.createElement(\"button\");return o.className=c.CONTROL_BUTTON+\" \"+e.className,o.setAttribute(\"title\",e.title),e.container.appendChild(o),o.addEventListener(\"click\",(function(o){if(o.preventDefault(),o.stopPropagation(),o.target===n)return u(),void e.onDeactivate();l(t),e.onActivate()}),!0),o}function u(){n&&(n.classList.remove(c.ACTIVE_BUTTON),n=null)}function l(t){u();var o=e[t];o&&o&&\"trash\"!==t&&(o.classList.add(c.ACTIVE_BUTTON),n=o)}return{setActiveButton:l,queueMapClasses:i,updateMapClasses:a,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),a()},addButtons:function(){var n=t.options.controls,o=document.createElement(\"div\");return o.className=c.CONTROL_GROUP+\" \"+c.CONTROL_BASE,n?(n[p.LINE]&&(e[p.LINE]=s(p.LINE,{container:o,className:c.CONTROL_BUTTON_LINE,title:\"LineString tool \"+(t.options.keybindings?\"(l)\":\"\"),onActivate:function(){return t.events.changeMode(h.DRAW_LINE_STRING)},onDeactivate:function(){return t.events.trash()}})),n[p.POLYGON]&&(e[p.POLYGON]=s(p.POLYGON,{container:o,className:c.CONTROL_BUTTON_POLYGON,title:\"Polygon tool \"+(t.options.keybindings?\"(p)\":\"\"),onActivate:function(){return t.events.changeMode(h.DRAW_POLYGON)},onDeactivate:function(){return t.events.trash()}})),n[p.POINT]&&(e[p.POINT]=s(p.POINT,{container:o,className:c.CONTROL_BUTTON_POINT,title:\"Marker tool \"+(t.options.keybindings?\"(m)\":\"\"),onActivate:function(){return t.events.changeMode(h.DRAW_POINT)},onDeactivate:function(){return t.events.trash()}})),n.trash&&(e.trash=s(\"trash\",{container:o,className:c.CONTROL_BUTTON_TRASH,title:\"Delete\",onActivate:function(){t.events.trash()}})),n.combine_features&&(e.combine_features=s(\"combineFeatures\",{container:o,className:c.CONTROL_BUTTON_COMBINE_FEATURES,title:\"Combine\",onActivate:function(){t.events.combineFeatures()}})),n.uncombine_features&&(e.uncombine_features=s(\"uncombineFeatures\",{container:o,className:c.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:\"Uncombine\",onActivate:function(){t.events.uncombineFeatures()}})),o):o},removeButtons:function(){Object.keys(e).forEach((function(t){var n=e[t];n.parentNode&&n.parentNode.removeChild(n),delete e[t]}))}}}(e),e.container=i.getContainer(),e.store=new Z(e),n=e.ui.addButtons(),e.options.boxSelect&&(e.boxZoomInitial=i.boxZoom.isEnabled(),i.boxZoom.disable(),i.dragPan.disable(),i.dragPan.enable()),i.loaded()?r.connect():(i.on(\"load\",r.connect),o=setInterval((function(){i.loaded()&&r.connect()}),16)),e.events.start(),n},addLayers:function(){e.map.addSource(l.COLD,{data:{type:f.FEATURE_COLLECTION,features:[]},type:\"geojson\"}),e.map.addSource(l.HOT,{data:{type:f.FEATURE_COLLECTION,features:[]},type:\"geojson\"}),e.options.styles.forEach((function(t){e.map.addLayer(t)})),e.store.setDirty(!0),e.store.render()},removeLayers:function(){e.options.styles.forEach((function(t){e.map.getLayer(t.id)&&e.map.removeLayer(t.id)})),e.map.getSource(l.COLD)&&e.map.removeSource(l.COLD),e.map.getSource(l.HOT)&&e.map.removeSource(l.HOT)}};return e.setup=r,r}var ot=[{id:\"gl-draw-polygon-fill-inactive\",type:\"fill\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Polygon\"],[\"!=\",\"mode\",\"static\"]],paint:{\"fill-color\":\"#3bb2d0\",\"fill-outline-color\":\"#3bb2d0\",\"fill-opacity\":.1}},{id:\"gl-draw-polygon-fill-active\",type:\"fill\",filter:[\"all\",[\"==\",\"active\",\"true\"],[\"==\",\"$type\",\"Polygon\"]],paint:{\"fill-color\":\"#fbb03b\",\"fill-outline-color\":\"#fbb03b\",\"fill-opacity\":.1}},{id:\"gl-draw-polygon-midpoint\",type:\"circle\",filter:[\"all\",[\"==\",\"$type\",\"Point\"],[\"==\",\"meta\",\"midpoint\"]],paint:{\"circle-radius\":3,\"circle-color\":\"#fbb03b\"}},{id:\"gl-draw-polygon-stroke-inactive\",type:\"line\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Polygon\"],[\"!=\",\"mode\",\"static\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#3bb2d0\",\"line-width\":2}},{id:\"gl-draw-polygon-stroke-active\",type:\"line\",filter:[\"all\",[\"==\",\"active\",\"true\"],[\"==\",\"$type\",\"Polygon\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#fbb03b\",\"line-dasharray\":[.2,2],\"line-width\":2}},{id:\"gl-draw-line-inactive\",type:\"line\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"LineString\"],[\"!=\",\"mode\",\"static\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#3bb2d0\",\"line-width\":2}},{id:\"gl-draw-line-active\",type:\"line\",filter:[\"all\",[\"==\",\"$type\",\"LineString\"],[\"==\",\"active\",\"true\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#fbb03b\",\"line-dasharray\":[.2,2],\"line-width\":2}},{id:\"gl-draw-polygon-and-line-vertex-stroke-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"meta\",\"vertex\"],[\"==\",\"$type\",\"Point\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":5,\"circle-color\":\"#fff\"}},{id:\"gl-draw-polygon-and-line-vertex-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"meta\",\"vertex\"],[\"==\",\"$type\",\"Point\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":3,\"circle-color\":\"#fbb03b\"}},{id:\"gl-draw-point-point-stroke-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Point\"],[\"==\",\"meta\",\"feature\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":5,\"circle-opacity\":1,\"circle-color\":\"#fff\"}},{id:\"gl-draw-point-inactive\",type:\"circle\",filter:[\"all\",[\"==\",\"active\",\"false\"],[\"==\",\"$type\",\"Point\"],[\"==\",\"meta\",\"feature\"],[\"!=\",\"mode\",\"static\"]],paint:{\"circle-radius\":3,\"circle-color\":\"#3bb2d0\"}},{id:\"gl-draw-point-stroke-active\",type:\"circle\",filter:[\"all\",[\"==\",\"$type\",\"Point\"],[\"==\",\"active\",\"true\"],[\"!=\",\"meta\",\"midpoint\"]],paint:{\"circle-radius\":7,\"circle-color\":\"#fff\"}},{id:\"gl-draw-point-active\",type:\"circle\",filter:[\"all\",[\"==\",\"$type\",\"Point\"],[\"!=\",\"meta\",\"midpoint\"],[\"==\",\"active\",\"true\"]],paint:{\"circle-radius\":5,\"circle-color\":\"#fbb03b\"}},{id:\"gl-draw-polygon-fill-static\",type:\"fill\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"Polygon\"]],paint:{\"fill-color\":\"#404040\",\"fill-outline-color\":\"#404040\",\"fill-opacity\":.1}},{id:\"gl-draw-polygon-stroke-static\",type:\"line\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"Polygon\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#404040\",\"line-width\":2}},{id:\"gl-draw-line-static\",type:\"line\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"LineString\"]],layout:{\"line-cap\":\"round\",\"line-join\":\"round\"},paint:{\"line-color\":\"#404040\",\"line-width\":2}},{id:\"gl-draw-point-static\",type:\"circle\",filter:[\"all\",[\"==\",\"mode\",\"static\"],[\"==\",\"$type\",\"Point\"]],paint:{\"circle-radius\":5,\"circle-color\":\"#404040\"}}];function rt(t){return function(e){var n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===t)}}function it(t){return!!t.originalEvent&&(!!t.originalEvent.shiftKey&&0===t.originalEvent.button)}function at(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===m.ACTIVE&&t.featureTarget.properties.meta===v.FEATURE))}function st(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===m.INACTIVE&&t.featureTarget.properties.meta===v.FEATURE))}function ut(t){return void 0===t.featureTarget}function ct(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===v.FEATURE)}function lt(t){var e=t.featureTarget;return!!e&&(!!e.properties&&e.properties.meta===v.VERTEX)}function dt(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey}function pt(t){return 27===t.keyCode}function ft(t){return 13===t.keyCode}var ht=Object.freeze({__proto__:null,isOfMetaType:rt,isShiftMousedown:it,isActiveFeature:at,isInactiveFeature:st,noTarget:ut,isFeature:ct,isVertex:lt,isShiftDown:dt,isEscapeKey:pt,isEnterKey:ft,isTrue:function(){return!0}}),gt=yt;function yt(t,e){this.x=t,this.y=e}yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),o=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=o,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),o=Math.sin(t),r=e.x+n*(this.x-e.x)-o*(this.y-e.y),i=e.y+o*(this.x-e.x)+n*(this.y-e.y);return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},yt.convert=function(t){return t instanceof yt?t:Array.isArray(t)?new yt(t[0],t[1]):t};var vt=e(gt);function mt(t,e){var n=e.getBoundingClientRect();return new vt(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))}function _t(t,e,n,o){return{type:f.FEATURE,properties:{meta:v.VERTEX,parent:t,coord_path:n,active:o?m.ACTIVE:m.INACTIVE},geometry:{type:f.POINT,coordinates:e}}}function bt(t,e,n){var o=e.geometry.coordinates,r=n.geometry.coordinates;if(o[1]>85||o[1]<b||r[1]>85||r[1]<b)return null;var i={lng:(o[0]+r[0])/2,lat:(o[1]+r[1])/2};return{type:f.FEATURE,properties:{meta:v.MIDPOINT,parent:t,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:f.POINT,coordinates:[i.lng,i.lat]}}}function Et(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var o,r=t.geometry,i=r.type,a=r.coordinates,s=t.properties&&t.properties.id,u=[];function c(t,n){var o=\"\",r=null;t.forEach((function(t,i){var a=null!=n?n+\".\"+i:String(i),c=_t(s,t,a,l(a));if(e.midpoints&&r){var d=bt(s,r,c);d&&u.push(d)}r=c;var p=JSON.stringify(t);o!==p&&u.push(c),0===i&&(o=p)}))}function l(t){return!!e.selectedPaths&&-1!==e.selectedPaths.indexOf(t)}return i===f.POINT?u.push(_t(s,a,n,l(n))):i===f.POLYGON?a.forEach((function(t,e){c(t,null!==n?n+\".\"+e:String(e))})):i===f.LINE_STRING?c(a,n):0===i.indexOf(f.MULTI_PREFIX)&&(o=i.replace(f.MULTI_PREFIX,\"\"),a.forEach((function(n,r){var i={type:f.FEATURE,properties:t.properties,geometry:{type:o,coordinates:n}};u=u.concat(Et(i,e,r))}))),u}var Tt={enable:function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue(\"doubleClickZoom\")&&t.map.doubleClickZoom.enable()}),0)},disable:function(t){setTimeout((function(){t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()}),0)}},Ct={exports:{}},Ot=function(t){if(!t||!t.type)return null;var e=St[t.type];if(!e)return null;if(\"geometry\"===e)return{type:\"FeatureCollection\",features:[{type:\"Feature\",properties:{},geometry:t}]};if(\"feature\"===e)return{type:\"FeatureCollection\",features:[t]};if(\"featurecollection\"===e)return t},St={Point:\"geometry\",MultiPoint:\"geometry\",LineString:\"geometry\",MultiLineString:\"geometry\",Polygon:\"geometry\",MultiPolygon:\"geometry\",GeometryCollection:\"geometry\",Feature:\"feature\",FeatureCollection:\"featurecollection\"};var It=e(Ot);var xt=Object.freeze({__proto__:null,default:function t(e){switch(e&&e.type||null){case\"FeatureCollection\":return e.features=e.features.reduce((function(e,n){return e.concat(t(n))}),[]),e;case\"Feature\":return e.geometry?t(e.geometry).map((function(t){var n={type:\"Feature\",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n})):[e];case\"MultiPoint\":return e.coordinates.map((function(t){return{type:\"Point\",coordinates:t}}));case\"MultiPolygon\":return e.coordinates.map((function(t){return{type:\"Polygon\",coordinates:t}}));case\"MultiLineString\":return e.coordinates.map((function(t){return{type:\"LineString\",coordinates:t}}));case\"GeometryCollection\":return e.geometries.map(t).reduce((function(t,e){return t.concat(e)}),[]);case\"Point\":case\"Polygon\":case\"LineString\":return[e]}}}),Mt=Ot,Lt=n(xt),Nt=function(t){return function t(e){if(Array.isArray(e)&&e.length&&\"number\"==typeof e[0])return[e];return e.reduce((function(e,n){return Array.isArray(n)&&Array.isArray(n[0])?e.concat(t(n)):(e.push(n),e)}),[])}(t)};Lt instanceof Function||(Lt=Lt.default);var At={exports:{}},Pt=At.exports=function(t){return new Ft(t)};function Ft(t){this.value=t}function wt(t,e,n){var o=[],r=[],i=!0;return function t(a){var s=n?Rt(a):a,u={},c=!0,l={node:s,node_:a,path:[].concat(o),parent:r[r.length-1],parents:r,key:o.slice(-1)[0],isRoot:0===o.length,level:o.length,circular:null,update:function(t,e){l.isRoot||(l.parent.node[l.key]=t),l.node=t,e&&(c=!1)},delete:function(t){delete l.parent.node[l.key],t&&(c=!1)},remove:function(t){Ut(l.parent.node)?l.parent.node.splice(l.key,1):delete l.parent.node[l.key],t&&(c=!1)},keys:null,before:function(t){u.before=t},after:function(t){u.after=t},pre:function(t){u.pre=t},post:function(t){u.post=t},stop:function(){i=!1},block:function(){c=!1}};if(!i)return l;function d(){if(\"object\"==typeof l.node&&null!==l.node){l.keys&&l.node_===l.node||(l.keys=kt(l.node)),l.isLeaf=0==l.keys.length;for(var t=0;t<r.length;t++)if(r[t].node_===a){l.circular=r[t];break}}else l.isLeaf=!0,l.keys=null;l.notLeaf=!l.isLeaf,l.notRoot=!l.isRoot}d();var p=e.call(l,l.node);return void 0!==p&&l.update&&l.update(p),u.before&&u.before.call(l,l.node),c?(\"object\"!=typeof l.node||null===l.node||l.circular||(r.push(l),d(),jt(l.keys,(function(e,r){o.push(e),u.pre&&u.pre.call(l,l.node[e],e);var i=t(l.node[e]);n&&Vt.call(l.node,e)&&(l.node[e]=i.node),i.isLast=r==l.keys.length-1,i.isFirst=0==r,u.post&&u.post.call(l,i),o.pop()})),r.pop()),u.after&&u.after.call(l,l.node),l):l}(t).node}function Rt(t){if(\"object\"==typeof t&&null!==t){var e;if(Ut(t))e=[];else if(\"[object Date]\"===Dt(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return\"[object RegExp]\"===Dt(t)}(t))e=new RegExp(t);else if(function(t){return\"[object Error]\"===Dt(t)}(t))e={message:t.message};else if(function(t){return\"[object Boolean]\"===Dt(t)}(t))e=new Boolean(t);else if(function(t){return\"[object Number]\"===Dt(t)}(t))e=new Number(t);else if(function(t){return\"[object String]\"===Dt(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},o=function(){};o.prototype=n,e=new o}return jt(kt(t),(function(n){e[n]=t[n]})),e}return t}Ft.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var o=t[n];if(!e||!Vt.call(e,o)){e=void 0;break}e=e[o]}return e},Ft.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var o=t[n];if(!e||!Vt.call(e,o))return!1;e=e[o]}return!0},Ft.prototype.set=function(t,e){for(var n=this.value,o=0;o<t.length-1;o++){var r=t[o];Vt.call(n,r)||(n[r]={}),n=n[r]}return n[t[o]]=e,e},Ft.prototype.map=function(t){return wt(this.value,t,!0)},Ft.prototype.forEach=function(t){return this.value=wt(this.value,t,!1),this.value},Ft.prototype.reduce=function(t,e){var n=1===arguments.length,o=n?this.value:e;return this.forEach((function(e){this.isRoot&&n||(o=t.call(this,o,e))})),o},Ft.prototype.paths=function(){var t=[];return this.forEach((function(e){t.push(this.path)})),t},Ft.prototype.nodes=function(){var t=[];return this.forEach((function(e){t.push(this.node)})),t},Ft.prototype.clone=function(){var t=[],e=[];return function n(o){for(var r=0;r<t.length;r++)if(t[r]===o)return e[r];if(\"object\"==typeof o&&null!==o){var i=Rt(o);return t.push(o),e.push(i),jt(kt(o),(function(t){i[t]=n(o[t])})),t.pop(),e.pop(),i}return o}(this.value)};var kt=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Dt(t){return Object.prototype.toString.call(t)}var Ut=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},jt=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};jt(kt(Ft.prototype),(function(t){Pt[t]=function(e){var n=[].slice.call(arguments,1),o=new Ft(e);return o[t].apply(o,n)}}));var Vt=Object.hasOwnProperty||function(t,e){return e in t},Bt=At.exports,Gt=Jt;function Jt(t){if(!(this instanceof Jt))return new Jt(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}Jt.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},Jt.prototype.equals=function(t){var e;return e=t instanceof Jt?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},Jt.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Jt.prototype.union=function(t){var e;return this._valid=!0,e=t instanceof Jt?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},Jt.prototype.bbox=function(){return this._valid?this._bbox:null},Jt.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},Jt.prototype.intersect=function(t){return this._valid?(e=t instanceof Jt?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])):null;var e},Jt.prototype._fastContains=function(){if(!this._valid)return new Function(\"return null;\");var t=\"return \"+this._bbox[0]+\"<= ll[0] &&\"+this._bbox[1]+\"<= ll[1] &&\"+this._bbox[2]+\">= ll[0] &&\"+this._bbox[3]+\">= ll[1]\";return new Function(\"ll\",t)},Jt.prototype.polygon=function(){return this._valid?{type:\"Polygon\",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var zt=function(t){if(!t)return[];var e=Lt(Mt(t)),n=[];return e.features.forEach((function(t){t.geometry&&(n=n.concat(Nt(t.geometry.coordinates)))})),n},Yt=Bt,$t=Gt,qt={features:[\"FeatureCollection\"],coordinates:[\"Point\",\"MultiPoint\",\"LineString\",\"MultiLineString\",\"Polygon\",\"MultiPolygon\"],geometry:[\"Feature\"],geometries:[\"GeometryCollection\"]},Ht=Object.keys(qt);function Xt(t){for(var e=$t(),n=zt(t),o=0;o<n.length;o++)e.include(n[o]);return e}Ct.exports=function(t){return Xt(t).bbox()},Ct.exports.polygon=function(t){return Xt(t).polygon()},Ct.exports.bboxify=function(t){return Yt(t).map((function(t){t&&(Ht.some((function(e){return!!t[e]&&-1!==qt[e].indexOf(t.type)}))&&(t.bbox=Xt(t).bbox(),this.update(t)))}))};var Zt=e(Ct.exports),Wt=-90;function Kt(t,e){var n=Wt,o=90,r=Wt,i=90,a=270,s=-270;t.forEach((function(t){var e=Zt(t),u=e[1],c=e[3],l=e[0],d=e[2];u>n&&(n=u),c<o&&(o=c),c>r&&(r=c),u<i&&(i=u),l<a&&(a=l),d>s&&(s=d)}));var u=e;return n+u.lat>85&&(u.lat=85-n),r+u.lat>90&&(u.lat=90-r),o+u.lat<-85&&(u.lat=-85-o),i+u.lat<Wt&&(u.lat=Wt-i),a+u.lng<=-270&&(u.lng+=360*Math.ceil(Math.abs(u.lng)/360)),s+u.lng>=270&&(u.lng-=360*Math.ceil(Math.abs(u.lng)/360)),u}function Qt(t,e){var n=Kt(t.map((function(t){return t.toGeoJSON()})),e);t.forEach((function(t){var e,o=t.getCoordinates(),r=function(t){var e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},i=function(t){return t.map((function(t){return r(t)}))};t.type===f.POINT?e=r(o):t.type===f.LINE_STRING||t.type===f.MULTI_POINT?e=o.map(r):t.type===f.POLYGON||t.type===f.MULTI_LINE_STRING?e=o.map(i):t.type===f.MULTI_POLYGON&&(e=o.map((function(t){return t.map((function(t){return i(t)}))}))),t.incomingCoords(e)}))}var te={onSetup:function(t){var e=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:t.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(t){return void 0!==e.getFeature(t)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(g.UPDATE,{action:y.MOVE,features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(){var t=this,e=this.getSelected(),n=e.filter((function(e){return t.isInstanceOf(\"MultiFeature\",e)})),o=!1;if(e.length>1){o=!0;var r=e[0].type.replace(\"Multi\",\"\");e.forEach((function(t){t.type.replace(\"Multi\",\"\")!==r&&(o=!1)}))}var i=n.length>0,a=e.length>0;this.setActionableState({combineFeatures:o,uncombineFeatures:i,trash:a})},getUniqueIds:function(t){return t.length?t.map((function(t){return t.properties.id})).filter((function(t){return void 0!==t})).reduce((function(t,e){return t.add(e),t}),new I).values():[]},stopExtendedInteractions:function(t){t.boxSelectElement&&(t.boxSelectElement.parentNode&&t.boxSelectElement.parentNode.removeChild(t.boxSelectElement),t.boxSelectElement=null),this.map.dragPan.enable(),t.boxSelecting=!1,t.canBoxSelect=!1,t.dragMoving=!1,t.canDragMove=!1},onStop:function(){Tt.enable(this)},onMouseMove:function(t,e){return ct(e)&&t.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(t),!0},onMouseOut:function(t){return!t.dragMoving||this.fireUpdate()}};te.onTap=te.onClick=function(t,e){return ut(e)?this.clickAnywhere(t,e):rt(v.VERTEX)(e)?this.clickOnVertex(t,e):ct(e)?this.clickOnFeature(t,e):void 0},te.clickAnywhere=function(t){var e=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(t){return e.doRender(t)}))),Tt.enable(this),this.stopExtendedInteractions(t)},te.clickOnVertex=function(t,e){this.changeMode(h.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:d.MOVE})},te.startOnActiveFeature=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),this.doRender(e.featureTarget.properties.id),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},te.clickOnFeature=function(t,e){var n=this;Tt.disable(this),this.stopExtendedInteractions(t);var o=dt(e),r=this.getSelectedIds(),i=e.featureTarget.properties.id,a=this.isSelected(i);if(!o&&a&&this.getFeature(i).type!==f.POINT)return this.changeMode(h.DIRECT_SELECT,{featureId:i});a&&o?(this.deselect(i),this.updateUIClasses({mouse:d.POINTER}),1===r.length&&Tt.enable(this)):!a&&o?(this.select(i),this.updateUIClasses({mouse:d.MOVE})):a||o||(r.forEach((function(t){return n.doRender(t)})),this.setSelected(i),this.updateUIClasses({mouse:d.MOVE})),this.doRender(i)},te.onMouseDown=function(t,e){return at(e)?this.startOnActiveFeature(t,e):this.drawConfig.boxSelect&&it(e)?this.startBoxSelect(t,e):void 0},te.startBoxSelect=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),t.boxSelectStartLocation=mt(e.originalEvent,this.map.getContainer()),t.canBoxSelect=!0},te.onTouchStart=function(t,e){if(at(e))return this.startOnActiveFeature(t,e)},te.onDrag=function(t,e){return t.canDragMove?this.dragMove(t,e):this.drawConfig.boxSelect&&t.canBoxSelect?this.whileBoxSelect(t,e):void 0},te.whileBoxSelect=function(t,e){t.boxSelecting=!0,this.updateUIClasses({mouse:d.ADD}),t.boxSelectElement||(t.boxSelectElement=document.createElement(\"div\"),t.boxSelectElement.classList.add(c.BOX_SELECT),this.map.getContainer().appendChild(t.boxSelectElement));var n=mt(e.originalEvent,this.map.getContainer()),o=Math.min(t.boxSelectStartLocation.x,n.x),r=Math.max(t.boxSelectStartLocation.x,n.x),i=Math.min(t.boxSelectStartLocation.y,n.y),a=Math.max(t.boxSelectStartLocation.y,n.y),s=\"translate(\"+o+\"px, \"+i+\"px)\";t.boxSelectElement.style.transform=s,t.boxSelectElement.style.WebkitTransform=s,t.boxSelectElement.style.width=r-o+\"px\",t.boxSelectElement.style.height=a-i+\"px\"},te.dragMove=function(t,e){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};Qt(this.getSelected(),n),t.dragMoveLocation=e.lngLat},te.onTouchEnd=te.onMouseUp=function(t,e){var n=this;if(t.dragMoving)this.fireUpdate();else if(t.boxSelecting){var o=[t.boxSelectStartLocation,mt(e.originalEvent,this.map.getContainer())],r=this.featuresAt(null,o,\"click\"),i=this.getUniqueIds(r).filter((function(t){return!n.isSelected(t)}));i.length&&(this.select(i),i.forEach((function(t){return n.doRender(t)})),this.updateUIClasses({mouse:d.MOVE}))}this.stopExtendedInteractions(t)},te.toDisplayFeatures=function(t,e,n){e.properties.active=this.isSelected(e.properties.id)?m.ACTIVE:m.INACTIVE,n(e),this.fireActionable(),e.properties.active===m.ACTIVE&&e.geometry.type!==f.POINT&&Et(e).forEach(n)},te.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},te.onCombineFeatures=function(){var t=this.getSelected();if(!(0===t.length||t.length<2)){for(var e=[],n=[],o=t[0].type.replace(\"Multi\",\"\"),r=0;r<t.length;r++){var i=t[r];if(i.type.replace(\"Multi\",\"\")!==o)return;i.type.includes(\"Multi\")?i.getCoordinates().forEach((function(t){e.push(t)})):e.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:f.FEATURE,properties:n[0].properties,geometry:{type:\"Multi\"+o,coordinates:e}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire(g.COMBINE_FEATURES,{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},te.onUncombineFeatures=function(){var t=this,e=this.getSelected();if(0!==e.length){for(var n=[],o=[],r=function(r){var i=e[r];t.isInstanceOf(\"MultiFeature\",i)&&(i.getFeatures().forEach((function(e){t.addFeature(e),e.properties=i.properties,n.push(e.toGeoJSON()),t.select([e.id])})),t.deleteFeature(i.id,{silent:!0}),o.push(i.toGeoJSON()))},i=0;i<e.length;i++)r(i);n.length>1&&this.map.fire(g.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:o}),this.fireActionable()}};var ee=rt(v.VERTEX),ne=rt(v.MIDPOINT),oe={fireUpdate:function(){this.map.fire(g.UPDATE,{action:y.CHANGE_COORDINATES,features:this.getSelected().map((function(t){return t.toGeoJSON()}))})},fireActionable:function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},startDragging:function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},stopDragging:function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},onVertex:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,o=t.selectedCoordPaths.indexOf(n.coord_path);dt(e)||-1!==o?dt(e)&&-1===o&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var r=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(r)},onMidpoint:function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(t,e){return e.map((function(e){return{feature_id:t,coord_path:e}}))},onFeature:function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},dragFeature:function(t,e,n){Qt(this.getSelected(),n),t.dragMoveLocation=e.lngLat},dragVertex:function(t,e,n){for(var o=t.selectedCoordPaths.map((function(e){return t.feature.getCoordinate(e)})),r=Kt(o.map((function(t){return{type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:t}}})),n),i=0;i<o.length;i++){var a=o[i];t.feature.updateCoordinate(t.selectedCoordPaths[i],a[0]+r.lng,a[1]+r.lat)}},clickNoTarget:function(){this.changeMode(h.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(h.SIMPLE_SELECT)},clickActiveFeature:function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},onSetup:function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error(\"You must provide a featureId to enter direct_select mode\");if(n.type===f.POINT)throw new TypeError(\"direct_select mode doesn't handle point features\");var o={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,o.selectedCoordPaths)),this.setSelected(e),Tt.disable(this),this.setActionableState({trash:!0}),o},onStop:function(){Tt.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(t,e,n){t.featureId===e.properties.id?(e.properties.active=m.ACTIVE,n(e),Et(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=m.INACTIVE,n(e)),this.fireActionable(t)},onTrash:function(t){t.selectedCoordPaths.sort((function(t,e){return e.localeCompare(t,\"en\",{numeric:!0})})).forEach((function(e){return t.feature.removeCoordinate(e)})),this.fireUpdate(),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(h.SIMPLE_SELECT,{}))},onMouseMove:function(t,e){var n=at(e),o=ee(e),r=ne(e),i=0===t.selectedCoordPaths.length;return n&&i||o&&!i?this.updateUIClasses({mouse:d.MOVE}):this.updateUIClasses({mouse:d.NONE}),(o||n||r)&&t.dragMoving&&this.fireUpdate(),this.stopDragging(t),!0},onMouseOut:function(t){return t.dragMoving&&this.fireUpdate(),!0}};oe.onTouchStart=oe.onMouseDown=function(t,e){return ee(e)?this.onVertex(t,e):at(e)?this.onFeature(t,e):ne(e)?this.onMidpoint(t,e):void 0},oe.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},oe.onClick=function(t,e){return ut(e)?this.clickNoTarget(t,e):at(e)?this.clickActiveFeature(t,e):st(e)?this.clickInactive(t,e):void this.stopDragging(t)},oe.onTap=function(t,e){return ut(e)?this.clickNoTarget(t,e):at(e)?this.clickActiveFeature(t,e):st(e)?this.clickInactive(t,e):void 0},oe.onTouchEnd=oe.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)};var re={};function ie(t,e){return!!t.lngLat&&(t.lngLat.lng===e[0]&&t.lngLat.lat===e[1])}re.onSetup=function(){var t=this.newFeature({type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:[]}});return this.addFeature(t),this.clearSelectedFeatures(),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.POINT),this.setActionableState({trash:!0}),{point:t}},re.stopDrawingAndRemove=function(t){this.deleteFeature([t.point.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)},re.onTap=re.onClick=function(t,e){this.updateUIClasses({mouse:d.MOVE}),t.point.updateCoordinate(\"\",e.lngLat.lng,e.lngLat.lat),this.map.fire(g.CREATE,{features:[t.point.toGeoJSON()]}),this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.point.id]})},re.onStop=function(t){this.activateUIButton(),t.point.getCoordinate().length||this.deleteFeature([t.point.id],{silent:!0})},re.toDisplayFeatures=function(t,e,n){var o=e.properties.id===t.point.id;if(e.properties.active=o?m.ACTIVE:m.INACTIVE,!o)return n(e)},re.onTrash=re.stopDrawingAndRemove,re.onKeyUp=function(t,e){if(pt(e)||ft(e))return this.stopDrawingAndRemove(t,e)};var ae={onSetup:function(){var t=this.newFeature({type:f.FEATURE,properties:{},geometry:{type:f.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),Tt.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.POLYGON),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&ie(e,t.polygon.coordinates[0][t.currentVertexPosition-1]))return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.polygon.id]});this.updateUIClasses({mouse:d.ADD}),t.polygon.updateCoordinate(\"0.\"+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),t.currentVertexPosition++,t.polygon.updateCoordinate(\"0.\"+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},onMouseMove:function(t,e){t.polygon.updateCoordinate(\"0.\"+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),lt(e)&&this.updateUIClasses({mouse:d.POINTER})}};ae.onTap=ae.onClick=function(t,e){return lt(e)?this.clickOnVertex(t,e):this.clickAnywhere(t,e)},ae.onKeyUp=function(t,e){pt(e)?(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)):ft(e)&&this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},ae.onStop=function(t){this.updateUIClasses({mouse:d.NONE}),Tt.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.polygon.id)&&(t.polygon.removeCoordinate(\"0.\"+t.currentVertexPosition),t.polygon.isValid()?this.map.fire(g.CREATE,{features:[t.polygon.toGeoJSON()]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT,{},{silent:!0})))},ae.toDisplayFeatures=function(t,e,n){var o=e.properties.id===t.polygon.id;if(e.properties.active=o?m.ACTIVE:m.INACTIVE,!o)return n(e);if(0!==e.geometry.coordinates.length){var r=e.geometry.coordinates[0].length;if(!(r<3)){if(e.properties.meta=v.FEATURE,n(_t(t.polygon.id,e.geometry.coordinates[0][0],\"0.0\",!1)),r>3){var i=e.geometry.coordinates[0].length-3;n(_t(t.polygon.id,e.geometry.coordinates[0][i],\"0.\"+i,!1))}if(r<=4){var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:f.FEATURE,properties:e.properties,geometry:{coordinates:a,type:f.LINE_STRING}}),3===r)return}return n(e)}}},ae.onTrash=function(t){this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)};var se={onSetup:function(t){var e,n,o=(t=t||{}).featureId,r=\"forward\";if(o){if(!(e=this.getFeature(o)))throw new Error(\"Could not find a feature with the provided featureId\");var i=t.from;if(i&&\"Feature\"===i.type&&i.geometry&&\"Point\"===i.geometry.type&&(i=i.geometry),i&&\"Point\"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error(\"Please use the `from` property to indicate which point to continue the line from\");var a=e.coordinates.length-1;if(e.coordinates[a][0]===i[0]&&e.coordinates[a][1]===i[1])n=a+1,e.addCoordinate.apply(e,[n].concat(e.coordinates[a]));else{if(e.coordinates[0][0]!==i[0]||e.coordinates[0][1]!==i[1])throw new Error(\"`from` should match the point at either the start or the end of the provided LineString\");r=\"backwards\",n=0,e.addCoordinate.apply(e,[n].concat(e.coordinates[0]))}}else e=this.newFeature({type:f.FEATURE,properties:{},geometry:{type:f.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(e);return this.clearSelectedFeatures(),Tt.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(p.LINE),this.setActionableState({trash:!0}),{line:e,currentVertexPosition:n,direction:r}},clickAnywhere:function(t,e){if(t.currentVertexPosition>0&&ie(e,t.line.coordinates[t.currentVertexPosition-1])||\"backwards\"===t.direction&&ie(e,t.line.coordinates[t.currentVertexPosition+1]))return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.line.id]});this.updateUIClasses({mouse:d.ADD}),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),\"forward\"===t.direction?(t.currentVertexPosition++,t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat)},clickOnVertex:function(t){return this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.line.id]})},onMouseMove:function(t,e){t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),lt(e)&&this.updateUIClasses({mouse:d.POINTER})}};se.onTap=se.onClick=function(t,e){if(lt(e))return this.clickOnVertex(t,e);this.clickAnywhere(t,e)},se.onKeyUp=function(t,e){ft(e)?this.changeMode(h.SIMPLE_SELECT,{featureIds:[t.line.id]}):pt(e)&&(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT))},se.onStop=function(t){Tt.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.line.id)&&(t.line.removeCoordinate(\"\"+t.currentVertexPosition),t.line.isValid()?this.map.fire(g.CREATE,{features:[t.line.toGeoJSON()]}):(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT,{},{silent:!0})))},se.onTrash=function(t){this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(h.SIMPLE_SELECT)},se.toDisplayFeatures=function(t,e,n){var o=e.properties.id===t.line.id;if(e.properties.active=o?m.ACTIVE:m.INACTIVE,!o)return n(e);e.geometry.coordinates.length<2||(e.properties.meta=v.FEATURE,n(_t(t.line.id,e.geometry.coordinates[\"forward\"===t.direction?e.geometry.coordinates.length-2:1],\"\"+(\"forward\"===t.direction?e.geometry.coordinates.length-2:1),!1)),n(e))};var ue={simple_select:te,direct_select:oe,draw_point:re,draw_polygon:ae,draw_line_string:se},ce={defaultMode:h.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:ot,modes:ue,controls:{},userProperties:!1},le={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},de={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function pe(t,e){return t.map((function(t){return t.source?t:tt(t,{id:t.id+\".\"+e,source:\"hot\"===e?l.HOT:l.COLD})}))}var fe={exports:{}};!function(t,e){var n=\"__lodash_hash_undefined__\",o=9007199254740991,r=\"[object Arguments]\",i=\"[object Array]\",a=\"[object Boolean]\",s=\"[object Date]\",u=\"[object Error]\",c=\"[object Function]\",l=\"[object Map]\",d=\"[object Number]\",p=\"[object Object]\",f=\"[object Promise]\",h=\"[object RegExp]\",g=\"[object Set]\",y=\"[object String]\",v=\"[object Symbol]\",m=\"[object WeakMap]\",_=\"[object ArrayBuffer]\",b=\"[object DataView]\",E=/^\\[object .+?Constructor\\]$/,T=/^(?:0|[1-9]\\d*)$/,C={};C[\"[object Float32Array]\"]=C[\"[object Float64Array]\"]=C[\"[object Int8Array]\"]=C[\"[object Int16Array]\"]=C[\"[object Int32Array]\"]=C[\"[object Uint8Array]\"]=C[\"[object Uint8ClampedArray]\"]=C[\"[object Uint16Array]\"]=C[\"[object Uint32Array]\"]=!0,C[r]=C[i]=C[_]=C[a]=C[b]=C[s]=C[u]=C[c]=C[l]=C[d]=C[p]=C[h]=C[g]=C[y]=C[m]=!1;var O=\"object\"==typeof global&&global&&global.Object===Object&&global,S=\"object\"==typeof self&&self&&self.Object===Object&&self,I=O||S||Function(\"return this\")(),x=e&&!e.nodeType&&e,M=x&&t&&!t.nodeType&&t,L=M&&M.exports===x,N=L&&O.process,A=function(){try{return N&&N.binding&&N.binding(\"util\")}catch(t){}}(),P=A&&A.isTypedArray;function F(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function w(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n}function R(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var k,D,U,j=Array.prototype,V=Function.prototype,B=Object.prototype,G=I[\"__core-js_shared__\"],J=V.toString,z=B.hasOwnProperty,Y=(k=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+k:\"\",$=B.toString,q=RegExp(\"^\"+J.call(z).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),H=L?I.Buffer:void 0,X=I.Symbol,Z=I.Uint8Array,W=B.propertyIsEnumerable,K=j.splice,Q=X?X.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=H?H.isBuffer:void 0,nt=(D=Object.keys,U=Object,function(t){return D(U(t))}),ot=At(I,\"DataView\"),rt=At(I,\"Map\"),it=At(I,\"Promise\"),at=At(I,\"Set\"),st=At(I,\"WeakMap\"),ut=At(Object,\"create\"),ct=Rt(ot),lt=Rt(rt),dt=Rt(it),pt=Rt(at),ft=Rt(st),ht=X?X.prototype:void 0,gt=ht?ht.valueOf:void 0;function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function bt(t){var e=this.__data__=new vt(t);this.size=e.size}function Et(t,e){var n=Ut(t),o=!n&&Dt(t),r=!n&&!o&&jt(t),i=!n&&!o&&!r&&zt(t),a=n||o||r||i,s=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],u=s.length;for(var c in t)!e&&!z.call(t,c)||a&&(\"length\"==c||r&&(\"offset\"==c||\"parent\"==c)||i&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||wt(c,u))||s.push(c);return s}function Tt(t,e){for(var n=t.length;n--;)if(kt(t[n][0],e))return n;return-1}function Ct(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":Q&&Q in Object(t)?function(t){var e=z.call(t,Q),n=t[Q];try{t[Q]=void 0;var o=!0}catch(t){}var r=$.call(t);o&&(e?t[Q]=n:delete t[Q]);return r}(t):function(t){return $.call(t)}(t)}function Ot(t){return Jt(t)&&Ct(t)==r}function St(t,e,n,o,c){return t===e||(null==t||null==e||!Jt(t)&&!Jt(e)?t!=t&&e!=e:function(t,e,n,o,c,f){var m=Ut(t),E=Ut(e),T=m?i:Ft(t),C=E?i:Ft(e),O=(T=T==r?p:T)==p,S=(C=C==r?p:C)==p,I=T==C;if(I&&jt(t)){if(!jt(e))return!1;m=!0,O=!1}if(I&&!O)return f||(f=new bt),m||zt(t)?Mt(t,e,n,o,c,f):function(t,e,n,o,r,i,c){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!i(new Z(t),new Z(e)));case a:case s:case d:return kt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case h:case y:return t==e+\"\";case l:var p=w;case g:var f=1&o;if(p||(p=R),t.size!=e.size&&!f)return!1;var m=c.get(t);if(m)return m==e;o|=2,c.set(t,e);var E=Mt(p(t),p(e),o,r,i,c);return c.delete(t),E;case v:if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,T,n,o,c,f);if(!(1&n)){var x=O&&z.call(t,\"__wrapped__\"),M=S&&z.call(e,\"__wrapped__\");if(x||M){var L=x?t.value():t,N=M?e.value():e;return f||(f=new bt),c(L,N,n,o,f)}}if(!I)return!1;return f||(f=new bt),function(t,e,n,o,r,i){var a=1&n,s=Lt(t),u=s.length,c=Lt(e).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var d=s[l];if(!(a?d in e:z.call(e,d)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var f=!0;i.set(t,e),i.set(e,t);var h=a;for(;++l<u;){var g=t[d=s[l]],y=e[d];if(o)var v=a?o(y,g,d,e,t,i):o(g,y,d,t,e,i);if(!(void 0===v?g===y||r(g,y,n,o,i):v)){f=!1;break}h||(h=\"constructor\"==d)}if(f&&!h){var m=t.constructor,_=e.constructor;m==_||!(\"constructor\"in t)||!(\"constructor\"in e)||\"function\"==typeof m&&m instanceof m&&\"function\"==typeof _&&_ instanceof _||(f=!1)}return i.delete(t),i.delete(e),f}(t,e,n,o,c,f)}(t,e,n,o,St,c))}function It(t){return!(!Gt(t)||function(t){return!!Y&&Y in t}(t))&&(Vt(t)?q:E).test(Rt(t))}function xt(t){if(n=(e=t)&&e.constructor,o=\"function\"==typeof n&&n.prototype||B,e!==o)return nt(t);var e,n,o,r=[];for(var i in Object(t))z.call(t,i)&&\"constructor\"!=i&&r.push(i);return r}function Mt(t,e,n,o,r,i){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var l=-1,d=!0,p=2&n?new _t:void 0;for(i.set(t,e),i.set(e,t);++l<s;){var f=t[l],h=e[l];if(o)var g=a?o(h,f,l,e,t,i):o(f,h,l,t,e,i);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!F(e,(function(t,e){if(a=e,!p.has(a)&&(f===t||r(f,t,n,o,i)))return p.push(e);var a}))){d=!1;break}}else if(f!==h&&!r(f,h,n,o,i)){d=!1;break}}return i.delete(t),i.delete(e),d}function Lt(t){return function(t,e,n){var o=e(t);return Ut(t)?o:function(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}(o,n(t))}(t,Yt,Pt)}function Nt(t,e){var n,o,r=t.__data__;return(\"string\"==(o=typeof(n=e))||\"number\"==o||\"symbol\"==o||\"boolean\"==o?\"__proto__\"!==n:null===n)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function At(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}yt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},yt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yt.prototype.get=function(t){var e=this.__data__;if(ut){var o=e[t];return o===n?void 0:o}return z.call(e,t)?e[t]:void 0},yt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:z.call(e,t)},yt.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=ut&&void 0===e?n:e,this},vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0)&&(n==e.length-1?e.pop():K.call(e,n,1),--this.size,!0)},vt.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},vt.prototype.has=function(t){return Tt(this.__data__,t)>-1},vt.prototype.set=function(t,e){var n=this.__data__,o=Tt(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new yt,map:new(rt||vt),string:new yt}},mt.prototype.delete=function(t){var e=Nt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return Nt(this,t).get(t)},mt.prototype.has=function(t){return Nt(this,t).has(t)},mt.prototype.set=function(t,e){var n=Nt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,n),this},_t.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.clear=function(){this.__data__=new vt,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof vt){var o=n.__data__;if(!rt||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(o)}return n.set(t,e),this.size=n.size,this};var Pt=tt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[r++]=a)}return i}(tt(t),(function(e){return W.call(t,e)})))}:function(){return[]},Ft=Ct;function wt(t,e){return!!(e=null==e?o:e)&&(\"number\"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Rt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function kt(t,e){return t===e||t!=t&&e!=e}(ot&&Ft(new ot(new ArrayBuffer(1)))!=b||rt&&Ft(new rt)!=l||it&&Ft(it.resolve())!=f||at&&Ft(new at)!=g||st&&Ft(new st)!=m)&&(Ft=function(t){var e=Ct(t),n=e==p?t.constructor:void 0,o=n?Rt(n):\"\";if(o)switch(o){case ct:return b;case lt:return l;case dt:return f;case pt:return g;case ft:return m}return e});var Dt=Ot(function(){return arguments}())?Ot:function(t){return Jt(t)&&z.call(t,\"callee\")&&!W.call(t,\"callee\")},Ut=Array.isArray;var jt=et||function(){return!1};function Vt(t){if(!Gt(t))return!1;var e=Ct(t);return e==c||\"[object GeneratorFunction]\"==e||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e}function Bt(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=o}function Gt(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function Jt(t){return null!=t&&\"object\"==typeof t}var zt=P?function(t){return function(e){return t(e)}}(P):function(t){return Jt(t)&&Bt(t.length)&&!!C[Ct(t)]};function Yt(t){return null!=(e=t)&&Bt(e.length)&&!Vt(e)?Et(t):xt(t);var e}t.exports=function(t,e){return St(t,e)}}(fe,fe.exports);var he=e(fe.exports);function ge(t,e){return t.length===e.length&&JSON.stringify(t.map((function(t){return t})).sort())===JSON.stringify(e.map((function(t){return t})).sort())}var ye={Polygon:V,LineString:j,Point:U,MultiPolygon:J,MultiLineString:J,MultiPoint:J};var ve=Object.freeze({__proto__:null,CommonSelectors:ht,constrainFeatureMovement:Kt,createMidPoint:bt,createSupplementaryPoints:Et,createVertex:_t,doubleClickZoom:Tt,euclideanDistance:A,featuresAt:M,getFeatureAtAndSetCursors:N,isClick:P,isEventAtCoordinates:ie,isTap:F,mapEventToBoundingBox:S,ModeHandler:t,moveFeatures:Qt,sortFeatures:O,stringSetsAreEqual:ge,StringSet:I,theme:ot,toDenseArray:H}),me=function(t,e){var n={options:t=function(t){void 0===t&&(t={});var e=tt(t);return t.controls||(e.controls={}),!1===t.displayControlsDefault?e.controls=tt(de,t.controls):e.controls=tt(le,t.controls),(e=tt(ce,e)).styles=pe(e.styles,\"cold\").concat(pe(e.styles,\"hot\")),e}(t)};e=function(t,e){return e.modes=h,e.getFeatureIdsAt=function(e){return M.click({point:e},null,t).map((function(t){return t.properties.id}))},e.getSelectedIds=function(){return t.store.getSelectedIds()},e.getSelected=function(){return{type:f.FEATURE_COLLECTION,features:t.store.getSelectedIds().map((function(e){return t.store.get(e)})).map((function(t){return t.toGeoJSON()}))}},e.getSelectedPoints=function(){return{type:f.FEATURE_COLLECTION,features:t.store.getSelectedCoordinates().map((function(t){return{type:f.FEATURE,properties:{},geometry:{type:f.POINT,coordinates:t.coordinates}}}))}},e.set=function(n){if(void 0===n.type||n.type!==f.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error(\"Invalid FeatureCollection\");var o=t.store.createRenderBatch(),r=t.store.getAllIds().slice(),i=e.add(n),a=new I(i);return(r=r.filter((function(t){return!a.has(t)}))).length&&e.delete(r),o(),i},e.add=function(e){var n=JSON.parse(JSON.stringify(It(e))).features.map((function(e){if(e.id=e.id||k(),null===e.geometry)throw new Error(\"Invalid geometry: null\");if(void 0===t.store.get(e.id)||t.store.get(e.id).type!==e.geometry.type){var n=ye[e.geometry.type];if(void 0===n)throw new Error(\"Invalid geometry type: \"+e.geometry.type+\".\");var o=new n(t,e);t.store.add(o)}else{var r=t.store.get(e.id);r.properties=e.properties,he(r.properties,e.properties)||t.store.featureChanged(r.id),he(r.getCoordinates(),e.geometry.coordinates)||r.incomingCoords(e.geometry.coordinates)}return e.id}));return t.store.render(),n},e.get=function(e){var n=t.store.get(e);if(n)return n.toGeoJSON()},e.getAll=function(){return{type:f.FEATURE_COLLECTION,features:t.store.getAll().map((function(t){return t.toGeoJSON()}))}},e.delete=function(n){return t.store.delete(n,{silent:!0}),e.getMode()!==h.DIRECT_SELECT||t.store.getSelectedIds().length?t.store.render():t.events.changeMode(h.SIMPLE_SELECT,void 0,{silent:!0}),e},e.deleteAll=function(){return t.store.delete(t.store.getAllIds(),{silent:!0}),e.getMode()===h.DIRECT_SELECT?t.events.changeMode(h.SIMPLE_SELECT,void 0,{silent:!0}):t.store.render(),e},e.changeMode=function(n,o){return void 0===o&&(o={}),n===h.SIMPLE_SELECT&&e.getMode()===h.SIMPLE_SELECT?(ge(o.featureIds||[],t.store.getSelectedIds())||(t.store.setSelected(o.featureIds,{silent:!0}),t.store.render()),e):(n===h.DIRECT_SELECT&&e.getMode()===h.DIRECT_SELECT&&o.featureId===t.store.getSelectedIds()[0]||t.events.changeMode(n,o,{silent:!0}),e)},e.getMode=function(){return t.events.getMode()},e.trash=function(){return t.events.trash({silent:!0}),e},e.combineFeatures=function(){return t.events.combineFeatures({silent:!0}),e},e.uncombineFeatures=function(){return t.events.uncombineFeatures({silent:!0}),e},e.setFeatureProperty=function(n,o,r){return t.store.setFeatureProperty(n,o,r),e},e}(n,e),n.api=e;var o=nt(n);return e.onAdd=o.onAdd,e.onRemove=o.onRemove,e.types=p,e.options=t,e};function _e(t){me(t,this)}return _e.modes=ue,_e.constants=E,_e.lib=ve,_e}));\n//# sourceMappingURL=mapbox-gl-draw.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9kaXN0L21hcGJveC1nbC1kcmF3LmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBb0Qsb0JBQW9CLENBQW9ILENBQUMsa0JBQWtCLGFBQWEsb0JBQW9CLE9BQU8sb0lBQW9JLElBQUksbUJBQW1CLDJEQUEyRCxXQUFXLGdCQUFnQixFQUFFLG9CQUFvQiwyQkFBMkIsaUJBQWlCLDBCQUEwQixJQUFJLEVBQUUsV0FBVyxrQkFBa0IseURBQXlELFNBQVMsd0JBQXdCLGdDQUFnQyxpQkFBaUIsa0JBQWtCLHNDQUFzQyw0QkFBNEIsdUNBQXVDLDhCQUE4QiwyQ0FBMkMsa0JBQWtCLFlBQVksbUJBQW1CLGFBQWEsdUJBQXVCLGlCQUFpQix1QkFBdUIsaUJBQWlCLHFCQUFxQixlQUFlLHNCQUFzQixnQkFBZ0IscUJBQXFCLGVBQWUsbUJBQW1CLGFBQWEsd0JBQXdCLGtCQUFrQix1QkFBdUIsaUJBQWlCLHNCQUFzQixnQkFBZ0IsaUJBQWlCLGNBQWMsY0FBYyxzRkFBc0YsY0FBYyx5QkFBeUIsZ0JBQWdCLHlCQUF5QixtQkFBbUIsc0JBQXNCLGFBQWEsMEJBQTBCLCtCQUErQixhQUFhLGdDQUFnQyx3QkFBd0IsVUFBVSw2Q0FBNkMsU0FBUyxzQ0FBc0MsMkNBQTJDLG1DQUFtQyw2QkFBNkIsYUFBYSxFQUFFLEtBQUssUUFBUSxJQUFJLG9FQUFvRSxLQUFLLGNBQWMsUUFBUSxrQkFBa0IscUJBQXFCLFlBQVksV0FBVyx5QkFBeUIsU0FBUyxjQUFjLCtCQUErQixRQUFRLFFBQVEsSUFBSSxnSUFBZ0ksd0JBQXdCLFNBQVMsY0FBYyxxQkFBcUIseUJBQXlCLFVBQVUsZUFBZSxzQ0FBc0MsMkJBQTJCLHVCQUF1QiwyQkFBMkIsU0FBUyw2RUFBNkUsaUNBQWlDLHNCQUFzQiwwQkFBMEIsVUFBVSxVQUFVLE9BQU8sdWhCQUF1aEIsSUFBSSxvREFBb0QsSUFBSSxnRUFBZ0UsSUFBSSxtREFBbUQsSUFB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MEIscUJBQXFCLE9BQU8scUVBQXFFLHFCQUFxQixJQUFJLHNCQUFzQix5QkFBeUIsVUFBVSw4SEFBOEgsVUFBVSxJQUFJLHdCQUF3QiwyQ0FBMkMsVUFBVSw0RUFBNEUsVUFBVSxxQkFBcUIsNEJBQTRCLHdCQUF3Qix3SUFBd0ksVUFBVSxnSkFBZ0osVUFBVSxLQUFLLHNCQUFzQiwwQkFBMEIsb0JBQW9CLHVCQUF1QixVQUFVLElBQUksOEJBQThCLGlDQUFpQyxVQUFVLElBQUksZ0NBQWdDLG1DQUFtQyxVQUFVLElBQUksc0NBQXNDLDJDQUEyQyxHQUFHLGNBQWMsWUFBWSxzRUFBc0UsZUFBZSxXQUFXLCtDQUErQztBQUNodzZFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm91dG9waWEvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9kaXN0L21hcGJveC1nbC1kcmF3LmpzP2QyN2MiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5NYXBib3hEcmF3PWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdD1mdW5jdGlvbih0LGUpe3ZhciBuPXtkcmFnOltdLGNsaWNrOltdLG1vdXNlbW92ZTpbXSxtb3VzZWRvd246W10sbW91c2V1cDpbXSxtb3VzZW91dDpbXSxrZXlkb3duOltdLGtleXVwOltdLHRvdWNoc3RhcnQ6W10sdG91Y2htb3ZlOltdLHRvdWNoZW5kOltdLHRhcDpbXX0sbz17b246ZnVuY3Rpb24odCxlLG8pe2lmKHZvaWQgMD09PW5bdF0pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlOiBcIit0KTtuW3RdLnB1c2goe3NlbGVjdG9yOmUsZm46b30pfSxyZW5kZXI6ZnVuY3Rpb24odCl7ZS5zdG9yZS5mZWF0dXJlQ2hhbmdlZCh0KX19LHI9ZnVuY3Rpb24odCxyKXtmb3IodmFyIGk9blt0XSxhPWkubGVuZ3RoO2EtLTspe3ZhciBzPWlbYV07aWYocy5zZWxlY3RvcihyKSl7cy5mbi5jYWxsKG8scil8fGUuc3RvcmUucmVuZGVyKCksZS51aS51cGRhdGVNYXBDbGFzc2VzKCk7YnJlYWt9fX07cmV0dXJuIHQuc3RhcnQuY2FsbChvKSx7cmVuZGVyOnQucmVuZGVyLHN0b3A6ZnVuY3Rpb24oKXt0LnN0b3AmJnQuc3RvcCgpfSx0cmFzaDpmdW5jdGlvbigpe3QudHJhc2gmJih0LnRyYXNoKCksZS5zdG9yZS5yZW5kZXIoKSl9LGNvbWJpbmVGZWF0dXJlczpmdW5jdGlvbigpe3QuY29tYmluZUZlYXR1cmVzJiZ0LmNvbWJpbmVGZWF0dXJlcygpfSx1bmNvbWJpbmVGZWF0dXJlczpmdW5jdGlvbigpe3QudW5jb21iaW5lRmVhdHVyZXMmJnQudW5jb21iaW5lRmVhdHVyZXMoKX0sZHJhZzpmdW5jdGlvbih0KXtyKFwiZHJhZ1wiLHQpfSxjbGljazpmdW5jdGlvbih0KXtyKFwiY2xpY2tcIix0KX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe3IoXCJtb3VzZW1vdmVcIix0KX0sbW91c2Vkb3duOmZ1bmN0aW9uKHQpe3IoXCJtb3VzZWRvd25cIix0KX0sbW91c2V1cDpmdW5jdGlvbih0KXtyKFwibW91c2V1cFwiLHQpfSxtb3VzZW91dDpmdW5jdGlvbih0KXtyKFwibW91c2VvdXRcIix0KX0sa2V5ZG93bjpmdW5jdGlvbih0KXtyKFwia2V5ZG93blwiLHQpfSxrZXl1cDpmdW5jdGlvbih0KXtyKFwia2V5dXBcIix0KX0sdG91Y2hzdGFydDpmdW5jdGlvbih0KXtyKFwidG91Y2hzdGFydFwiLHQpfSx0b3VjaG1vdmU6ZnVuY3Rpb24odCl7cihcInRvdWNobW92ZVwiLHQpfSx0b3VjaGVuZDpmdW5jdGlvbih0KXtyKFwidG91Y2hlbmRcIix0KX0sdGFwOmZ1bmN0aW9uKHQpe3IoXCJ0YXBcIix0KX19fTtmdW5jdGlvbiBlKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiZGVmYXVsdFwiKT90LmRlZmF1bHQ6dH1mdW5jdGlvbiBuKHQpe2lmKHQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT10LmRlZmF1bHQ7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7dmFyIG49ZnVuY3Rpb24gdCgpe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXt2YXIgbj1bbnVsbF07bi5wdXNoLmFwcGx5KG4sYXJndW1lbnRzKTt2YXIgbz1GdW5jdGlvbi5iaW5kLmFwcGx5KGUsbik7cmV0dXJuIG5ldyBvfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bi5wcm90b3R5cGU9ZS5wcm90b3R5cGV9ZWxzZSBuPXt9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sZSxvLmdldD9vOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W2VdfX0pfSkpLG59dmFyIG89e30scj17UkFESVVTOjYzNzgxMzcsRkxBVFRFTklORzoxLzI5OC4yNTcyMjM1NjMsUE9MQVJfUkFESVVTOjYzNTY3NTIuMzE0Mn0saT1yO2Z1bmN0aW9uIGEodCl7dmFyIGU9MDtpZih0JiZ0Lmxlbmd0aD4wKXtlKz1NYXRoLmFicyhzKHRbMF0pKTtmb3IodmFyIG49MTtuPHQubGVuZ3RoO24rKyllLT1NYXRoLmFicyhzKHRbbl0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKHQpe3ZhciBlLG4sbyxyLGEscyxjPTAsbD10Lmxlbmd0aDtpZihsPjIpe2ZvcihzPTA7czxsO3MrKylzPT09bC0yPyhvPWwtMixyPWwtMSxhPTApOnM9PT1sLTE/KG89bC0xLHI9MCxhPTEpOihvPXMscj1zKzEsYT1zKzIpLGU9dFtvXSxuPXRbcl0sYys9KHUodFthXVswXSktdShlWzBdKSkqTWF0aC5zaW4odShuWzFdKSk7Yz1jKmkuUkFESVVTKmkuUkFESVVTLzJ9cmV0dXJuIGN9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdCpNYXRoLlBJLzE4MH1vLmdlb21ldHJ5PWZ1bmN0aW9uIHQoZSl7dmFyIG4sbz0wO3N3aXRjaChlLnR5cGUpe2Nhc2VcIlBvbHlnb25cIjpyZXR1cm4gYShlLmNvb3JkaW5hdGVzKTtjYXNlXCJNdWx0aVBvbHlnb25cIjpmb3Iobj0wO248ZS5jb29yZGluYXRlcy5sZW5ndGg7bisrKW8rPWEoZS5jb29yZGluYXRlc1tuXSk7cmV0dXJuIG87Y2FzZVwiUG9pbnRcIjpjYXNlXCJNdWx0aVBvaW50XCI6Y2FzZVwiTGluZVN0cmluZ1wiOmNhc2VcIk11bHRpTGluZVN0cmluZ1wiOnJldHVybiAwO2Nhc2VcIkdlb21ldHJ5Q29sbGVjdGlvblwiOmZvcihuPTA7bjxlLmdlb21ldHJpZXMubGVuZ3RoO24rKylvKz10KGUuZ2VvbWV0cmllc1tuXSk7cmV0dXJuIG99fSxvLnJpbmc9czt2YXIgYz17Q09OVFJPTF9CQVNFOlwibWFwYm94Z2wtY3RybFwiLENPTlRST0xfUFJFRklYOlwibWFwYm94Z2wtY3RybC1cIixDT05UUk9MX0JVVFRPTjpcIm1hcGJveC1nbC1kcmF3X2N0cmwtZHJhdy1idG5cIixDT05UUk9MX0JVVFRPTl9MSU5FOlwibWFwYm94LWdsLWRyYXdfbGluZVwiLENPTlRST0xfQlVUVE9OX1BPTFlHT046XCJtYXBib3gtZ2wtZHJhd19wb2x5Z29uXCIsQ09OVFJPTF9CVVRUT05fUE9JTlQ6XCJtYXBib3gtZ2wtZHJhd19wb2ludFwiLENPTlRST0xfQlVUVE9OX1RSQVNIOlwibWFwYm94LWdsLWRyYXdfdHJhc2hcIixDT05UUk9MX0JVVFRPTl9DT01CSU5FX0ZFQVRVUkVTOlwibWFwYm94LWdsLWRyYXdfY29tYmluZVwiLENPTlRST0xfQlVUVE9OX1VOQ09NQklORV9GRUFUVVJFUzpcIm1hcGJveC1nbC1kcmF3X3VuY29tYmluZVwiLENPTlRST0xfR1JPVVA6XCJtYXBib3hnbC1jdHJsLWdyb3VwXCIsQVRUUklCVVRJT046XCJtYXBib3hnbC1jdHJsLWF0dHJpYlwiLEFDVElWRV9CVVRUT046XCJhY3RpdmVcIixCT1hfU0VMRUNUOlwibWFwYm94LWdsLWRyYXdfYm94c2VsZWN0XCJ9LGw9e0hPVDpcIm1hcGJveC1nbC1kcmF3LWhvdFwiLENPTEQ6XCJtYXBib3gtZ2wtZHJhdy1jb2xkXCJ9LGQ9e0FERDpcImFkZFwiLE1PVkU6XCJtb3ZlXCIsRFJBRzpcImRyYWdcIixQT0lOVEVSOlwicG9pbnRlclwiLE5PTkU6XCJub25lXCJ9LHA9e1BPTFlHT046XCJwb2x5Z29uXCIsTElORTpcImxpbmVfc3RyaW5nXCIsUE9JTlQ6XCJwb2ludFwifSxmPXtGRUFUVVJFOlwiRmVhdHVyZVwiLFBPTFlHT046XCJQb2x5Z29uXCIsTElORV9TVFJJTkc6XCJMaW5lU3RyaW5nXCIsUE9JTlQ6XCJQb2ludFwiLEZFQVRVUkVfQ09MTEVDVElPTjpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsTVVMVElfUFJFRklYOlwiTXVsdGlcIixNVUxUSV9QT0lOVDpcIk11bHRpUG9pbnRcIixNVUxUSV9MSU5FX1NUUklORzpcIk11bHRpTGluZVN0cmluZ1wiLE1VTFRJX1BPTFlHT046XCJNdWx0aVBvbHlnb25cIn0saD17RFJBV19MSU5FX1NUUklORzpcImRyYXdfbGluZV9zdHJpbmdcIixEUkFXX1BPTFlHT046XCJkcmF3X3BvbHlnb25cIixEUkFXX1BPSU5UOlwiZHJhd19wb2ludFwiLFNJTVBMRV9TRUxFQ1Q6XCJzaW1wbGVfc2VsZWN0XCIsRElSRUNUX1NFTEVDVDpcImRpcmVjdF9zZWxlY3RcIixTVEFUSUM6XCJzdGF0aWNcIn0sZz17Q1JFQVRFOlwiZHJhdy5jcmVhdGVcIixERUxFVEU6XCJkcmF3LmRlbGV0ZVwiLFVQREFURTpcImRyYXcudXBkYXRlXCIsU0VMRUNUSU9OX0NIQU5HRTpcImRyYXcuc2VsZWN0aW9uY2hhbmdlXCIsTU9ERV9DSEFOR0U6XCJkcmF3Lm1vZGVjaGFuZ2VcIixBQ1RJT05BQkxFOlwiZHJhdy5hY3Rpb25hYmxlXCIsUkVOREVSOlwiZHJhdy5yZW5kZXJcIixDT01CSU5FX0ZFQVRVUkVTOlwiZHJhdy5jb21iaW5lXCIsVU5DT01CSU5FX0ZFQVRVUkVTOlwiZHJhdy51bmNvbWJpbmVcIn0seT17TU9WRTpcIm1vdmVcIixDSEFOR0VfQ09PUkRJTkFURVM6XCJjaGFuZ2VfY29vcmRpbmF0ZXNcIn0sdj17RkVBVFVSRTpcImZlYXR1cmVcIixNSURQT0lOVDpcIm1pZHBvaW50XCIsVkVSVEVYOlwidmVydGV4XCJ9LG09e0FDVElWRTpcInRydWVcIixJTkFDVElWRTpcImZhbHNlXCJ9LF89W1wic2Nyb2xsWm9vbVwiLFwiYm94Wm9vbVwiLFwiZHJhZ1JvdGF0ZVwiLFwiZHJhZ1BhblwiLFwia2V5Ym9hcmRcIixcImRvdWJsZUNsaWNrWm9vbVwiLFwidG91Y2hab29tUm90YXRlXCJdLGI9LTg1LEU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY2xhc3NlczpjLHNvdXJjZXM6bCxjdXJzb3JzOmQsdHlwZXM6cCxnZW9qc29uVHlwZXM6Zixtb2RlczpoLGV2ZW50czpnLHVwZGF0ZUFjdGlvbnM6eSxtZXRhOnYsYWN0aXZlU3RhdGVzOm0saW50ZXJhY3Rpb25zOl8sTEFUX01JTjotOTAsTEFUX1JFTkRFUkVEX01JTjpiLExBVF9NQVg6OTAsTEFUX1JFTkRFUkVEX01BWDo4NSxMTkdfTUlOOi0yNzAsTE5HX01BWDoyNzB9KSxUPXtQb2ludDowLExpbmVTdHJpbmc6MSxNdWx0aUxpbmVTdHJpbmc6MSxQb2x5Z29uOjJ9O2Z1bmN0aW9uIEModCxlKXt2YXIgbj1UW3QuZ2VvbWV0cnkudHlwZV0tVFtlLmdlb21ldHJ5LnR5cGVdO3JldHVybiAwPT09biYmdC5nZW9tZXRyeS50eXBlPT09Zi5QT0xZR09OP3QuYXJlYS1lLmFyZWE6bn1mdW5jdGlvbiBPKHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnkudHlwZT09PWYuUE9MWUdPTiYmKHQuYXJlYT1vLmdlb21ldHJ5KHt0eXBlOmYuRkVBVFVSRSxwcm9wZXJ0eTp7fSxnZW9tZXRyeTp0Lmdlb21ldHJ5fSkpLHR9KSkuc29ydChDKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgdC5hcmVhLHR9KSl9ZnVuY3Rpb24gUyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSxbW3QucG9pbnQueC1lLHQucG9pbnQueS1lXSxbdC5wb2ludC54K2UsdC5wb2ludC55K2VdXX1mdW5jdGlvbiBJKHQpe2lmKHRoaXMuX2l0ZW1zPXt9LHRoaXMuX251bXM9e30sdGhpcy5fbGVuZ3RoPXQ/dC5sZW5ndGg6MCx0KWZvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmFkZCh0W2VdKSx2b2lkIDAhPT10W2VdJiYoXCJzdHJpbmdcIj09dHlwZW9mIHRbZV0/dGhpcy5faXRlbXNbdFtlXV09ZTp0aGlzLl9udW1zW3RbZV1dPWUpfUkucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCl8fCh0aGlzLl9sZW5ndGgrKyxcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLl9pdGVtc1t0XT10aGlzLl9sZW5ndGg6dGhpcy5fbnVtc1t0XT10aGlzLl9sZW5ndGgpLHRoaXN9LEkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4hMT09PXRoaXMuaGFzKHQpfHwodGhpcy5fbGVuZ3RoLS0sZGVsZXRlIHRoaXMuX2l0ZW1zW3RdLGRlbGV0ZSB0aGlzLl9udW1zW3RdKSx0aGlzfSxJLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdCkmJih2b2lkIDAhPT10aGlzLl9pdGVtc1t0XXx8dm9pZCAwIT09dGhpcy5fbnVtc1t0XSl9LEkucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1bXTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5faXRlbXMpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UucHVzaCh7azpuLHY6dC5faXRlbXNbbl19KX0pKSxPYmplY3Qua2V5cyh0aGlzLl9udW1zKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLnB1c2goe2s6SlNPTi5wYXJzZShuKSx2OnQuX251bXNbbl19KX0pKSxlLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudi1lLnZ9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rfSkpfSxJLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGg9MCx0aGlzLl9pdGVtcz17fSx0aGlzLl9udW1zPXt9LHRoaXN9O3ZhciB4PVt2LkZFQVRVUkUsdi5NSURQT0lOVCx2LlZFUlRFWF0sTT17Y2xpY2s6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBMKHQsZSxuLG4ub3B0aW9ucy5jbGlja0J1ZmZlcil9LHRvdWNoOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTCh0LGUsbixuLm9wdGlvbnMudG91Y2hCdWZmZXIpfX07ZnVuY3Rpb24gTCh0LGUsbixvKXtpZihudWxsPT09bi5tYXApcmV0dXJuW107dmFyIHI9dD9TKHQsbyk6ZSxpPXt9O24ub3B0aW9ucy5zdHlsZXMmJihpLmxheWVycz1uLm9wdGlvbnMuc3R5bGVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9bi5tYXAuZ2V0TGF5ZXIodCl9KSkpO3ZhciBhPW4ubWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhyLGkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuLTEhPT14LmluZGV4T2YodC5wcm9wZXJ0aWVzLm1ldGEpfSkpLHM9bmV3IEksdT1bXTtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LnByb3BlcnRpZXMuaWQ7cy5oYXMoZSl8fChzLmFkZChlKSx1LnB1c2godCkpfSkpLE8odSl9ZnVuY3Rpb24gTih0LGUpe3ZhciBuPU0uY2xpY2sodCxudWxsLGUpLG89e21vdXNlOmQuTk9ORX07cmV0dXJuIG5bMF0mJihvLm1vdXNlPW5bMF0ucHJvcGVydGllcy5hY3RpdmU9PT1tLkFDVElWRT9kLk1PVkU6ZC5QT0lOVEVSLG8uZmVhdHVyZT1uWzBdLnByb3BlcnRpZXMubWV0YSksLTEhPT1lLmV2ZW50cy5jdXJyZW50TW9kZU5hbWUoKS5pbmRleE9mKFwiZHJhd1wiKSYmKG8ubW91c2U9ZC5BREQpLGUudWkucXVldWVNYXBDbGFzc2VzKG8pLGUudWkudXBkYXRlTWFwQ2xhc3NlcygpLG5bMF19ZnVuY3Rpb24gQSh0LGUpe3ZhciBuPXQueC1lLngsbz10LnktZS55O3JldHVybiBNYXRoLnNxcnQobipuK28qbyl9ZnVuY3Rpb24gUCh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciBvPW51bGwhPW4uZmluZVRvbGVyYW5jZT9uLmZpbmVUb2xlcmFuY2U6NCxyPW51bGwhPW4uZ3Jvc3NUb2xlcmFuY2U/bi5ncm9zc1RvbGVyYW5jZToxMixpPW51bGwhPW4uaW50ZXJ2YWw/bi5pbnRlcnZhbDo1MDA7dC5wb2ludD10LnBvaW50fHxlLnBvaW50LHQudGltZT10LnRpbWV8fGUudGltZTt2YXIgYT1BKHQucG9pbnQsZS5wb2ludCk7cmV0dXJuIGE8b3x8YTxyJiZlLnRpbWUtdC50aW1lPGl9ZnVuY3Rpb24gRih0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciBvPW51bGwhPW4udG9sZXJhbmNlP24udG9sZXJhbmNlOjI1LHI9bnVsbCE9bi5pbnRlcnZhbD9uLmludGVydmFsOjI1MDtyZXR1cm4gdC5wb2ludD10LnBvaW50fHxlLnBvaW50LHQudGltZT10LnRpbWV8fGUudGltZSxBKHQucG9pbnQsZS5wb2ludCk8byYmZS50aW1lLXQudGltZTxyfXZhciB3PXtleHBvcnRzOnt9fSxSPXcuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGV8fChlPTE2KSx2b2lkIDA9PT10JiYodD0xMjgpLHQ8PTApcmV0dXJuXCIwXCI7Zm9yKHZhciBuPU1hdGgubG9nKE1hdGgucG93KDIsdCkpL01hdGgubG9nKGUpLG89MjtuPT09MS8wO28qPTIpbj1NYXRoLmxvZyhNYXRoLnBvdygyLHQvbykpL01hdGgubG9nKGUpKm87dmFyIHI9bi1NYXRoLmZsb29yKG4pLGk9XCJcIjtmb3Iobz0wO288TWF0aC5mbG9vcihuKTtvKyspe2k9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmUpLnRvU3RyaW5nKGUpK2l9aWYocil7dmFyIGE9TWF0aC5wb3coZSxyKTtpPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSphKS50b1N0cmluZyhlKStpfXZhciBzPXBhcnNlSW50KGksZSk7cmV0dXJuIHMhPT0xLzAmJnM+PU1hdGgucG93KDIsdCk/Uih0LGUpOml9O1IucmFjaz1mdW5jdGlvbih0LGUsbil7dmFyIG89ZnVuY3Rpb24obyl7dmFyIGk9MDtkb3tpZihpKys+MTApe2lmKCFuKXRocm93IG5ldyBFcnJvcihcInRvbyBtYW55IElEIGNvbGxpc2lvbnMsIHVzZSBtb3JlIGJpdHNcIik7dCs9bn12YXIgYT1SKHQsZSl9d2hpbGUoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixhKSk7cmV0dXJuIHJbYV09byxhfSxyPW8uaGF0cz17fTtyZXR1cm4gby5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG8uaGF0c1t0XX0sby5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gby5oYXRzW3RdPWUsb30sby5iaXRzPXR8fDEyOCxvLmJhc2U9ZXx8MTYsb307dmFyIGs9ZSh3LmV4cG9ydHMpLEQ9ZnVuY3Rpb24odCxlKXt0aGlzLmN0eD10LHRoaXMucHJvcGVydGllcz1lLnByb3BlcnRpZXN8fHt9LHRoaXMuY29vcmRpbmF0ZXM9ZS5nZW9tZXRyeS5jb29yZGluYXRlcyx0aGlzLmlkPWUuaWR8fGsoKSx0aGlzLnR5cGU9ZS5nZW9tZXRyeS50eXBlfTtELnByb3RvdHlwZS5jaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5jdHguc3RvcmUuZmVhdHVyZUNoYW5nZWQodGhpcy5pZCl9LEQucHJvdG90eXBlLmluY29taW5nQ29vcmRzPWZ1bmN0aW9uKHQpe3RoaXMuc2V0Q29vcmRpbmF0ZXModCl9LEQucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3RoaXMuY29vcmRpbmF0ZXM9dCx0aGlzLmNoYW5nZWQoKX0sRC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvb3JkaW5hdGVzKSl9LEQucHJvdG90eXBlLnNldFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7dGhpcy5wcm9wZXJ0aWVzW3RdPWV9LEQucHJvdG90eXBlLnRvR2VvSlNPTj1mdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHtpZDp0aGlzLmlkLHR5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzLGdlb21ldHJ5Ontjb29yZGluYXRlczp0aGlzLmdldENvb3JkaW5hdGVzKCksdHlwZTp0aGlzLnR5cGV9fSkpfSxELnByb3RvdHlwZS5pbnRlcm5hbD1mdW5jdGlvbih0KXt2YXIgZT17aWQ6dGhpcy5pZCxtZXRhOnYuRkVBVFVSRSxcIm1ldGE6dHlwZVwiOnRoaXMudHlwZSxhY3RpdmU6bS5JTkFDVElWRSxtb2RlOnR9O2lmKHRoaXMuY3R4Lm9wdGlvbnMudXNlclByb3BlcnRpZXMpZm9yKHZhciBuIGluIHRoaXMucHJvcGVydGllcyllW1widXNlcl9cIituXT10aGlzLnByb3BlcnRpZXNbbl07cmV0dXJue3R5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6ZSxnZW9tZXRyeTp7Y29vcmRpbmF0ZXM6dGhpcy5nZXRDb29yZGluYXRlcygpLHR5cGU6dGhpcy50eXBlfX19O3ZhciBVPWZ1bmN0aW9uKHQsZSl7RC5jYWxsKHRoaXMsdCxlKX07KFUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRC5wcm90b3R5cGUpKS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuY29vcmRpbmF0ZXNbMF0mJlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmNvb3JkaW5hdGVzWzFdfSxVLnByb3RvdHlwZS51cGRhdGVDb29yZGluYXRlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmNvb3JkaW5hdGVzPTM9PT1hcmd1bWVudHMubGVuZ3RoP1tlLG5dOlt0LGVdLHRoaXMuY2hhbmdlZCgpfSxVLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKX07dmFyIGo9ZnVuY3Rpb24odCxlKXtELmNhbGwodGhpcyx0LGUpfTsoai5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShELnByb3RvdHlwZSkpLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg+MX0sai5wcm90b3R5cGUuYWRkQ29vcmRpbmF0ZT1mdW5jdGlvbih0LGUsbil7dGhpcy5jaGFuZ2VkKCk7dmFyIG89cGFyc2VJbnQodCwxMCk7dGhpcy5jb29yZGluYXRlcy5zcGxpY2UobywwLFtlLG5dKX0sai5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXt2YXIgZT1wYXJzZUludCh0LDEwKTtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvb3JkaW5hdGVzW2VdKSl9LGoucHJvdG90eXBlLnJlbW92ZUNvb3JkaW5hdGU9ZnVuY3Rpb24odCl7dGhpcy5jaGFuZ2VkKCksdGhpcy5jb29yZGluYXRlcy5zcGxpY2UocGFyc2VJbnQodCwxMCksMSl9LGoucHJvdG90eXBlLnVwZGF0ZUNvb3JkaW5hdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXBhcnNlSW50KHQsMTApO3RoaXMuY29vcmRpbmF0ZXNbb109W2Usbl0sdGhpcy5jaGFuZ2VkKCl9O3ZhciBWPWZ1bmN0aW9uKHQsZSl7RC5jYWxsKHRoaXMsdCxlKSx0aGlzLmNvb3JkaW5hdGVzPXRoaXMuY29vcmRpbmF0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgwLC0xKX0pKX07KFYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRC5wcm90b3R5cGUpKS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCYmdGhpcy5jb29yZGluYXRlcy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjJ9KSl9LFYucHJvdG90eXBlLmluY29taW5nQ29vcmRzPWZ1bmN0aW9uKHQpe3RoaXMuY29vcmRpbmF0ZXM9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKDAsLTEpfSkpLHRoaXMuY2hhbmdlZCgpfSxWLnByb3RvdHlwZS5zZXRDb29yZGluYXRlcz1mdW5jdGlvbih0KXt0aGlzLmNvb3JkaW5hdGVzPXQsdGhpcy5jaGFuZ2VkKCl9LFYucHJvdG90eXBlLmFkZENvb3JkaW5hdGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuY2hhbmdlZCgpO3ZhciBvPXQuc3BsaXQoXCIuXCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSkpO3RoaXMuY29vcmRpbmF0ZXNbb1swXV0uc3BsaWNlKG9bMV0sMCxbZSxuXSl9LFYucHJvdG90eXBlLnJlbW92ZUNvb3JkaW5hdGU9ZnVuY3Rpb24odCl7dGhpcy5jaGFuZ2VkKCk7dmFyIGU9dC5zcGxpdChcIi5cIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9KSksbj10aGlzLmNvb3JkaW5hdGVzW2VbMF1dO24mJihuLnNwbGljZShlWzFdLDEpLG4ubGVuZ3RoPDMmJnRoaXMuY29vcmRpbmF0ZXMuc3BsaWNlKGVbMF0sMSkpfSxWLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSkpLG49dGhpcy5jb29yZGluYXRlc1tlWzBdXTtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuW2VbMV1dKSl9LFYucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25jYXQoW3RbMF1dKX0pKX0sVi5wcm90b3R5cGUudXBkYXRlQ29vcmRpbmF0ZT1mdW5jdGlvbih0LGUsbil7dGhpcy5jaGFuZ2VkKCk7dmFyIG89dC5zcGxpdChcIi5cIikscj1wYXJzZUludChvWzBdLDEwKSxpPXBhcnNlSW50KG9bMV0sMTApO3ZvaWQgMD09PXRoaXMuY29vcmRpbmF0ZXNbcl0mJih0aGlzLmNvb3JkaW5hdGVzW3JdPVtdKSx0aGlzLmNvb3JkaW5hdGVzW3JdW2ldPVtlLG5dfTt2YXIgQj17TXVsdGlQb2ludDpVLE11bHRpTGluZVN0cmluZzpqLE11bHRpUG9seWdvbjpWfSxHPWZ1bmN0aW9uKHQsZSxuLG8scil7dmFyIGk9bi5zcGxpdChcIi5cIiksYT1wYXJzZUludChpWzBdLDEwKSxzPWlbMV0/aS5zbGljZSgxKS5qb2luKFwiLlwiKTpudWxsO3JldHVybiB0W2FdW2VdKHMsbyxyKX0sSj1mdW5jdGlvbih0LGUpe2lmKEQuY2FsbCh0aGlzLHQsZSksZGVsZXRlIHRoaXMuY29vcmRpbmF0ZXMsdGhpcy5tb2RlbD1CW2UuZ2VvbWV0cnkudHlwZV0sdm9pZCAwPT09dGhpcy5tb2RlbCl0aHJvdyBuZXcgVHlwZUVycm9yKGUuZ2VvbWV0cnkudHlwZStcIiBpcyBub3QgYSB2YWxpZCB0eXBlXCIpO3RoaXMuZmVhdHVyZXM9dGhpcy5fY29vcmRpbmF0ZXNUb0ZlYXR1cmVzKGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpfTtmdW5jdGlvbiB6KHQpe3RoaXMubWFwPXQubWFwLHRoaXMuZHJhd0NvbmZpZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQub3B0aW9uc3x8e30pKSx0aGlzLl9jdHg9dH0oSi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShELnByb3RvdHlwZSkpLl9jb29yZGluYXRlc1RvRmVhdHVyZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMubW9kZWwuYmluZCh0aGlzKTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbihlLmN0eCx7aWQ6aygpLHR5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6e30sZ2VvbWV0cnk6e2Nvb3JkaW5hdGVzOnQsdHlwZTplLnR5cGUucmVwbGFjZShcIk11bHRpXCIsXCJcIil9fSl9KSl9LEoucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZWF0dXJlcy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNWYWxpZCgpfSkpfSxKLnByb3RvdHlwZS5zZXRDb29yZGluYXRlcz1mdW5jdGlvbih0KXt0aGlzLmZlYXR1cmVzPXRoaXMuX2Nvb3JkaW5hdGVzVG9GZWF0dXJlcyh0KSx0aGlzLmNoYW5nZWQoKX0sSi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gRyh0aGlzLmZlYXR1cmVzLFwiZ2V0Q29vcmRpbmF0ZVwiLHQpfSxKLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZmVhdHVyZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT09Zi5QT0xZR09OP3QuZ2V0Q29vcmRpbmF0ZXMoKTp0LmNvb3JkaW5hdGVzfSkpKSl9LEoucHJvdG90eXBlLnVwZGF0ZUNvb3JkaW5hdGU9ZnVuY3Rpb24odCxlLG4pe0codGhpcy5mZWF0dXJlcyxcInVwZGF0ZUNvb3JkaW5hdGVcIix0LGUsbiksdGhpcy5jaGFuZ2VkKCl9LEoucHJvdG90eXBlLmFkZENvb3JkaW5hdGU9ZnVuY3Rpb24odCxlLG4pe0codGhpcy5mZWF0dXJlcyxcImFkZENvb3JkaW5hdGVcIix0LGUsbiksdGhpcy5jaGFuZ2VkKCl9LEoucHJvdG90eXBlLnJlbW92ZUNvb3JkaW5hdGU9ZnVuY3Rpb24odCl7Ryh0aGlzLmZlYXR1cmVzLFwicmVtb3ZlQ29vcmRpbmF0ZVwiLHQpLHRoaXMuY2hhbmdlZCgpfSxKLnByb3RvdHlwZS5nZXRGZWF0dXJlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmVzfSx6LnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3R4LnN0b3JlLnNldFNlbGVjdGVkKHQpfSx6LnByb3RvdHlwZS5zZXRTZWxlY3RlZENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fY3R4LnN0b3JlLnNldFNlbGVjdGVkQ29vcmRpbmF0ZXModCksdC5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMD09PXRbbi5mZWF0dXJlX2lkXSYmKHRbbi5mZWF0dXJlX2lkXT0hMCxlLl9jdHguc3RvcmUuZ2V0KG4uZmVhdHVyZV9pZCkuY2hhbmdlZCgpKSx0fSkse30pfSx6LnByb3RvdHlwZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdHguc3RvcmUuZ2V0U2VsZWN0ZWQoKX0sei5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4LnN0b3JlLmdldFNlbGVjdGVkSWRzKCl9LHoucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5pc1NlbGVjdGVkKHQpfSx6LnByb3RvdHlwZS5nZXRGZWF0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jdHguc3RvcmUuZ2V0KHQpfSx6LnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5zZWxlY3QodCl9LHoucHJvdG90eXBlLmRlc2VsZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jdHguc3RvcmUuZGVzZWxlY3QodCl9LHoucHJvdG90eXBlLmRlbGV0ZUZlYXR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuX2N0eC5zdG9yZS5kZWxldGUodCxlKX0sei5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3R4LnN0b3JlLmFkZCh0KX0sei5wcm90b3R5cGUuY2xlYXJTZWxlY3RlZEZlYXR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5jbGVhclNlbGVjdGVkKCl9LHoucHJvdG90eXBlLmNsZWFyU2VsZWN0ZWRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdHguc3RvcmUuY2xlYXJTZWxlY3RlZENvb3JkaW5hdGVzKCl9LHoucHJvdG90eXBlLnNldEFjdGlvbmFibGVTdGF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9e3RyYXNoOnQudHJhc2h8fCExLGNvbWJpbmVGZWF0dXJlczp0LmNvbWJpbmVGZWF0dXJlc3x8ITEsdW5jb21iaW5lRmVhdHVyZXM6dC51bmNvbWJpbmVGZWF0dXJlc3x8ITF9O3JldHVybiB0aGlzLl9jdHguZXZlbnRzLmFjdGlvbmFibGUoZSl9LHoucHJvdG90eXBlLmNoYW5nZU1vZGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksdm9pZCAwPT09biYmKG49e30pLHRoaXMuX2N0eC5ldmVudHMuY2hhbmdlTW9kZSh0LGUsbil9LHoucHJvdG90eXBlLnVwZGF0ZVVJQ2xhc3Nlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3R4LnVpLnF1ZXVlTWFwQ2xhc3Nlcyh0KX0sei5wcm90b3R5cGUuYWN0aXZhdGVVSUJ1dHRvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3R4LnVpLnNldEFjdGl2ZUJ1dHRvbih0KX0sei5wcm90b3R5cGUuZmVhdHVyZXNBdD1mdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49XCJjbGlja1wiKSxcImNsaWNrXCIhPT1uJiZcInRvdWNoXCIhPT1uKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgYnVmZmVyIHR5cGVcIik7cmV0dXJuIE1bbl0odCxlLHRoaXMuX2N0eCl9LHoucHJvdG90eXBlLm5ld0ZlYXR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZW9tZXRyeS50eXBlO3JldHVybiBlPT09Zi5QT0lOVD9uZXcgVSh0aGlzLl9jdHgsdCk6ZT09PWYuTElORV9TVFJJTkc/bmV3IGoodGhpcy5fY3R4LHQpOmU9PT1mLlBPTFlHT04/bmV3IFYodGhpcy5fY3R4LHQpOm5ldyBKKHRoaXMuX2N0eCx0KX0sei5wcm90b3R5cGUuaXNJbnN0YW5jZU9mPWZ1bmN0aW9uKHQsZSl7aWYodD09PWYuUE9JTlQpcmV0dXJuIGUgaW5zdGFuY2VvZiBVO2lmKHQ9PT1mLkxJTkVfU1RSSU5HKXJldHVybiBlIGluc3RhbmNlb2YgajtpZih0PT09Zi5QT0xZR09OKXJldHVybiBlIGluc3RhbmNlb2YgVjtpZihcIk11bHRpRmVhdHVyZVwiPT09dClyZXR1cm4gZSBpbnN0YW5jZW9mIEo7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBmZWF0dXJlIGNsYXNzOiBcIit0KX0sei5wcm90b3R5cGUuZG9SZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N0eC5zdG9yZS5mZWF0dXJlQ2hhbmdlZCh0KX0sei5wcm90b3R5cGUub25TZXR1cD1mdW5jdGlvbigpe30sei5wcm90b3R5cGUub25EcmFnPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vbkNsaWNrPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vbk1vdXNlTW92ZT1mdW5jdGlvbigpe30sei5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oKXt9LHoucHJvdG90eXBlLm9uTW91c2VVcD1mdW5jdGlvbigpe30sei5wcm90b3R5cGUub25Nb3VzZU91dD1mdW5jdGlvbigpe30sei5wcm90b3R5cGUub25LZXlVcD1mdW5jdGlvbigpe30sei5wcm90b3R5cGUub25LZXlEb3duPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vblRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt9LHoucHJvdG90eXBlLm9uVG91Y2hNb3ZlPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vblRvdWNoRW5kPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vblRhcD1mdW5jdGlvbigpe30sei5wcm90b3R5cGUub25TdG9wPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vblRyYXNoPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vbkNvbWJpbmVGZWF0dXJlPWZ1bmN0aW9uKCl7fSx6LnByb3RvdHlwZS5vblVuY29tYmluZUZlYXR1cmU9ZnVuY3Rpb24oKXt9LHoucHJvdG90eXBlLnRvRGlzcGxheUZlYXR1cmVzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3Qgb3ZlcndyaXRlIHRvRGlzcGxheUZlYXR1cmVzXCIpfTt2YXIgWT17ZHJhZzpcIm9uRHJhZ1wiLGNsaWNrOlwib25DbGlja1wiLG1vdXNlbW92ZTpcIm9uTW91c2VNb3ZlXCIsbW91c2Vkb3duOlwib25Nb3VzZURvd25cIixtb3VzZXVwOlwib25Nb3VzZVVwXCIsbW91c2VvdXQ6XCJvbk1vdXNlT3V0XCIsa2V5dXA6XCJvbktleVVwXCIsa2V5ZG93bjpcIm9uS2V5RG93blwiLHRvdWNoc3RhcnQ6XCJvblRvdWNoU3RhcnRcIix0b3VjaG1vdmU6XCJvblRvdWNoTW92ZVwiLHRvdWNoZW5kOlwib25Ub3VjaEVuZFwiLHRhcDpcIm9uVGFwXCJ9LCQ9T2JqZWN0LmtleXMoWSk7ZnVuY3Rpb24gcSh0KXt2YXIgZT1PYmplY3Qua2V5cyh0KTtyZXR1cm4gZnVuY3Rpb24obixvKXt2b2lkIDA9PT1vJiYobz17fSk7dmFyIHI9e30saT1lLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVtuXT10W25dLGV9KSxuZXcgeihuKSk7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyPWkub25TZXR1cChvKSwkLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBvLGE9WVtuXSxzPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3RbYV0mJihzPWZ1bmN0aW9uKCl7cmV0dXJuITB9KSxlLm9uKG4scywobz1hLGZ1bmN0aW9uKHQpe3JldHVybiBpW29dKHIsdCl9KSl9KSl9LHN0b3A6ZnVuY3Rpb24oKXtpLm9uU3RvcChyKX0sdHJhc2g6ZnVuY3Rpb24oKXtpLm9uVHJhc2gocil9LGNvbWJpbmVGZWF0dXJlczpmdW5jdGlvbigpe2kub25Db21iaW5lRmVhdHVyZXMocil9LHVuY29tYmluZUZlYXR1cmVzOmZ1bmN0aW9uKCl7aS5vblVuY29tYmluZUZlYXR1cmVzKHIpfSxyZW5kZXI6ZnVuY3Rpb24odCxlKXtpLnRvRGlzcGxheUZlYXR1cmVzKHIsdCxlKX19fX1mdW5jdGlvbiBIKHQpe3JldHVybltdLmNvbmNhdCh0KS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10fSkpfWZ1bmN0aW9uIFgoKXt2YXIgdD10aGlzO2lmKCEodC5jdHgubWFwJiZ2b2lkIDAhPT10LmN0eC5tYXAuZ2V0U291cmNlKGwuSE9UKSkpcmV0dXJuIHUoKTt2YXIgZT10LmN0eC5ldmVudHMuY3VycmVudE1vZGVOYW1lKCk7dC5jdHgudWkucXVldWVNYXBDbGFzc2VzKHttb2RlOmV9KTt2YXIgbj1bXSxvPVtdO3QuaXNEaXJ0eT9vPXQuZ2V0QWxsSWRzKCk6KG49dC5nZXRDaGFuZ2VkSWRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5nZXQoZSl9KSksbz10LnNvdXJjZXMuaG90LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvcGVydGllcy5pZCYmLTE9PT1uLmluZGV4T2YoZS5wcm9wZXJ0aWVzLmlkKSYmdm9pZCAwIT09dC5nZXQoZS5wcm9wZXJ0aWVzLmlkKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BlcnRpZXMuaWR9KSkpLHQuc291cmNlcy5ob3Q9W107dmFyIHI9dC5zb3VyY2VzLmNvbGQubGVuZ3RoO3Quc291cmNlcy5jb2xkPXQuaXNEaXJ0eT9bXTp0LnNvdXJjZXMuY29sZC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcGVydGllcy5pZHx8dC5wcm9wZXJ0aWVzLnBhcmVudDtyZXR1cm4tMT09PW4uaW5kZXhPZihlKX0pKTt2YXIgaT1yIT09dC5zb3VyY2VzLmNvbGQubGVuZ3RofHxvLmxlbmd0aD4wO2Z1bmN0aW9uIGEobixvKXt2YXIgcj10LmdldChuKS5pbnRlcm5hbChlKTt0LmN0eC5ldmVudHMuY3VycmVudE1vZGVSZW5kZXIociwoZnVuY3Rpb24oZSl7dC5zb3VyY2VzW29dLnB1c2goZSl9KSl9aWYobi5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gYSh0LFwiaG90XCIpfSkpLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGEodCxcImNvbGRcIil9KSksaSYmdC5jdHgubWFwLmdldFNvdXJjZShsLkNPTEQpLnNldERhdGEoe3R5cGU6Zi5GRUFUVVJFX0NPTExFQ1RJT04sZmVhdHVyZXM6dC5zb3VyY2VzLmNvbGR9KSx0LmN0eC5tYXAuZ2V0U291cmNlKGwuSE9UKS5zZXREYXRhKHt0eXBlOmYuRkVBVFVSRV9DT0xMRUNUSU9OLGZlYXR1cmVzOnQuc291cmNlcy5ob3R9KSx0Ll9lbWl0U2VsZWN0aW9uQ2hhbmdlJiYodC5jdHgubWFwLmZpcmUoZy5TRUxFQ1RJT05fQ0hBTkdFLHtmZWF0dXJlczp0LmdldFNlbGVjdGVkKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0dlb0pTT04oKX0pKSxwb2ludHM6dC5nZXRTZWxlY3RlZENvb3JkaW5hdGVzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dHlwZTpmLkZFQVRVUkUscHJvcGVydGllczp7fSxnZW9tZXRyeTp7dHlwZTpmLlBPSU5ULGNvb3JkaW5hdGVzOnQuY29vcmRpbmF0ZXN9fX0pKX0pLHQuX2VtaXRTZWxlY3Rpb25DaGFuZ2U9ITEpLHQuX2RlbGV0ZWRGZWF0dXJlc1RvRW1pdC5sZW5ndGgpe3ZhciBzPXQuX2RlbGV0ZWRGZWF0dXJlc1RvRW1pdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvR2VvSlNPTigpfSkpO3QuX2RlbGV0ZWRGZWF0dXJlc1RvRW1pdD1bXSx0LmN0eC5tYXAuZmlyZShnLkRFTEVURSx7ZmVhdHVyZXM6c30pfWZ1bmN0aW9uIHUoKXt0LmlzRGlydHk9ITEsdC5jbGVhckNoYW5nZWRJZHMoKX11KCksdC5jdHgubWFwLmZpcmUoZy5SRU5ERVIse30pfWZ1bmN0aW9uIFoodCl7dmFyIGUsbj10aGlzO3RoaXMuX2ZlYXR1cmVzPXt9LHRoaXMuX2ZlYXR1cmVJZHM9bmV3IEksdGhpcy5fc2VsZWN0ZWRGZWF0dXJlSWRzPW5ldyBJLHRoaXMuX3NlbGVjdGVkQ29vcmRpbmF0ZXM9W10sdGhpcy5fY2hhbmdlZEZlYXR1cmVJZHM9bmV3IEksdGhpcy5fZGVsZXRlZEZlYXR1cmVzVG9FbWl0PVtdLHRoaXMuX2VtaXRTZWxlY3Rpb25DaGFuZ2U9ITEsdGhpcy5fbWFwSW5pdGlhbENvbmZpZz17fSx0aGlzLmN0eD10LHRoaXMuc291cmNlcz17aG90OltdLGNvbGQ6W119LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7ZXx8KGU9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe2U9bnVsbCxYLmNhbGwobil9KSkpfSx0aGlzLmlzRGlydHk9ITF9ZnVuY3Rpb24gVyh0LGUpe3ZhciBuPXQuX3NlbGVjdGVkQ29vcmRpbmF0ZXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc2VsZWN0ZWRGZWF0dXJlSWRzLmhhcyhlLmZlYXR1cmVfaWQpfSkpO3QuX3NlbGVjdGVkQ29vcmRpbmF0ZXMubGVuZ3RoPT09bi5sZW5ndGh8fGUuc2lsZW50fHwodC5fZW1pdFNlbGVjdGlvbkNoYW5nZT0hMCksdC5fc2VsZWN0ZWRDb29yZGluYXRlcz1ufVoucHJvdG90eXBlLmNyZWF0ZVJlbmRlckJhdGNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMucmVuZGVyLG49MDtyZXR1cm4gdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXtuKyt9LGZ1bmN0aW9uKCl7dC5yZW5kZXI9ZSxuPjAmJnQucmVuZGVyKCl9fSxaLnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlydHk9ITAsdGhpc30sWi5wcm90b3R5cGUuZmVhdHVyZUNoYW5nZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NoYW5nZWRGZWF0dXJlSWRzLmFkZCh0KSx0aGlzfSxaLnByb3RvdHlwZS5nZXRDaGFuZ2VkSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoYW5nZWRGZWF0dXJlSWRzLnZhbHVlcygpfSxaLnByb3RvdHlwZS5jbGVhckNoYW5nZWRJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hhbmdlZEZlYXR1cmVJZHMuY2xlYXIoKSx0aGlzfSxaLnByb3RvdHlwZS5nZXRBbGxJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUlkcy52YWx1ZXMoKX0sWi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZlYXR1cmVDaGFuZ2VkKHQuaWQpLHRoaXMuX2ZlYXR1cmVzW3QuaWRdPXQsdGhpcy5fZmVhdHVyZUlkcy5hZGQodC5pZCksdGhpc30sWi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLEgodCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5fZmVhdHVyZUlkcy5oYXModCkmJihuLl9mZWF0dXJlSWRzLmRlbGV0ZSh0KSxuLl9zZWxlY3RlZEZlYXR1cmVJZHMuZGVsZXRlKHQpLGUuc2lsZW50fHwtMT09PW4uX2RlbGV0ZWRGZWF0dXJlc1RvRW1pdC5pbmRleE9mKG4uX2ZlYXR1cmVzW3RdKSYmbi5fZGVsZXRlZEZlYXR1cmVzVG9FbWl0LnB1c2gobi5fZmVhdHVyZXNbdF0pLGRlbGV0ZSBuLl9mZWF0dXJlc1t0XSxuLmlzRGlydHk9ITApfSkpLFcodGhpcyxlKSx0aGlzfSxaLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzW3RdfSxaLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLl9mZWF0dXJlcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fZmVhdHVyZXNbZV19KSl9LFoucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxIKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe24uX3NlbGVjdGVkRmVhdHVyZUlkcy5oYXModCl8fChuLl9zZWxlY3RlZEZlYXR1cmVJZHMuYWRkKHQpLG4uX2NoYW5nZWRGZWF0dXJlSWRzLmFkZCh0KSxlLnNpbGVudHx8KG4uX2VtaXRTZWxlY3Rpb25DaGFuZ2U9ITApKX0pKSx0aGlzfSxaLnByb3RvdHlwZS5kZXNlbGVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxIKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe24uX3NlbGVjdGVkRmVhdHVyZUlkcy5oYXModCkmJihuLl9zZWxlY3RlZEZlYXR1cmVJZHMuZGVsZXRlKHQpLG4uX2NoYW5nZWRGZWF0dXJlSWRzLmFkZCh0KSxlLnNpbGVudHx8KG4uX2VtaXRTZWxlY3Rpb25DaGFuZ2U9ITApKX0pKSxXKHRoaXMsZSksdGhpc30sWi5wcm90b3R5cGUuY2xlYXJTZWxlY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLHRoaXMuZGVzZWxlY3QodGhpcy5fc2VsZWN0ZWRGZWF0dXJlSWRzLnZhbHVlcygpLHtzaWxlbnQ6dC5zaWxlbnR9KSx0aGlzfSxaLnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx0PUgodCksdGhpcy5kZXNlbGVjdCh0aGlzLl9zZWxlY3RlZEZlYXR1cmVJZHMudmFsdWVzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXQuaW5kZXhPZihlKX0pKSx7c2lsZW50OmUuc2lsZW50fSksdGhpcy5zZWxlY3QodC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFuLl9zZWxlY3RlZEZlYXR1cmVJZHMuaGFzKHQpfSkpLHtzaWxlbnQ6ZS5zaWxlbnR9KSx0aGlzfSxaLnByb3RvdHlwZS5zZXRTZWxlY3RlZENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZWxlY3RlZENvb3JkaW5hdGVzPXQsdGhpcy5fZW1pdFNlbGVjdGlvbkNoYW5nZT0hMCx0aGlzfSxaLnByb3RvdHlwZS5jbGVhclNlbGVjdGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRDb29yZGluYXRlcz1bXSx0aGlzLl9lbWl0U2VsZWN0aW9uQ2hhbmdlPSEwLHRoaXN9LFoucHJvdG90eXBlLmdldFNlbGVjdGVkSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkRmVhdHVyZUlkcy52YWx1ZXMoKX0sWi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zZWxlY3RlZEZlYXR1cmVJZHMudmFsdWVzKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXQoZSl9KSl9LFoucHJvdG90eXBlLmdldFNlbGVjdGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9zZWxlY3RlZENvb3JkaW5hdGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2Nvb3JkaW5hdGVzOnQuZ2V0KGUuZmVhdHVyZV9pZCkuZ2V0Q29vcmRpbmF0ZShlLmNvb3JkX3BhdGgpfX0pKX0sWi5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRGZWF0dXJlSWRzLmhhcyh0KX0sWi5wcm90b3R5cGUuc2V0RmVhdHVyZVByb3BlcnR5PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmdldCh0KS5zZXRQcm9wZXJ0eShlLG4pLHRoaXMuZmVhdHVyZUNoYW5nZWQodCl9LFoucHJvdG90eXBlLnN0b3JlTWFwQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztfLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY3R4Lm1hcFtlXSYmKHQuX21hcEluaXRpYWxDb25maWdbZV09dC5jdHgubWFwW2VdLmlzRW5hYmxlZCgpKX0pKX0sWi5wcm90b3R5cGUucmVzdG9yZU1hcENvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7T2JqZWN0LmtleXModGhpcy5fbWFwSW5pdGlhbENvbmZpZykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5fbWFwSW5pdGlhbENvbmZpZ1tlXT90LmN0eC5tYXBbZV0uZW5hYmxlKCk6dC5jdHgubWFwW2VdLmRpc2FibGUoKX0pKX0sWi5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbmZpZ1ZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10aGlzLl9tYXBJbml0aWFsQ29uZmlnW3RdfHx0aGlzLl9tYXBJbml0aWFsQ29uZmlnW3RdfTt2YXIgSz1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMsZT17fSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtmb3IodmFyIHIgaW4gbylRLmNhbGwobyxyKSYmKGVbcl09b1tyXSl9cmV0dXJuIGV9LFE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgdHQ9ZShLKSxldD1bXCJtb2RlXCIsXCJmZWF0dXJlXCIsXCJtb3VzZVwiXTtmdW5jdGlvbiBudChlKXt2YXIgbj1udWxsLG89bnVsbCxyPXtvblJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBlLm1hcC5vZmYoXCJsb2FkXCIsci5jb25uZWN0KSxjbGVhckludGVydmFsKG8pLHIucmVtb3ZlTGF5ZXJzKCksZS5zdG9yZS5yZXN0b3JlTWFwQ29uZmlnKCksZS51aS5yZW1vdmVCdXR0b25zKCksZS5ldmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSxlLnVpLmNsZWFyTWFwQ2xhc3NlcygpLGUuYm94Wm9vbUluaXRpYWwmJmUubWFwLmJveFpvb20uZW5hYmxlKCksZS5tYXA9bnVsbCxlLmNvbnRhaW5lcj1udWxsLGUuc3RvcmU9bnVsbCxuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxuPW51bGwsdGhpc30sY29ubmVjdDpmdW5jdGlvbigpe2UubWFwLm9mZihcImxvYWRcIixyLmNvbm5lY3QpLGNsZWFySW50ZXJ2YWwobyksci5hZGRMYXllcnMoKSxlLnN0b3JlLnN0b3JlTWFwQ29uZmlnKCksZS5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lcnMoKX0sb25BZGQ6ZnVuY3Rpb24oaSl7dmFyIGE9aS5maXJlO3JldHVybiBpLmZpcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHM7cmV0dXJuIDE9PT1hLmxlbmd0aCYmMSE9PWFyZ3VtZW50cy5sZW5ndGgmJihuPVt0dCh7fSx7dHlwZTp0fSxlKV0pLGEuYXBwbHkoaSxuKX0sZS5tYXA9aSxlLmV2ZW50cz1mdW5jdGlvbihlKXt2YXIgbj1PYmplY3Qua2V5cyhlLm9wdGlvbnMubW9kZXMpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtuXT1xKGUub3B0aW9ucy5tb2Rlc1tuXSksdH0pLHt9KSxvPXt9LHI9e30saT17fSxhPW51bGwscz1udWxsO2kuZHJhZz1mdW5jdGlvbih0LG4pe24oe3BvaW50OnQucG9pbnQsdGltZToobmV3IERhdGUpLmdldFRpbWUoKX0pPyhlLnVpLnF1ZXVlTWFwQ2xhc3Nlcyh7bW91c2U6ZC5EUkFHfSkscy5kcmFnKHQpKTp0Lm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCl9LGkubW91c2VkcmFnPWZ1bmN0aW9uKHQpe2kuZHJhZyh0LChmdW5jdGlvbih0KXtyZXR1cm4hUChvLHQpfSkpfSxpLnRvdWNoZHJhZz1mdW5jdGlvbih0KXtpLmRyYWcodCwoZnVuY3Rpb24odCl7cmV0dXJuIUYocix0KX0pKX0saS5tb3VzZW1vdmU9ZnVuY3Rpb24odCl7aWYoMT09PSh2b2lkIDAhPT10Lm9yaWdpbmFsRXZlbnQuYnV0dG9ucz90Lm9yaWdpbmFsRXZlbnQuYnV0dG9uczp0Lm9yaWdpbmFsRXZlbnQud2hpY2gpKXJldHVybiBpLm1vdXNlZHJhZyh0KTt2YXIgbj1OKHQsZSk7dC5mZWF0dXJlVGFyZ2V0PW4scy5tb3VzZW1vdmUodCl9LGkubW91c2Vkb3duPWZ1bmN0aW9uKHQpe289e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCkscG9pbnQ6dC5wb2ludH07dmFyIG49Tih0LGUpO3QuZmVhdHVyZVRhcmdldD1uLHMubW91c2Vkb3duKHQpfSxpLm1vdXNldXA9ZnVuY3Rpb24odCl7dmFyIG49Tih0LGUpO3QuZmVhdHVyZVRhcmdldD1uLFAobyx7cG9pbnQ6dC5wb2ludCx0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSk/cy5jbGljayh0KTpzLm1vdXNldXAodCl9LGkubW91c2VvdXQ9ZnVuY3Rpb24odCl7cy5tb3VzZW91dCh0KX0saS50b3VjaHN0YXJ0PWZ1bmN0aW9uKHQpe2lmKGUub3B0aW9ucy50b3VjaEVuYWJsZWQpe3I9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCkscG9pbnQ6dC5wb2ludH07dmFyIG49TS50b3VjaCh0LG51bGwsZSlbMF07dC5mZWF0dXJlVGFyZ2V0PW4scy50b3VjaHN0YXJ0KHQpfX0saS50b3VjaG1vdmU9ZnVuY3Rpb24odCl7aWYoZS5vcHRpb25zLnRvdWNoRW5hYmxlZClyZXR1cm4gcy50b3VjaG1vdmUodCksaS50b3VjaGRyYWcodCl9LGkudG91Y2hlbmQ9ZnVuY3Rpb24odCl7aWYodC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCksZS5vcHRpb25zLnRvdWNoRW5hYmxlZCl7dmFyIG49TS50b3VjaCh0LG51bGwsZSlbMF07dC5mZWF0dXJlVGFyZ2V0PW4sRihyLHt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLHBvaW50OnQucG9pbnR9KT9zLnRhcCh0KTpzLnRvdWNoZW5kKHQpfX07dmFyIHU9ZnVuY3Rpb24odCl7cmV0dXJuISg4PT09dHx8NDY9PT10fHx0Pj00OCYmdDw9NTcpfTtmdW5jdGlvbiBjKG8scixpKXt2b2lkIDA9PT1pJiYoaT17fSkscy5zdG9wKCk7dmFyIHU9bltvXTtpZih2b2lkIDA9PT11KXRocm93IG5ldyBFcnJvcihvK1wiIGlzIG5vdCB2YWxpZFwiKTthPW87dmFyIGM9dShlLHIpO3M9dChjLGUpLGkuc2lsZW50fHxlLm1hcC5maXJlKGcuTU9ERV9DSEFOR0Use21vZGU6b30pLGUuc3RvcmUuc2V0RGlydHkoKSxlLnN0b3JlLnJlbmRlcigpfWkua2V5ZG93bj1mdW5jdGlvbih0KXsodC5zcmNFbGVtZW50fHx0LnRhcmdldCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFwYm94Z2wtY2FudmFzXCIpJiYoOCE9PXQua2V5Q29kZSYmNDYhPT10LmtleUNvZGV8fCFlLm9wdGlvbnMuY29udHJvbHMudHJhc2g/dSh0LmtleUNvZGUpP3Mua2V5ZG93bih0KTo0OT09PXQua2V5Q29kZSYmZS5vcHRpb25zLmNvbnRyb2xzLnBvaW50P2MoaC5EUkFXX1BPSU5UKTo1MD09PXQua2V5Q29kZSYmZS5vcHRpb25zLmNvbnRyb2xzLmxpbmVfc3RyaW5nP2MoaC5EUkFXX0xJTkVfU1RSSU5HKTo1MT09PXQua2V5Q29kZSYmZS5vcHRpb25zLmNvbnRyb2xzLnBvbHlnb24mJmMoaC5EUkFXX1BPTFlHT04pOih0LnByZXZlbnREZWZhdWx0KCkscy50cmFzaCgpKSl9LGkua2V5dXA9ZnVuY3Rpb24odCl7dSh0LmtleUNvZGUpJiZzLmtleXVwKHQpfSxpLnpvb21lbmQ9ZnVuY3Rpb24oKXtlLnN0b3JlLmNoYW5nZVpvb20oKX0saS5kYXRhPWZ1bmN0aW9uKHQpe2lmKFwic3R5bGVcIj09PXQuZGF0YVR5cGUpe3ZhciBuPWUuc2V0dXAsbz1lLm1hcCxyPWUub3B0aW9ucyxpPWUuc3RvcmU7ci5zdHlsZXMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIG8uZ2V0TGF5ZXIodC5pZCl9KSl8fChuLmFkZExheWVycygpLGkuc2V0RGlydHkoKSxpLnJlbmRlcigpKX19O3ZhciBsPXt0cmFzaDohMSxjb21iaW5lRmVhdHVyZXM6ITEsdW5jb21iaW5lRmVhdHVyZXM6ITF9O3JldHVybntzdGFydDpmdW5jdGlvbigpe2E9ZS5vcHRpb25zLmRlZmF1bHRNb2RlLHM9dChuW2FdKGUpLGUpfSxjaGFuZ2VNb2RlOmMsYWN0aW9uYWJsZTpmdW5jdGlvbih0KXt2YXIgbj0hMTtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1sW2VdKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWN0aW9uIHR5cGVcIik7bFtlXSE9PXRbZV0mJihuPSEwKSxsW2VdPXRbZV19KSksbiYmZS5tYXAuZmlyZShnLkFDVElPTkFCTEUse2FjdGlvbnM6bH0pfSxjdXJyZW50TW9kZU5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sY3VycmVudE1vZGVSZW5kZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5yZW5kZXIodCxlKX0sZmlyZTpmdW5jdGlvbih0LGUpe2lbdF0mJmlbdF0oZSl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7ZS5tYXAub24oXCJtb3VzZW1vdmVcIixpLm1vdXNlbW92ZSksZS5tYXAub24oXCJtb3VzZWRvd25cIixpLm1vdXNlZG93biksZS5tYXAub24oXCJtb3VzZXVwXCIsaS5tb3VzZXVwKSxlLm1hcC5vbihcImRhdGFcIixpLmRhdGEpLGUubWFwLm9uKFwidG91Y2htb3ZlXCIsaS50b3VjaG1vdmUpLGUubWFwLm9uKFwidG91Y2hzdGFydFwiLGkudG91Y2hzdGFydCksZS5tYXAub24oXCJ0b3VjaGVuZFwiLGkudG91Y2hlbmQpLGUuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGkubW91c2VvdXQpLGUub3B0aW9ucy5rZXliaW5kaW5ncyYmKGUuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsaS5rZXlkb3duKSxlLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixpLmtleXVwKSl9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7ZS5tYXAub2ZmKFwibW91c2Vtb3ZlXCIsaS5tb3VzZW1vdmUpLGUubWFwLm9mZihcIm1vdXNlZG93blwiLGkubW91c2Vkb3duKSxlLm1hcC5vZmYoXCJtb3VzZXVwXCIsaS5tb3VzZXVwKSxlLm1hcC5vZmYoXCJkYXRhXCIsaS5kYXRhKSxlLm1hcC5vZmYoXCJ0b3VjaG1vdmVcIixpLnRvdWNobW92ZSksZS5tYXAub2ZmKFwidG91Y2hzdGFydFwiLGkudG91Y2hzdGFydCksZS5tYXAub2ZmKFwidG91Y2hlbmRcIixpLnRvdWNoZW5kKSxlLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixpLm1vdXNlb3V0KSxlLm9wdGlvbnMua2V5YmluZGluZ3MmJihlLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGkua2V5ZG93biksZS5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsaS5rZXl1cCkpfSx0cmFzaDpmdW5jdGlvbih0KXtzLnRyYXNoKHQpfSxjb21iaW5lRmVhdHVyZXM6ZnVuY3Rpb24oKXtzLmNvbWJpbmVGZWF0dXJlcygpfSx1bmNvbWJpbmVGZWF0dXJlczpmdW5jdGlvbigpe3MudW5jb21iaW5lRmVhdHVyZXMoKX0sZ2V0TW9kZTpmdW5jdGlvbigpe3JldHVybiBhfX19KGUpLGUudWk9ZnVuY3Rpb24odCl7dmFyIGU9e30sbj1udWxsLG89e21vZGU6bnVsbCxmZWF0dXJlOm51bGwsbW91c2U6bnVsbH0scj17bW9kZTpudWxsLGZlYXR1cmU6bnVsbCxtb3VzZTpudWxsfTtmdW5jdGlvbiBpKHQpe3I9dHQocix0KX1mdW5jdGlvbiBhKCl7dmFyIGUsbjtpZih0LmNvbnRhaW5lcil7dmFyIGk9W10sYT1bXTtldC5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdIT09b1t0XSYmKGkucHVzaCh0K1wiLVwiK29bdF0pLG51bGwhPT1yW3RdJiZhLnB1c2godCtcIi1cIityW3RdKSl9KSksaS5sZW5ndGg+MCYmKGU9dC5jb250YWluZXIuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkoZSxpKSxhLmxlbmd0aD4wJiYobj10LmNvbnRhaW5lci5jbGFzc0xpc3QpLmFkZC5hcHBseShuLGEpLG89dHQobyxyKX19ZnVuY3Rpb24gcyh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO3JldHVybiBvLmNsYXNzTmFtZT1jLkNPTlRST0xfQlVUVE9OK1wiIFwiK2UuY2xhc3NOYW1lLG8uc2V0QXR0cmlidXRlKFwidGl0bGVcIixlLnRpdGxlKSxlLmNvbnRhaW5lci5hcHBlbmRDaGlsZChvKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbihvKXtpZihvLnByZXZlbnREZWZhdWx0KCksby5zdG9wUHJvcGFnYXRpb24oKSxvLnRhcmdldD09PW4pcmV0dXJuIHUoKSx2b2lkIGUub25EZWFjdGl2YXRlKCk7bCh0KSxlLm9uQWN0aXZhdGUoKX0pLCEwKSxvfWZ1bmN0aW9uIHUoKXtuJiYobi5jbGFzc0xpc3QucmVtb3ZlKGMuQUNUSVZFX0JVVFRPTiksbj1udWxsKX1mdW5jdGlvbiBsKHQpe3UoKTt2YXIgbz1lW3RdO28mJm8mJlwidHJhc2hcIiE9PXQmJihvLmNsYXNzTGlzdC5hZGQoYy5BQ1RJVkVfQlVUVE9OKSxuPW8pfXJldHVybntzZXRBY3RpdmVCdXR0b246bCxxdWV1ZU1hcENsYXNzZXM6aSx1cGRhdGVNYXBDbGFzc2VzOmEsY2xlYXJNYXBDbGFzc2VzOmZ1bmN0aW9uKCl7aSh7bW9kZTpudWxsLGZlYXR1cmU6bnVsbCxtb3VzZTpudWxsfSksYSgpfSxhZGRCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIG49dC5vcHRpb25zLmNvbnRyb2xzLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gby5jbGFzc05hbWU9Yy5DT05UUk9MX0dST1VQK1wiIFwiK2MuQ09OVFJPTF9CQVNFLG4/KG5bcC5MSU5FXSYmKGVbcC5MSU5FXT1zKHAuTElORSx7Y29udGFpbmVyOm8sY2xhc3NOYW1lOmMuQ09OVFJPTF9CVVRUT05fTElORSx0aXRsZTpcIkxpbmVTdHJpbmcgdG9vbCBcIisodC5vcHRpb25zLmtleWJpbmRpbmdzP1wiKGwpXCI6XCJcIiksb25BY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50cy5jaGFuZ2VNb2RlKGguRFJBV19MSU5FX1NUUklORyl9LG9uRGVhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50cy50cmFzaCgpfX0pKSxuW3AuUE9MWUdPTl0mJihlW3AuUE9MWUdPTl09cyhwLlBPTFlHT04se2NvbnRhaW5lcjpvLGNsYXNzTmFtZTpjLkNPTlRST0xfQlVUVE9OX1BPTFlHT04sdGl0bGU6XCJQb2x5Z29uIHRvb2wgXCIrKHQub3B0aW9ucy5rZXliaW5kaW5ncz9cIihwKVwiOlwiXCIpLG9uQWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudHMuY2hhbmdlTW9kZShoLkRSQVdfUE9MWUdPTil9LG9uRGVhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50cy50cmFzaCgpfX0pKSxuW3AuUE9JTlRdJiYoZVtwLlBPSU5UXT1zKHAuUE9JTlQse2NvbnRhaW5lcjpvLGNsYXNzTmFtZTpjLkNPTlRST0xfQlVUVE9OX1BPSU5ULHRpdGxlOlwiTWFya2VyIHRvb2wgXCIrKHQub3B0aW9ucy5rZXliaW5kaW5ncz9cIihtKVwiOlwiXCIpLG9uQWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudHMuY2hhbmdlTW9kZShoLkRSQVdfUE9JTlQpfSxvbkRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudHMudHJhc2goKX19KSksbi50cmFzaCYmKGUudHJhc2g9cyhcInRyYXNoXCIse2NvbnRhaW5lcjpvLGNsYXNzTmFtZTpjLkNPTlRST0xfQlVUVE9OX1RSQVNILHRpdGxlOlwiRGVsZXRlXCIsb25BY3RpdmF0ZTpmdW5jdGlvbigpe3QuZXZlbnRzLnRyYXNoKCl9fSkpLG4uY29tYmluZV9mZWF0dXJlcyYmKGUuY29tYmluZV9mZWF0dXJlcz1zKFwiY29tYmluZUZlYXR1cmVzXCIse2NvbnRhaW5lcjpvLGNsYXNzTmFtZTpjLkNPTlRST0xfQlVUVE9OX0NPTUJJTkVfRkVBVFVSRVMsdGl0bGU6XCJDb21iaW5lXCIsb25BY3RpdmF0ZTpmdW5jdGlvbigpe3QuZXZlbnRzLmNvbWJpbmVGZWF0dXJlcygpfX0pKSxuLnVuY29tYmluZV9mZWF0dXJlcyYmKGUudW5jb21iaW5lX2ZlYXR1cmVzPXMoXCJ1bmNvbWJpbmVGZWF0dXJlc1wiLHtjb250YWluZXI6byxjbGFzc05hbWU6Yy5DT05UUk9MX0JVVFRPTl9VTkNPTUJJTkVfRkVBVFVSRVMsdGl0bGU6XCJVbmNvbWJpbmVcIixvbkFjdGl2YXRlOmZ1bmN0aW9uKCl7dC5ldmVudHMudW5jb21iaW5lRmVhdHVyZXMoKX19KSksbyk6b30scmVtb3ZlQnV0dG9uczpmdW5jdGlvbigpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPWVbdF07bi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksZGVsZXRlIGVbdF19KSl9fX0oZSksZS5jb250YWluZXI9aS5nZXRDb250YWluZXIoKSxlLnN0b3JlPW5ldyBaKGUpLG49ZS51aS5hZGRCdXR0b25zKCksZS5vcHRpb25zLmJveFNlbGVjdCYmKGUuYm94Wm9vbUluaXRpYWw9aS5ib3hab29tLmlzRW5hYmxlZCgpLGkuYm94Wm9vbS5kaXNhYmxlKCksaS5kcmFnUGFuLmRpc2FibGUoKSxpLmRyYWdQYW4uZW5hYmxlKCkpLGkubG9hZGVkKCk/ci5jb25uZWN0KCk6KGkub24oXCJsb2FkXCIsci5jb25uZWN0KSxvPXNldEludGVydmFsKChmdW5jdGlvbigpe2kubG9hZGVkKCkmJnIuY29ubmVjdCgpfSksMTYpKSxlLmV2ZW50cy5zdGFydCgpLG59LGFkZExheWVyczpmdW5jdGlvbigpe2UubWFwLmFkZFNvdXJjZShsLkNPTEQse2RhdGE6e3R5cGU6Zi5GRUFUVVJFX0NPTExFQ1RJT04sZmVhdHVyZXM6W119LHR5cGU6XCJnZW9qc29uXCJ9KSxlLm1hcC5hZGRTb3VyY2UobC5IT1Qse2RhdGE6e3R5cGU6Zi5GRUFUVVJFX0NPTExFQ1RJT04sZmVhdHVyZXM6W119LHR5cGU6XCJnZW9qc29uXCJ9KSxlLm9wdGlvbnMuc3R5bGVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UubWFwLmFkZExheWVyKHQpfSkpLGUuc3RvcmUuc2V0RGlydHkoITApLGUuc3RvcmUucmVuZGVyKCl9LHJlbW92ZUxheWVyczpmdW5jdGlvbigpe2Uub3B0aW9ucy5zdHlsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5tYXAuZ2V0TGF5ZXIodC5pZCkmJmUubWFwLnJlbW92ZUxheWVyKHQuaWQpfSkpLGUubWFwLmdldFNvdXJjZShsLkNPTEQpJiZlLm1hcC5yZW1vdmVTb3VyY2UobC5DT0xEKSxlLm1hcC5nZXRTb3VyY2UobC5IT1QpJiZlLm1hcC5yZW1vdmVTb3VyY2UobC5IT1QpfX07cmV0dXJuIGUuc2V0dXA9cixyfXZhciBvdD1be2lkOlwiZ2wtZHJhdy1wb2x5Z29uLWZpbGwtaW5hY3RpdmVcIix0eXBlOlwiZmlsbFwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwiYWN0aXZlXCIsXCJmYWxzZVwiXSxbXCI9PVwiLFwiJHR5cGVcIixcIlBvbHlnb25cIl0sW1wiIT1cIixcIm1vZGVcIixcInN0YXRpY1wiXV0scGFpbnQ6e1wiZmlsbC1jb2xvclwiOlwiIzNiYjJkMFwiLFwiZmlsbC1vdXRsaW5lLWNvbG9yXCI6XCIjM2JiMmQwXCIsXCJmaWxsLW9wYWNpdHlcIjouMX19LHtpZDpcImdsLWRyYXctcG9seWdvbi1maWxsLWFjdGl2ZVwiLHR5cGU6XCJmaWxsXCIsZmlsdGVyOltcImFsbFwiLFtcIj09XCIsXCJhY3RpdmVcIixcInRydWVcIl0sW1wiPT1cIixcIiR0eXBlXCIsXCJQb2x5Z29uXCJdXSxwYWludDp7XCJmaWxsLWNvbG9yXCI6XCIjZmJiMDNiXCIsXCJmaWxsLW91dGxpbmUtY29sb3JcIjpcIiNmYmIwM2JcIixcImZpbGwtb3BhY2l0eVwiOi4xfX0se2lkOlwiZ2wtZHJhdy1wb2x5Z29uLW1pZHBvaW50XCIsdHlwZTpcImNpcmNsZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcIj09XCIsXCJtZXRhXCIsXCJtaWRwb2ludFwiXV0scGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjMsXCJjaXJjbGUtY29sb3JcIjpcIiNmYmIwM2JcIn19LHtpZDpcImdsLWRyYXctcG9seWdvbi1zdHJva2UtaW5hY3RpdmVcIix0eXBlOlwibGluZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwiYWN0aXZlXCIsXCJmYWxzZVwiXSxbXCI9PVwiLFwiJHR5cGVcIixcIlBvbHlnb25cIl0sW1wiIT1cIixcIm1vZGVcIixcInN0YXRpY1wiXV0sbGF5b3V0OntcImxpbmUtY2FwXCI6XCJyb3VuZFwiLFwibGluZS1qb2luXCI6XCJyb3VuZFwifSxwYWludDp7XCJsaW5lLWNvbG9yXCI6XCIjM2JiMmQwXCIsXCJsaW5lLXdpZHRoXCI6Mn19LHtpZDpcImdsLWRyYXctcG9seWdvbi1zdHJva2UtYWN0aXZlXCIsdHlwZTpcImxpbmVcIixmaWx0ZXI6W1wiYWxsXCIsW1wiPT1cIixcImFjdGl2ZVwiLFwidHJ1ZVwiXSxbXCI9PVwiLFwiJHR5cGVcIixcIlBvbHlnb25cIl1dLGxheW91dDp7XCJsaW5lLWNhcFwiOlwicm91bmRcIixcImxpbmUtam9pblwiOlwicm91bmRcIn0scGFpbnQ6e1wibGluZS1jb2xvclwiOlwiI2ZiYjAzYlwiLFwibGluZS1kYXNoYXJyYXlcIjpbLjIsMl0sXCJsaW5lLXdpZHRoXCI6Mn19LHtpZDpcImdsLWRyYXctbGluZS1pbmFjdGl2ZVwiLHR5cGU6XCJsaW5lXCIsZmlsdGVyOltcImFsbFwiLFtcIj09XCIsXCJhY3RpdmVcIixcImZhbHNlXCJdLFtcIj09XCIsXCIkdHlwZVwiLFwiTGluZVN0cmluZ1wiXSxbXCIhPVwiLFwibW9kZVwiLFwic3RhdGljXCJdXSxsYXlvdXQ6e1wibGluZS1jYXBcIjpcInJvdW5kXCIsXCJsaW5lLWpvaW5cIjpcInJvdW5kXCJ9LHBhaW50OntcImxpbmUtY29sb3JcIjpcIiMzYmIyZDBcIixcImxpbmUtd2lkdGhcIjoyfX0se2lkOlwiZ2wtZHJhdy1saW5lLWFjdGl2ZVwiLHR5cGU6XCJsaW5lXCIsZmlsdGVyOltcImFsbFwiLFtcIj09XCIsXCIkdHlwZVwiLFwiTGluZVN0cmluZ1wiXSxbXCI9PVwiLFwiYWN0aXZlXCIsXCJ0cnVlXCJdXSxsYXlvdXQ6e1wibGluZS1jYXBcIjpcInJvdW5kXCIsXCJsaW5lLWpvaW5cIjpcInJvdW5kXCJ9LHBhaW50OntcImxpbmUtY29sb3JcIjpcIiNmYmIwM2JcIixcImxpbmUtZGFzaGFycmF5XCI6Wy4yLDJdLFwibGluZS13aWR0aFwiOjJ9fSx7aWQ6XCJnbC1kcmF3LXBvbHlnb24tYW5kLWxpbmUtdmVydGV4LXN0cm9rZS1pbmFjdGl2ZVwiLHR5cGU6XCJjaXJjbGVcIixmaWx0ZXI6W1wiYWxsXCIsW1wiPT1cIixcIm1ldGFcIixcInZlcnRleFwiXSxbXCI9PVwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcIiE9XCIsXCJtb2RlXCIsXCJzdGF0aWNcIl1dLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo1LFwiY2lyY2xlLWNvbG9yXCI6XCIjZmZmXCJ9fSx7aWQ6XCJnbC1kcmF3LXBvbHlnb24tYW5kLWxpbmUtdmVydGV4LWluYWN0aXZlXCIsdHlwZTpcImNpcmNsZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwibWV0YVwiLFwidmVydGV4XCJdLFtcIj09XCIsXCIkdHlwZVwiLFwiUG9pbnRcIl0sW1wiIT1cIixcIm1vZGVcIixcInN0YXRpY1wiXV0scGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjMsXCJjaXJjbGUtY29sb3JcIjpcIiNmYmIwM2JcIn19LHtpZDpcImdsLWRyYXctcG9pbnQtcG9pbnQtc3Ryb2tlLWluYWN0aXZlXCIsdHlwZTpcImNpcmNsZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwiYWN0aXZlXCIsXCJmYWxzZVwiXSxbXCI9PVwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcIj09XCIsXCJtZXRhXCIsXCJmZWF0dXJlXCJdLFtcIiE9XCIsXCJtb2RlXCIsXCJzdGF0aWNcIl1dLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo1LFwiY2lyY2xlLW9wYWNpdHlcIjoxLFwiY2lyY2xlLWNvbG9yXCI6XCIjZmZmXCJ9fSx7aWQ6XCJnbC1kcmF3LXBvaW50LWluYWN0aXZlXCIsdHlwZTpcImNpcmNsZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwiYWN0aXZlXCIsXCJmYWxzZVwiXSxbXCI9PVwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcIj09XCIsXCJtZXRhXCIsXCJmZWF0dXJlXCJdLFtcIiE9XCIsXCJtb2RlXCIsXCJzdGF0aWNcIl1dLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjozLFwiY2lyY2xlLWNvbG9yXCI6XCIjM2JiMmQwXCJ9fSx7aWQ6XCJnbC1kcmF3LXBvaW50LXN0cm9rZS1hY3RpdmVcIix0eXBlOlwiY2lyY2xlXCIsZmlsdGVyOltcImFsbFwiLFtcIj09XCIsXCIkdHlwZVwiLFwiUG9pbnRcIl0sW1wiPT1cIixcImFjdGl2ZVwiLFwidHJ1ZVwiXSxbXCIhPVwiLFwibWV0YVwiLFwibWlkcG9pbnRcIl1dLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo3LFwiY2lyY2xlLWNvbG9yXCI6XCIjZmZmXCJ9fSx7aWQ6XCJnbC1kcmF3LXBvaW50LWFjdGl2ZVwiLHR5cGU6XCJjaXJjbGVcIixmaWx0ZXI6W1wiYWxsXCIsW1wiPT1cIixcIiR0eXBlXCIsXCJQb2ludFwiXSxbXCIhPVwiLFwibWV0YVwiLFwibWlkcG9pbnRcIl0sW1wiPT1cIixcImFjdGl2ZVwiLFwidHJ1ZVwiXV0scGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjUsXCJjaXJjbGUtY29sb3JcIjpcIiNmYmIwM2JcIn19LHtpZDpcImdsLWRyYXctcG9seWdvbi1maWxsLXN0YXRpY1wiLHR5cGU6XCJmaWxsXCIsZmlsdGVyOltcImFsbFwiLFtcIj09XCIsXCJtb2RlXCIsXCJzdGF0aWNcIl0sW1wiPT1cIixcIiR0eXBlXCIsXCJQb2x5Z29uXCJdXSxwYWludDp7XCJmaWxsLWNvbG9yXCI6XCIjNDA0MDQwXCIsXCJmaWxsLW91dGxpbmUtY29sb3JcIjpcIiM0MDQwNDBcIixcImZpbGwtb3BhY2l0eVwiOi4xfX0se2lkOlwiZ2wtZHJhdy1wb2x5Z29uLXN0cm9rZS1zdGF0aWNcIix0eXBlOlwibGluZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwibW9kZVwiLFwic3RhdGljXCJdLFtcIj09XCIsXCIkdHlwZVwiLFwiUG9seWdvblwiXV0sbGF5b3V0OntcImxpbmUtY2FwXCI6XCJyb3VuZFwiLFwibGluZS1qb2luXCI6XCJyb3VuZFwifSxwYWludDp7XCJsaW5lLWNvbG9yXCI6XCIjNDA0MDQwXCIsXCJsaW5lLXdpZHRoXCI6Mn19LHtpZDpcImdsLWRyYXctbGluZS1zdGF0aWNcIix0eXBlOlwibGluZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwibW9kZVwiLFwic3RhdGljXCJdLFtcIj09XCIsXCIkdHlwZVwiLFwiTGluZVN0cmluZ1wiXV0sbGF5b3V0OntcImxpbmUtY2FwXCI6XCJyb3VuZFwiLFwibGluZS1qb2luXCI6XCJyb3VuZFwifSxwYWludDp7XCJsaW5lLWNvbG9yXCI6XCIjNDA0MDQwXCIsXCJsaW5lLXdpZHRoXCI6Mn19LHtpZDpcImdsLWRyYXctcG9pbnQtc3RhdGljXCIsdHlwZTpcImNpcmNsZVwiLGZpbHRlcjpbXCJhbGxcIixbXCI9PVwiLFwibW9kZVwiLFwic3RhdGljXCJdLFtcIj09XCIsXCIkdHlwZVwiLFwiUG9pbnRcIl1dLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo1LFwiY2lyY2xlLWNvbG9yXCI6XCIjNDA0MDQwXCJ9fV07ZnVuY3Rpb24gcnQodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPWUuZmVhdHVyZVRhcmdldDtyZXR1cm4hIW4mJighIW4ucHJvcGVydGllcyYmbi5wcm9wZXJ0aWVzLm1ldGE9PT10KX19ZnVuY3Rpb24gaXQodCl7cmV0dXJuISF0Lm9yaWdpbmFsRXZlbnQmJighIXQub3JpZ2luYWxFdmVudC5zaGlmdEtleSYmMD09PXQub3JpZ2luYWxFdmVudC5idXR0b24pfWZ1bmN0aW9uIGF0KHQpe3JldHVybiEhdC5mZWF0dXJlVGFyZ2V0JiYoISF0LmZlYXR1cmVUYXJnZXQucHJvcGVydGllcyYmKHQuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLmFjdGl2ZT09PW0uQUNUSVZFJiZ0LmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5tZXRhPT09di5GRUFUVVJFKSl9ZnVuY3Rpb24gc3QodCl7cmV0dXJuISF0LmZlYXR1cmVUYXJnZXQmJighIXQuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzJiYodC5mZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMuYWN0aXZlPT09bS5JTkFDVElWRSYmdC5mZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMubWV0YT09PXYuRkVBVFVSRSkpfWZ1bmN0aW9uIHV0KHQpe3JldHVybiB2b2lkIDA9PT10LmZlYXR1cmVUYXJnZXR9ZnVuY3Rpb24gY3QodCl7cmV0dXJuISF0LmZlYXR1cmVUYXJnZXQmJighIXQuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzJiZ0LmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5tZXRhPT09di5GRUFUVVJFKX1mdW5jdGlvbiBsdCh0KXt2YXIgZT10LmZlYXR1cmVUYXJnZXQ7cmV0dXJuISFlJiYoISFlLnByb3BlcnRpZXMmJmUucHJvcGVydGllcy5tZXRhPT09di5WRVJURVgpfWZ1bmN0aW9uIGR0KHQpe3JldHVybiEhdC5vcmlnaW5hbEV2ZW50JiYhMD09PXQub3JpZ2luYWxFdmVudC5zaGlmdEtleX1mdW5jdGlvbiBwdCh0KXtyZXR1cm4gMjc9PT10LmtleUNvZGV9ZnVuY3Rpb24gZnQodCl7cmV0dXJuIDEzPT09dC5rZXlDb2RlfXZhciBodD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpc09mTWV0YVR5cGU6cnQsaXNTaGlmdE1vdXNlZG93bjppdCxpc0FjdGl2ZUZlYXR1cmU6YXQsaXNJbmFjdGl2ZUZlYXR1cmU6c3Qsbm9UYXJnZXQ6dXQsaXNGZWF0dXJlOmN0LGlzVmVydGV4Omx0LGlzU2hpZnREb3duOmR0LGlzRXNjYXBlS2V5OnB0LGlzRW50ZXJLZXk6ZnQsaXNUcnVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSksZ3Q9eXQ7ZnVuY3Rpb24geXQodCxlKXt0aGlzLng9dCx0aGlzLnk9ZX15dC5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB5dCh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZCh0KX0sc3ViOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3N1Yih0KX0sbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQodCl9LGRpdkJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludCh0KX0sbXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KHQpfSxkaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KHQpfSxyb3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKHQpfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQodCxlKX0sbWF0TXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KHQpfSx1bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpfSxwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpfSxyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCl9LG1hZzpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9PT10LngmJnRoaXMueT09PXQueX0sZGlzdDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcih0KSl9LGRpc3RTcXI6ZnVuY3Rpb24odCl7dmFyIGU9dC54LXRoaXMueCxuPXQueS10aGlzLnk7cmV0dXJuIGUqZStuKm59LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LGFuZ2xlVG86ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LXQueSx0aGlzLngtdC54KX0sYW5nbGVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuZ2xlV2l0aFNlcCh0LngsdC55KX0sYW5nbGVXaXRoU2VwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54KmUtdGhpcy55KnQsdGhpcy54KnQrdGhpcy55KmUpfSxfbWF0TXVsdDpmdW5jdGlvbih0KXt2YXIgZT10WzBdKnRoaXMueCt0WzFdKnRoaXMueSxuPXRbMl0qdGhpcy54K3RbM10qdGhpcy55O3JldHVybiB0aGlzLng9ZSx0aGlzLnk9bix0aGlzfSxfYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSxfc3ViOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSxfbXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzfSxfZGl2OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LF9tdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LngsdGhpcy55Kj10LnksdGhpc30sX2RpdkJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXN9LF91bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpdih0aGlzLm1hZygpKSx0aGlzfSxfcGVycDpmdW5jdGlvbigpe3ZhciB0PXRoaXMueTtyZXR1cm4gdGhpcy55PXRoaXMueCx0aGlzLng9LXQsdGhpc30sX3JvdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpLG89ZSp0aGlzLngtbip0aGlzLnkscj1uKnRoaXMueCtlKnRoaXMueTtyZXR1cm4gdGhpcy54PW8sdGhpcy55PXIsdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY29zKHQpLG89TWF0aC5zaW4odCkscj1lLngrbioodGhpcy54LWUueCktbyoodGhpcy55LWUueSksaT1lLnkrbyoodGhpcy54LWUueCkrbioodGhpcy55LWUueSk7cmV0dXJuIHRoaXMueD1yLHRoaXMueT1pLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LHl0LmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB5dD90OkFycmF5LmlzQXJyYXkodCk/bmV3IHl0KHRbMF0sdFsxXSk6dH07dmFyIHZ0PWUoZ3QpO2Z1bmN0aW9uIG10KHQsZSl7dmFyIG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gbmV3IHZ0KHQuY2xpZW50WC1uLmxlZnQtKGUuY2xpZW50TGVmdHx8MCksdC5jbGllbnRZLW4udG9wLShlLmNsaWVudFRvcHx8MCkpfWZ1bmN0aW9uIF90KHQsZSxuLG8pe3JldHVybnt0eXBlOmYuRkVBVFVSRSxwcm9wZXJ0aWVzOnttZXRhOnYuVkVSVEVYLHBhcmVudDp0LGNvb3JkX3BhdGg6bixhY3RpdmU6bz9tLkFDVElWRTptLklOQUNUSVZFfSxnZW9tZXRyeTp7dHlwZTpmLlBPSU5ULGNvb3JkaW5hdGVzOmV9fX1mdW5jdGlvbiBidCh0LGUsbil7dmFyIG89ZS5nZW9tZXRyeS5jb29yZGluYXRlcyxyPW4uZ2VvbWV0cnkuY29vcmRpbmF0ZXM7aWYob1sxXT44NXx8b1sxXTxifHxyWzFdPjg1fHxyWzFdPGIpcmV0dXJuIG51bGw7dmFyIGk9e2xuZzoob1swXStyWzBdKS8yLGxhdDoob1sxXStyWzFdKS8yfTtyZXR1cm57dHlwZTpmLkZFQVRVUkUscHJvcGVydGllczp7bWV0YTp2Lk1JRFBPSU5ULHBhcmVudDp0LGxuZzppLmxuZyxsYXQ6aS5sYXQsY29vcmRfcGF0aDpuLnByb3BlcnRpZXMuY29vcmRfcGF0aH0sZ2VvbWV0cnk6e3R5cGU6Zi5QT0lOVCxjb29yZGluYXRlczpbaS5sbmcsaS5sYXRdfX19ZnVuY3Rpb24gRXQodCxlLG4pe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1uJiYobj1udWxsKTt2YXIgbyxyPXQuZ2VvbWV0cnksaT1yLnR5cGUsYT1yLmNvb3JkaW5hdGVzLHM9dC5wcm9wZXJ0aWVzJiZ0LnByb3BlcnRpZXMuaWQsdT1bXTtmdW5jdGlvbiBjKHQsbil7dmFyIG89XCJcIixyPW51bGw7dC5mb3JFYWNoKChmdW5jdGlvbih0LGkpe3ZhciBhPW51bGwhPW4/bitcIi5cIitpOlN0cmluZyhpKSxjPV90KHMsdCxhLGwoYSkpO2lmKGUubWlkcG9pbnRzJiZyKXt2YXIgZD1idChzLHIsYyk7ZCYmdS5wdXNoKGQpfXI9Yzt2YXIgcD1KU09OLnN0cmluZ2lmeSh0KTtvIT09cCYmdS5wdXNoKGMpLDA9PT1pJiYobz1wKX0pKX1mdW5jdGlvbiBsKHQpe3JldHVybiEhZS5zZWxlY3RlZFBhdGhzJiYtMSE9PWUuc2VsZWN0ZWRQYXRocy5pbmRleE9mKHQpfXJldHVybiBpPT09Zi5QT0lOVD91LnB1c2goX3QocyxhLG4sbChuKSkpOmk9PT1mLlBPTFlHT04/YS5mb3JFYWNoKChmdW5jdGlvbih0LGUpe2ModCxudWxsIT09bj9uK1wiLlwiK2U6U3RyaW5nKGUpKX0pKTppPT09Zi5MSU5FX1NUUklORz9jKGEsbik6MD09PWkuaW5kZXhPZihmLk1VTFRJX1BSRUZJWCkmJihvPWkucmVwbGFjZShmLk1VTFRJX1BSRUZJWCxcIlwiKSxhLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dmFyIGk9e3R5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLGdlb21ldHJ5Ont0eXBlOm8sY29vcmRpbmF0ZXM6bn19O3U9dS5jb25jYXQoRXQoaSxlLHIpKX0pKSksdX12YXIgVHQ9e2VuYWJsZTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QubWFwJiZ0Lm1hcC5kb3VibGVDbGlja1pvb20mJnQuX2N0eCYmdC5fY3R4LnN0b3JlJiZ0Ll9jdHguc3RvcmUuZ2V0SW5pdGlhbENvbmZpZ1ZhbHVlJiZ0Ll9jdHguc3RvcmUuZ2V0SW5pdGlhbENvbmZpZ1ZhbHVlKFwiZG91YmxlQ2xpY2tab29tXCIpJiZ0Lm1hcC5kb3VibGVDbGlja1pvb20uZW5hYmxlKCl9KSwwKX0sZGlzYWJsZTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QubWFwJiZ0Lm1hcC5kb3VibGVDbGlja1pvb20mJnQubWFwLmRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKCl9KSwwKX19LEN0PXtleHBvcnRzOnt9fSxPdD1mdW5jdGlvbih0KXtpZighdHx8IXQudHlwZSlyZXR1cm4gbnVsbDt2YXIgZT1TdFt0LnR5cGVdO2lmKCFlKXJldHVybiBudWxsO2lmKFwiZ2VvbWV0cnlcIj09PWUpcmV0dXJue3R5cGU6XCJGZWF0dXJlQ29sbGVjdGlvblwiLGZlYXR1cmVzOlt7dHlwZTpcIkZlYXR1cmVcIixwcm9wZXJ0aWVzOnt9LGdlb21ldHJ5OnR9XX07aWYoXCJmZWF0dXJlXCI9PT1lKXJldHVybnt0eXBlOlwiRmVhdHVyZUNvbGxlY3Rpb25cIixmZWF0dXJlczpbdF19O2lmKFwiZmVhdHVyZWNvbGxlY3Rpb25cIj09PWUpcmV0dXJuIHR9LFN0PXtQb2ludDpcImdlb21ldHJ5XCIsTXVsdGlQb2ludDpcImdlb21ldHJ5XCIsTGluZVN0cmluZzpcImdlb21ldHJ5XCIsTXVsdGlMaW5lU3RyaW5nOlwiZ2VvbWV0cnlcIixQb2x5Z29uOlwiZ2VvbWV0cnlcIixNdWx0aVBvbHlnb246XCJnZW9tZXRyeVwiLEdlb21ldHJ5Q29sbGVjdGlvbjpcImdlb21ldHJ5XCIsRmVhdHVyZTpcImZlYXR1cmVcIixGZWF0dXJlQ29sbGVjdGlvbjpcImZlYXR1cmVjb2xsZWN0aW9uXCJ9O3ZhciBJdD1lKE90KTt2YXIgeHQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpmdW5jdGlvbiB0KGUpe3N3aXRjaChlJiZlLnR5cGV8fG51bGwpe2Nhc2VcIkZlYXR1cmVDb2xsZWN0aW9uXCI6cmV0dXJuIGUuZmVhdHVyZXM9ZS5mZWF0dXJlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuY29uY2F0KHQobikpfSksW10pLGU7Y2FzZVwiRmVhdHVyZVwiOnJldHVybiBlLmdlb21ldHJ5P3QoZS5nZW9tZXRyeSkubWFwKChmdW5jdGlvbih0KXt2YXIgbj17dHlwZTpcIkZlYXR1cmVcIixwcm9wZXJ0aWVzOkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZS5wcm9wZXJ0aWVzKSksZ2VvbWV0cnk6dH07cmV0dXJuIHZvaWQgMCE9PWUuaWQmJihuLmlkPWUuaWQpLG59KSk6W2VdO2Nhc2VcIk11bHRpUG9pbnRcIjpyZXR1cm4gZS5jb29yZGluYXRlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOlwiUG9pbnRcIixjb29yZGluYXRlczp0fX0pKTtjYXNlXCJNdWx0aVBvbHlnb25cIjpyZXR1cm4gZS5jb29yZGluYXRlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOlwiUG9seWdvblwiLGNvb3JkaW5hdGVzOnR9fSkpO2Nhc2VcIk11bHRpTGluZVN0cmluZ1wiOnJldHVybiBlLmNvb3JkaW5hdGVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6XCJMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6dH19KSk7Y2FzZVwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6cmV0dXJuIGUuZ2VvbWV0cmllcy5tYXAodCkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbmNhdChlKX0pLFtdKTtjYXNlXCJQb2ludFwiOmNhc2VcIlBvbHlnb25cIjpjYXNlXCJMaW5lU3RyaW5nXCI6cmV0dXJuW2VdfX19KSxNdD1PdCxMdD1uKHh0KSxOdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24gdChlKXtpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmXCJudW1iZXJcIj09dHlwZW9mIGVbMF0pcmV0dXJuW2VdO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmQXJyYXkuaXNBcnJheShuWzBdKT9lLmNvbmNhdCh0KG4pKTooZS5wdXNoKG4pLGUpfSksW10pfSh0KX07THQgaW5zdGFuY2VvZiBGdW5jdGlvbnx8KEx0PUx0LmRlZmF1bHQpO3ZhciBBdD17ZXhwb3J0czp7fX0sUHQ9QXQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZ0KHQpfTtmdW5jdGlvbiBGdCh0KXt0aGlzLnZhbHVlPXR9ZnVuY3Rpb24gd3QodCxlLG4pe3ZhciBvPVtdLHI9W10saT0hMDtyZXR1cm4gZnVuY3Rpb24gdChhKXt2YXIgcz1uP1J0KGEpOmEsdT17fSxjPSEwLGw9e25vZGU6cyxub2RlXzphLHBhdGg6W10uY29uY2F0KG8pLHBhcmVudDpyW3IubGVuZ3RoLTFdLHBhcmVudHM6cixrZXk6by5zbGljZSgtMSlbMF0saXNSb290OjA9PT1vLmxlbmd0aCxsZXZlbDpvLmxlbmd0aCxjaXJjdWxhcjpudWxsLHVwZGF0ZTpmdW5jdGlvbih0LGUpe2wuaXNSb290fHwobC5wYXJlbnQubm9kZVtsLmtleV09dCksbC5ub2RlPXQsZSYmKGM9ITEpfSxkZWxldGU6ZnVuY3Rpb24odCl7ZGVsZXRlIGwucGFyZW50Lm5vZGVbbC5rZXldLHQmJihjPSExKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe1V0KGwucGFyZW50Lm5vZGUpP2wucGFyZW50Lm5vZGUuc3BsaWNlKGwua2V5LDEpOmRlbGV0ZSBsLnBhcmVudC5ub2RlW2wua2V5XSx0JiYoYz0hMSl9LGtleXM6bnVsbCxiZWZvcmU6ZnVuY3Rpb24odCl7dS5iZWZvcmU9dH0sYWZ0ZXI6ZnVuY3Rpb24odCl7dS5hZnRlcj10fSxwcmU6ZnVuY3Rpb24odCl7dS5wcmU9dH0scG9zdDpmdW5jdGlvbih0KXt1LnBvc3Q9dH0sc3RvcDpmdW5jdGlvbigpe2k9ITF9LGJsb2NrOmZ1bmN0aW9uKCl7Yz0hMX19O2lmKCFpKXJldHVybiBsO2Z1bmN0aW9uIGQoKXtpZihcIm9iamVjdFwiPT10eXBlb2YgbC5ub2RlJiZudWxsIT09bC5ub2RlKXtsLmtleXMmJmwubm9kZV89PT1sLm5vZGV8fChsLmtleXM9a3QobC5ub2RlKSksbC5pc0xlYWY9MD09bC5rZXlzLmxlbmd0aDtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKylpZihyW3RdLm5vZGVfPT09YSl7bC5jaXJjdWxhcj1yW3RdO2JyZWFrfX1lbHNlIGwuaXNMZWFmPSEwLGwua2V5cz1udWxsO2wubm90TGVhZj0hbC5pc0xlYWYsbC5ub3RSb290PSFsLmlzUm9vdH1kKCk7dmFyIHA9ZS5jYWxsKGwsbC5ub2RlKTtyZXR1cm4gdm9pZCAwIT09cCYmbC51cGRhdGUmJmwudXBkYXRlKHApLHUuYmVmb3JlJiZ1LmJlZm9yZS5jYWxsKGwsbC5ub2RlKSxjPyhcIm9iamVjdFwiIT10eXBlb2YgbC5ub2RlfHxudWxsPT09bC5ub2RlfHxsLmNpcmN1bGFyfHwoci5wdXNoKGwpLGQoKSxqdChsLmtleXMsKGZ1bmN0aW9uKGUscil7by5wdXNoKGUpLHUucHJlJiZ1LnByZS5jYWxsKGwsbC5ub2RlW2VdLGUpO3ZhciBpPXQobC5ub2RlW2VdKTtuJiZWdC5jYWxsKGwubm9kZSxlKSYmKGwubm9kZVtlXT1pLm5vZGUpLGkuaXNMYXN0PXI9PWwua2V5cy5sZW5ndGgtMSxpLmlzRmlyc3Q9MD09cix1LnBvc3QmJnUucG9zdC5jYWxsKGwsaSksby5wb3AoKX0pKSxyLnBvcCgpKSx1LmFmdGVyJiZ1LmFmdGVyLmNhbGwobCxsLm5vZGUpLGwpOmx9KHQpLm5vZGV9ZnVuY3Rpb24gUnQodCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10KXt2YXIgZTtpZihVdCh0KSllPVtdO2Vsc2UgaWYoXCJbb2JqZWN0IERhdGVdXCI9PT1EdCh0KSllPW5ldyBEYXRlKHQuZ2V0VGltZT90LmdldFRpbWUoKTp0KTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBSZWdFeHBdXCI9PT1EdCh0KX0odCkpZT1uZXcgUmVnRXhwKHQpO2Vsc2UgaWYoZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEVycm9yXVwiPT09RHQodCl9KHQpKWU9e21lc3NhZ2U6dC5tZXNzYWdlfTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBCb29sZWFuXVwiPT09RHQodCl9KHQpKWU9bmV3IEJvb2xlYW4odCk7ZWxzZSBpZihmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgTnVtYmVyXVwiPT09RHQodCl9KHQpKWU9bmV3IE51bWJlcih0KTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBTdHJpbmddXCI9PT1EdCh0KX0odCkpZT1uZXcgU3RyaW5nKHQpO2Vsc2UgaWYoT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKWU9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpO2Vsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdCllPXt9O2Vsc2V7dmFyIG49dC5jb25zdHJ1Y3RvciYmdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGV8fHQuX19wcm90b19ffHx7fSxvPWZ1bmN0aW9uKCl7fTtvLnByb3RvdHlwZT1uLGU9bmV3IG99cmV0dXJuIGp0KGt0KHQpLChmdW5jdGlvbihuKXtlW25dPXRbbl19KSksZX1yZXR1cm4gdH1GdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnZhbHVlLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtpZighZXx8IVZ0LmNhbGwoZSxvKSl7ZT12b2lkIDA7YnJlYWt9ZT1lW29dfXJldHVybiBlfSxGdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnZhbHVlLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtpZighZXx8IVZ0LmNhbGwoZSxvKSlyZXR1cm4hMTtlPWVbb119cmV0dXJuITB9LEZ0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy52YWx1ZSxvPTA7bzx0Lmxlbmd0aC0xO28rKyl7dmFyIHI9dFtvXTtWdC5jYWxsKG4scil8fChuW3JdPXt9KSxuPW5bcl19cmV0dXJuIG5bdFtvXV09ZSxlfSxGdC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe3JldHVybiB3dCh0aGlzLnZhbHVlLHQsITApfSxGdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52YWx1ZT13dCh0aGlzLnZhbHVlLHQsITEpLHRoaXMudmFsdWV9LEZ0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlKXt2YXIgbj0xPT09YXJndW1lbnRzLmxlbmd0aCxvPW4/dGhpcy52YWx1ZTplO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RoaXMuaXNSb290JiZufHwobz10LmNhbGwodGhpcyxvLGUpKX0pKSxvfSxGdC5wcm90b3R5cGUucGF0aHM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2godGhpcy5wYXRoKX0pKSx0fSxGdC5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2godGhpcy5ub2RlKX0pKSx0fSxGdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPVtdO3JldHVybiBmdW5jdGlvbiBuKG8pe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl09PT1vKXJldHVybiBlW3JdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09byl7dmFyIGk9UnQobyk7cmV0dXJuIHQucHVzaChvKSxlLnB1c2goaSksanQoa3QobyksKGZ1bmN0aW9uKHQpe2lbdF09bihvW3RdKX0pKSx0LnBvcCgpLGUucG9wKCksaX1yZXR1cm4gb30odGhpcy52YWx1ZSl9O3ZhciBrdD1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpZS5wdXNoKG4pO3JldHVybiBlfTtmdW5jdGlvbiBEdCh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfXZhciBVdD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LGp0PWZ1bmN0aW9uKHQsZSl7aWYodC5mb3JFYWNoKXJldHVybiB0LmZvckVhY2goZSk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZSh0W25dLG4sdCl9O2p0KGt0KEZ0LnByb3RvdHlwZSksKGZ1bmN0aW9uKHQpe1B0W3RdPWZ1bmN0aW9uKGUpe3ZhciBuPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG89bmV3IEZ0KGUpO3JldHVybiBvW3RdLmFwcGx5KG8sbil9fSkpO3ZhciBWdD1PYmplY3QuaGFzT3duUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUgaW4gdH0sQnQ9QXQuZXhwb3J0cyxHdD1KdDtmdW5jdGlvbiBKdCh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBKdCkpcmV0dXJuIG5ldyBKdCh0KTt0aGlzLl9iYm94PXR8fFsxLzAsMS8wLC0xLzAsLTEvMF0sdGhpcy5fdmFsaWQ9ISF0fUp0LnByb3RvdHlwZS5pbmNsdWRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWxpZD0hMCx0aGlzLl9iYm94WzBdPU1hdGgubWluKHRoaXMuX2Jib3hbMF0sdFswXSksdGhpcy5fYmJveFsxXT1NYXRoLm1pbih0aGlzLl9iYm94WzFdLHRbMV0pLHRoaXMuX2Jib3hbMl09TWF0aC5tYXgodGhpcy5fYmJveFsyXSx0WzBdKSx0aGlzLl9iYm94WzNdPU1hdGgubWF4KHRoaXMuX2Jib3hbM10sdFsxXSksdGhpc30sSnQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT10IGluc3RhbmNlb2YgSnQ/dC5iYm94KCk6dCx0aGlzLl9iYm94WzBdPT1lWzBdJiZ0aGlzLl9iYm94WzFdPT1lWzFdJiZ0aGlzLl9iYm94WzJdPT1lWzJdJiZ0aGlzLl9iYm94WzNdPT1lWzNdfSxKdC5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWxpZD9bKHRoaXMuX2Jib3hbMF0rdGhpcy5fYmJveFsyXSkvMiwodGhpcy5fYmJveFsxXSt0aGlzLl9iYm94WzNdKS8yXTpudWxsfSxKdC5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMuX3ZhbGlkPSEwLGU9dCBpbnN0YW5jZW9mIEp0P3QuYmJveCgpOnQsdGhpcy5fYmJveFswXT1NYXRoLm1pbih0aGlzLl9iYm94WzBdLGVbMF0pLHRoaXMuX2Jib3hbMV09TWF0aC5taW4odGhpcy5fYmJveFsxXSxlWzFdKSx0aGlzLl9iYm94WzJdPU1hdGgubWF4KHRoaXMuX2Jib3hbMl0sZVsyXSksdGhpcy5fYmJveFszXT1NYXRoLm1heCh0aGlzLl9iYm94WzNdLGVbM10pLHRoaXN9LEp0LnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbGlkP3RoaXMuX2Jib3g6bnVsbH0sSnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzLl9mYXN0Q29udGFpbnMoKTtpZighdGhpcy5fdmFsaWQpcmV0dXJuIG51bGw7dmFyIGU9dFswXSxuPXRbMV07cmV0dXJuIHRoaXMuX2Jib3hbMF08PWUmJnRoaXMuX2Jib3hbMV08PW4mJnRoaXMuX2Jib3hbMl0+PWUmJnRoaXMuX2Jib3hbM10+PW59LEp0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ZhbGlkPyhlPXQgaW5zdGFuY2VvZiBKdD90LmJib3goKTp0LCEodGhpcy5fYmJveFswXT5lWzJdfHx0aGlzLl9iYm94WzJdPGVbMF18fHRoaXMuX2Jib3hbM108ZVsxXXx8dGhpcy5fYmJveFsxXT5lWzNdKSk6bnVsbDt2YXIgZX0sSnQucHJvdG90eXBlLl9mYXN0Q29udGFpbnM9ZnVuY3Rpb24oKXtpZighdGhpcy5fdmFsaWQpcmV0dXJuIG5ldyBGdW5jdGlvbihcInJldHVybiBudWxsO1wiKTt2YXIgdD1cInJldHVybiBcIit0aGlzLl9iYm94WzBdK1wiPD0gbGxbMF0gJiZcIit0aGlzLl9iYm94WzFdK1wiPD0gbGxbMV0gJiZcIit0aGlzLl9iYm94WzJdK1wiPj0gbGxbMF0gJiZcIit0aGlzLl9iYm94WzNdK1wiPj0gbGxbMV1cIjtyZXR1cm4gbmV3IEZ1bmN0aW9uKFwibGxcIix0KX0sSnQucHJvdG90eXBlLnBvbHlnb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsaWQ/e3R5cGU6XCJQb2x5Z29uXCIsY29vcmRpbmF0ZXM6W1tbdGhpcy5fYmJveFswXSx0aGlzLl9iYm94WzFdXSxbdGhpcy5fYmJveFsyXSx0aGlzLl9iYm94WzFdXSxbdGhpcy5fYmJveFsyXSx0aGlzLl9iYm94WzNdXSxbdGhpcy5fYmJveFswXSx0aGlzLl9iYm94WzNdXSxbdGhpcy5fYmJveFswXSx0aGlzLl9iYm94WzFdXV1dfTpudWxsfTt2YXIgenQ9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuW107dmFyIGU9THQoTXQodCkpLG49W107cmV0dXJuIGUuZmVhdHVyZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5nZW9tZXRyeSYmKG49bi5jb25jYXQoTnQodC5nZW9tZXRyeS5jb29yZGluYXRlcykpKX0pKSxufSxZdD1CdCwkdD1HdCxxdD17ZmVhdHVyZXM6W1wiRmVhdHVyZUNvbGxlY3Rpb25cIl0sY29vcmRpbmF0ZXM6W1wiUG9pbnRcIixcIk11bHRpUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIk11bHRpTGluZVN0cmluZ1wiLFwiUG9seWdvblwiLFwiTXVsdGlQb2x5Z29uXCJdLGdlb21ldHJ5OltcIkZlYXR1cmVcIl0sZ2VvbWV0cmllczpbXCJHZW9tZXRyeUNvbGxlY3Rpb25cIl19LEh0PU9iamVjdC5rZXlzKHF0KTtmdW5jdGlvbiBYdCh0KXtmb3IodmFyIGU9JHQoKSxuPXp0KHQpLG89MDtvPG4ubGVuZ3RoO28rKyllLmluY2x1ZGUobltvXSk7cmV0dXJuIGV9Q3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gWHQodCkuYmJveCgpfSxDdC5leHBvcnRzLnBvbHlnb249ZnVuY3Rpb24odCl7cmV0dXJuIFh0KHQpLnBvbHlnb24oKX0sQ3QuZXhwb3J0cy5iYm94aWZ5PWZ1bmN0aW9uKHQpe3JldHVybiBZdCh0KS5tYXAoKGZ1bmN0aW9uKHQpe3QmJihIdC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hIXRbZV0mJi0xIT09cXRbZV0uaW5kZXhPZih0LnR5cGUpfSkpJiYodC5iYm94PVh0KHQpLmJib3goKSx0aGlzLnVwZGF0ZSh0KSkpfSkpfTt2YXIgWnQ9ZShDdC5leHBvcnRzKSxXdD0tOTA7ZnVuY3Rpb24gS3QodCxlKXt2YXIgbj1XdCxvPTkwLHI9V3QsaT05MCxhPTI3MCxzPS0yNzA7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1adCh0KSx1PWVbMV0sYz1lWzNdLGw9ZVswXSxkPWVbMl07dT5uJiYobj11KSxjPG8mJihvPWMpLGM+ciYmKHI9YyksdTxpJiYoaT11KSxsPGEmJihhPWwpLGQ+cyYmKHM9ZCl9KSk7dmFyIHU9ZTtyZXR1cm4gbit1LmxhdD44NSYmKHUubGF0PTg1LW4pLHIrdS5sYXQ+OTAmJih1LmxhdD05MC1yKSxvK3UubGF0PC04NSYmKHUubGF0PS04NS1vKSxpK3UubGF0PFd0JiYodS5sYXQ9V3QtaSksYSt1LmxuZzw9LTI3MCYmKHUubG5nKz0zNjAqTWF0aC5jZWlsKE1hdGguYWJzKHUubG5nKS8zNjApKSxzK3UubG5nPj0yNzAmJih1LmxuZy09MzYwKk1hdGguY2VpbChNYXRoLmFicyh1LmxuZykvMzYwKSksdX1mdW5jdGlvbiBRdCh0LGUpe3ZhciBuPUt0KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b0dlb0pTT04oKX0pKSxlKTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlLG89dC5nZXRDb29yZGluYXRlcygpLHI9ZnVuY3Rpb24odCl7dmFyIGU9e2xuZzp0WzBdK24ubG5nLGxhdDp0WzFdK24ubGF0fTtyZXR1cm5bZS5sbmcsZS5sYXRdfSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHIodCl9KSl9O3QudHlwZT09PWYuUE9JTlQ/ZT1yKG8pOnQudHlwZT09PWYuTElORV9TVFJJTkd8fHQudHlwZT09PWYuTVVMVElfUE9JTlQ/ZT1vLm1hcChyKTp0LnR5cGU9PT1mLlBPTFlHT058fHQudHlwZT09PWYuTVVMVElfTElORV9TVFJJTkc/ZT1vLm1hcChpKTp0LnR5cGU9PT1mLk1VTFRJX1BPTFlHT04mJihlPW8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfSkpfSkpKSx0LmluY29taW5nQ29vcmRzKGUpfSkpfXZhciB0ZT17b25TZXR1cDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49e2RyYWdNb3ZlTG9jYXRpb246bnVsbCxib3hTZWxlY3RTdGFydExvY2F0aW9uOm51bGwsYm94U2VsZWN0RWxlbWVudDp2b2lkIDAsYm94U2VsZWN0aW5nOiExLGNhbkJveFNlbGVjdDohMSxkcmFnTW92aW5nOiExLGNhbkRyYWdNb3ZlOiExLGluaXRpYWxseVNlbGVjdGVkRmVhdHVyZUlkczp0LmZlYXR1cmVJZHN8fFtdfTtyZXR1cm4gdGhpcy5zZXRTZWxlY3RlZChuLmluaXRpYWxseVNlbGVjdGVkRmVhdHVyZUlkcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT1lLmdldEZlYXR1cmUodCl9KSkpLHRoaXMuZmlyZUFjdGlvbmFibGUoKSx0aGlzLnNldEFjdGlvbmFibGVTdGF0ZSh7Y29tYmluZUZlYXR1cmVzOiEwLHVuY29tYmluZUZlYXR1cmVzOiEwLHRyYXNoOiEwfSksbn0sZmlyZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMubWFwLmZpcmUoZy5VUERBVEUse2FjdGlvbjp5Lk1PVkUsZmVhdHVyZXM6dGhpcy5nZXRTZWxlY3RlZCgpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9HZW9KU09OKCl9KSl9KX0sZmlyZUFjdGlvbmFibGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5nZXRTZWxlY3RlZCgpLG49ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzSW5zdGFuY2VPZihcIk11bHRpRmVhdHVyZVwiLGUpfSkpLG89ITE7aWYoZS5sZW5ndGg+MSl7bz0hMDt2YXIgcj1lWzBdLnR5cGUucmVwbGFjZShcIk11bHRpXCIsXCJcIik7ZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnR5cGUucmVwbGFjZShcIk11bHRpXCIsXCJcIikhPT1yJiYobz0hMSl9KSl9dmFyIGk9bi5sZW5ndGg+MCxhPWUubGVuZ3RoPjA7dGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe2NvbWJpbmVGZWF0dXJlczpvLHVuY29tYmluZUZlYXR1cmVzOmksdHJhc2g6YX0pfSxnZXRVbmlxdWVJZHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm9wZXJ0aWVzLmlkfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR9KSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0LmFkZChlKSx0fSksbmV3IEkpLnZhbHVlcygpOltdfSxzdG9wRXh0ZW5kZWRJbnRlcmFjdGlvbnM6ZnVuY3Rpb24odCl7dC5ib3hTZWxlY3RFbGVtZW50JiYodC5ib3hTZWxlY3RFbGVtZW50LnBhcmVudE5vZGUmJnQuYm94U2VsZWN0RWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuYm94U2VsZWN0RWxlbWVudCksdC5ib3hTZWxlY3RFbGVtZW50PW51bGwpLHRoaXMubWFwLmRyYWdQYW4uZW5hYmxlKCksdC5ib3hTZWxlY3Rpbmc9ITEsdC5jYW5Cb3hTZWxlY3Q9ITEsdC5kcmFnTW92aW5nPSExLHQuY2FuRHJhZ01vdmU9ITF9LG9uU3RvcDpmdW5jdGlvbigpe1R0LmVuYWJsZSh0aGlzKX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY3QoZSkmJnQuZHJhZ01vdmluZyYmdGhpcy5maXJlVXBkYXRlKCksdGhpcy5zdG9wRXh0ZW5kZWRJbnRlcmFjdGlvbnModCksITB9LG9uTW91c2VPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIXQuZHJhZ01vdmluZ3x8dGhpcy5maXJlVXBkYXRlKCl9fTt0ZS5vblRhcD10ZS5vbkNsaWNrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHV0KGUpP3RoaXMuY2xpY2tBbnl3aGVyZSh0LGUpOnJ0KHYuVkVSVEVYKShlKT90aGlzLmNsaWNrT25WZXJ0ZXgodCxlKTpjdChlKT90aGlzLmNsaWNrT25GZWF0dXJlKHQsZSk6dm9pZCAwfSx0ZS5jbGlja0FueXdoZXJlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLmdldFNlbGVjdGVkSWRzKCk7bi5sZW5ndGgmJih0aGlzLmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZG9SZW5kZXIodCl9KSkpLFR0LmVuYWJsZSh0aGlzKSx0aGlzLnN0b3BFeHRlbmRlZEludGVyYWN0aW9ucyh0KX0sdGUuY2xpY2tPblZlcnRleD1mdW5jdGlvbih0LGUpe3RoaXMuY2hhbmdlTW9kZShoLkRJUkVDVF9TRUxFQ1Qse2ZlYXR1cmVJZDplLmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5wYXJlbnQsY29vcmRQYXRoOmUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLmNvb3JkX3BhdGgsc3RhcnRQb3M6ZS5sbmdMYXR9KSx0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7bW91c2U6ZC5NT1ZFfSl9LHRlLnN0YXJ0T25BY3RpdmVGZWF0dXJlPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wRXh0ZW5kZWRJbnRlcmFjdGlvbnModCksdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCksdGhpcy5kb1JlbmRlcihlLmZlYXR1cmVUYXJnZXQucHJvcGVydGllcy5pZCksdC5jYW5EcmFnTW92ZT0hMCx0LmRyYWdNb3ZlTG9jYXRpb249ZS5sbmdMYXR9LHRlLmNsaWNrT25GZWF0dXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztUdC5kaXNhYmxlKHRoaXMpLHRoaXMuc3RvcEV4dGVuZGVkSW50ZXJhY3Rpb25zKHQpO3ZhciBvPWR0KGUpLHI9dGhpcy5nZXRTZWxlY3RlZElkcygpLGk9ZS5mZWF0dXJlVGFyZ2V0LnByb3BlcnRpZXMuaWQsYT10aGlzLmlzU2VsZWN0ZWQoaSk7aWYoIW8mJmEmJnRoaXMuZ2V0RmVhdHVyZShpKS50eXBlIT09Zi5QT0lOVClyZXR1cm4gdGhpcy5jaGFuZ2VNb2RlKGguRElSRUNUX1NFTEVDVCx7ZmVhdHVyZUlkOml9KTthJiZvPyh0aGlzLmRlc2VsZWN0KGkpLHRoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLlBPSU5URVJ9KSwxPT09ci5sZW5ndGgmJlR0LmVuYWJsZSh0aGlzKSk6IWEmJm8/KHRoaXMuc2VsZWN0KGkpLHRoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLk1PVkV9KSk6YXx8b3x8KHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uZG9SZW5kZXIodCl9KSksdGhpcy5zZXRTZWxlY3RlZChpKSx0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7bW91c2U6ZC5NT1ZFfSkpLHRoaXMuZG9SZW5kZXIoaSl9LHRlLm9uTW91c2VEb3duPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGF0KGUpP3RoaXMuc3RhcnRPbkFjdGl2ZUZlYXR1cmUodCxlKTp0aGlzLmRyYXdDb25maWcuYm94U2VsZWN0JiZpdChlKT90aGlzLnN0YXJ0Qm94U2VsZWN0KHQsZSk6dm9pZCAwfSx0ZS5zdGFydEJveFNlbGVjdD1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcEV4dGVuZGVkSW50ZXJhY3Rpb25zKHQpLHRoaXMubWFwLmRyYWdQYW4uZGlzYWJsZSgpLHQuYm94U2VsZWN0U3RhcnRMb2NhdGlvbj1tdChlLm9yaWdpbmFsRXZlbnQsdGhpcy5tYXAuZ2V0Q29udGFpbmVyKCkpLHQuY2FuQm94U2VsZWN0PSEwfSx0ZS5vblRvdWNoU3RhcnQ9ZnVuY3Rpb24odCxlKXtpZihhdChlKSlyZXR1cm4gdGhpcy5zdGFydE9uQWN0aXZlRmVhdHVyZSh0LGUpfSx0ZS5vbkRyYWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jYW5EcmFnTW92ZT90aGlzLmRyYWdNb3ZlKHQsZSk6dGhpcy5kcmF3Q29uZmlnLmJveFNlbGVjdCYmdC5jYW5Cb3hTZWxlY3Q/dGhpcy53aGlsZUJveFNlbGVjdCh0LGUpOnZvaWQgMH0sdGUud2hpbGVCb3hTZWxlY3Q9ZnVuY3Rpb24odCxlKXt0LmJveFNlbGVjdGluZz0hMCx0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7bW91c2U6ZC5BRER9KSx0LmJveFNlbGVjdEVsZW1lbnR8fCh0LmJveFNlbGVjdEVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmJveFNlbGVjdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjLkJPWF9TRUxFQ1QpLHRoaXMubWFwLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHQuYm94U2VsZWN0RWxlbWVudCkpO3ZhciBuPW10KGUub3JpZ2luYWxFdmVudCx0aGlzLm1hcC5nZXRDb250YWluZXIoKSksbz1NYXRoLm1pbih0LmJveFNlbGVjdFN0YXJ0TG9jYXRpb24ueCxuLngpLHI9TWF0aC5tYXgodC5ib3hTZWxlY3RTdGFydExvY2F0aW9uLngsbi54KSxpPU1hdGgubWluKHQuYm94U2VsZWN0U3RhcnRMb2NhdGlvbi55LG4ueSksYT1NYXRoLm1heCh0LmJveFNlbGVjdFN0YXJ0TG9jYXRpb24ueSxuLnkpLHM9XCJ0cmFuc2xhdGUoXCIrbytcInB4LCBcIitpK1wicHgpXCI7dC5ib3hTZWxlY3RFbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1zLHQuYm94U2VsZWN0RWxlbWVudC5zdHlsZS5XZWJraXRUcmFuc2Zvcm09cyx0LmJveFNlbGVjdEVsZW1lbnQuc3R5bGUud2lkdGg9ci1vK1wicHhcIix0LmJveFNlbGVjdEVsZW1lbnQuc3R5bGUuaGVpZ2h0PWEtaStcInB4XCJ9LHRlLmRyYWdNb3ZlPWZ1bmN0aW9uKHQsZSl7dC5kcmFnTW92aW5nPSEwLGUub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgbj17bG5nOmUubG5nTGF0LmxuZy10LmRyYWdNb3ZlTG9jYXRpb24ubG5nLGxhdDplLmxuZ0xhdC5sYXQtdC5kcmFnTW92ZUxvY2F0aW9uLmxhdH07UXQodGhpcy5nZXRTZWxlY3RlZCgpLG4pLHQuZHJhZ01vdmVMb2NhdGlvbj1lLmxuZ0xhdH0sdGUub25Ub3VjaEVuZD10ZS5vbk1vdXNlVXA9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHQuZHJhZ01vdmluZyl0aGlzLmZpcmVVcGRhdGUoKTtlbHNlIGlmKHQuYm94U2VsZWN0aW5nKXt2YXIgbz1bdC5ib3hTZWxlY3RTdGFydExvY2F0aW9uLG10KGUub3JpZ2luYWxFdmVudCx0aGlzLm1hcC5nZXRDb250YWluZXIoKSldLHI9dGhpcy5mZWF0dXJlc0F0KG51bGwsbyxcImNsaWNrXCIpLGk9dGhpcy5nZXRVbmlxdWVJZHMocikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hbi5pc1NlbGVjdGVkKHQpfSkpO2kubGVuZ3RoJiYodGhpcy5zZWxlY3QoaSksaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5kb1JlbmRlcih0KX0pKSx0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7bW91c2U6ZC5NT1ZFfSkpfXRoaXMuc3RvcEV4dGVuZGVkSW50ZXJhY3Rpb25zKHQpfSx0ZS50b0Rpc3BsYXlGZWF0dXJlcz1mdW5jdGlvbih0LGUsbil7ZS5wcm9wZXJ0aWVzLmFjdGl2ZT10aGlzLmlzU2VsZWN0ZWQoZS5wcm9wZXJ0aWVzLmlkKT9tLkFDVElWRTptLklOQUNUSVZFLG4oZSksdGhpcy5maXJlQWN0aW9uYWJsZSgpLGUucHJvcGVydGllcy5hY3RpdmU9PT1tLkFDVElWRSYmZS5nZW9tZXRyeS50eXBlIT09Zi5QT0lOVCYmRXQoZSkuZm9yRWFjaChuKX0sdGUub25UcmFzaD1mdW5jdGlvbigpe3RoaXMuZGVsZXRlRmVhdHVyZSh0aGlzLmdldFNlbGVjdGVkSWRzKCkpLHRoaXMuZmlyZUFjdGlvbmFibGUoKX0sdGUub25Db21iaW5lRmVhdHVyZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNlbGVjdGVkKCk7aWYoISgwPT09dC5sZW5ndGh8fHQubGVuZ3RoPDIpKXtmb3IodmFyIGU9W10sbj1bXSxvPXRbMF0udHlwZS5yZXBsYWNlKFwiTXVsdGlcIixcIlwiKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aWYoaS50eXBlLnJlcGxhY2UoXCJNdWx0aVwiLFwiXCIpIT09bylyZXR1cm47aS50eXBlLmluY2x1ZGVzKFwiTXVsdGlcIik/aS5nZXRDb29yZGluYXRlcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKTplLnB1c2goaS5nZXRDb29yZGluYXRlcygpKSxuLnB1c2goaS50b0dlb0pTT04oKSl9aWYobi5sZW5ndGg+MSl7dmFyIGE9dGhpcy5uZXdGZWF0dXJlKHt0eXBlOmYuRkVBVFVSRSxwcm9wZXJ0aWVzOm5bMF0ucHJvcGVydGllcyxnZW9tZXRyeTp7dHlwZTpcIk11bHRpXCIrbyxjb29yZGluYXRlczplfX0pO3RoaXMuYWRkRmVhdHVyZShhKSx0aGlzLmRlbGV0ZUZlYXR1cmUodGhpcy5nZXRTZWxlY3RlZElkcygpLHtzaWxlbnQ6ITB9KSx0aGlzLnNldFNlbGVjdGVkKFthLmlkXSksdGhpcy5tYXAuZmlyZShnLkNPTUJJTkVfRkVBVFVSRVMse2NyZWF0ZWRGZWF0dXJlczpbYS50b0dlb0pTT04oKV0sZGVsZXRlZEZlYXR1cmVzOm59KX10aGlzLmZpcmVBY3Rpb25hYmxlKCl9fSx0ZS5vblVuY29tYmluZUZlYXR1cmVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZ2V0U2VsZWN0ZWQoKTtpZigwIT09ZS5sZW5ndGgpe2Zvcih2YXIgbj1bXSxvPVtdLHI9ZnVuY3Rpb24ocil7dmFyIGk9ZVtyXTt0LmlzSW5zdGFuY2VPZihcIk11bHRpRmVhdHVyZVwiLGkpJiYoaS5nZXRGZWF0dXJlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuYWRkRmVhdHVyZShlKSxlLnByb3BlcnRpZXM9aS5wcm9wZXJ0aWVzLG4ucHVzaChlLnRvR2VvSlNPTigpKSx0LnNlbGVjdChbZS5pZF0pfSkpLHQuZGVsZXRlRmVhdHVyZShpLmlkLHtzaWxlbnQ6ITB9KSxvLnB1c2goaS50b0dlb0pTT04oKSkpfSxpPTA7aTxlLmxlbmd0aDtpKyspcihpKTtuLmxlbmd0aD4xJiZ0aGlzLm1hcC5maXJlKGcuVU5DT01CSU5FX0ZFQVRVUkVTLHtjcmVhdGVkRmVhdHVyZXM6bixkZWxldGVkRmVhdHVyZXM6b30pLHRoaXMuZmlyZUFjdGlvbmFibGUoKX19O3ZhciBlZT1ydCh2LlZFUlRFWCksbmU9cnQodi5NSURQT0lOVCksb2U9e2ZpcmVVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm1hcC5maXJlKGcuVVBEQVRFLHthY3Rpb246eS5DSEFOR0VfQ09PUkRJTkFURVMsZmVhdHVyZXM6dGhpcy5nZXRTZWxlY3RlZCgpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9HZW9KU09OKCl9KSl9KX0sZmlyZUFjdGlvbmFibGU6ZnVuY3Rpb24odCl7dGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe2NvbWJpbmVGZWF0dXJlczohMSx1bmNvbWJpbmVGZWF0dXJlczohMSx0cmFzaDp0LnNlbGVjdGVkQ29vcmRQYXRocy5sZW5ndGg+MH0pfSxzdGFydERyYWdnaW5nOmZ1bmN0aW9uKHQsZSl7dGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCksdC5jYW5EcmFnTW92ZT0hMCx0LmRyYWdNb3ZlTG9jYXRpb249ZS5sbmdMYXR9LHN0b3BEcmFnZ2luZzpmdW5jdGlvbih0KXt0aGlzLm1hcC5kcmFnUGFuLmVuYWJsZSgpLHQuZHJhZ01vdmluZz0hMSx0LmNhbkRyYWdNb3ZlPSExLHQuZHJhZ01vdmVMb2NhdGlvbj1udWxsfSxvblZlcnRleDpmdW5jdGlvbih0LGUpe3RoaXMuc3RhcnREcmFnZ2luZyh0LGUpO3ZhciBuPWUuZmVhdHVyZVRhcmdldC5wcm9wZXJ0aWVzLG89dC5zZWxlY3RlZENvb3JkUGF0aHMuaW5kZXhPZihuLmNvb3JkX3BhdGgpO2R0KGUpfHwtMSE9PW8/ZHQoZSkmJi0xPT09byYmdC5zZWxlY3RlZENvb3JkUGF0aHMucHVzaChuLmNvb3JkX3BhdGgpOnQuc2VsZWN0ZWRDb29yZFBhdGhzPVtuLmNvb3JkX3BhdGhdO3ZhciByPXRoaXMucGF0aHNUb0Nvb3JkaW5hdGVzKHQuZmVhdHVyZUlkLHQuc2VsZWN0ZWRDb29yZFBhdGhzKTt0aGlzLnNldFNlbGVjdGVkQ29vcmRpbmF0ZXMocil9LG9uTWlkcG9pbnQ6ZnVuY3Rpb24odCxlKXt0aGlzLnN0YXJ0RHJhZ2dpbmcodCxlKTt2YXIgbj1lLmZlYXR1cmVUYXJnZXQucHJvcGVydGllczt0LmZlYXR1cmUuYWRkQ29vcmRpbmF0ZShuLmNvb3JkX3BhdGgsbi5sbmcsbi5sYXQpLHRoaXMuZmlyZVVwZGF0ZSgpLHQuc2VsZWN0ZWRDb29yZFBhdGhzPVtuLmNvb3JkX3BhdGhdfSxwYXRoc1RvQ29vcmRpbmF0ZXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntmZWF0dXJlX2lkOnQsY29vcmRfcGF0aDplfX0pKX0sb25GZWF0dXJlOmZ1bmN0aW9uKHQsZSl7MD09PXQuc2VsZWN0ZWRDb29yZFBhdGhzLmxlbmd0aD90aGlzLnN0YXJ0RHJhZ2dpbmcodCxlKTp0aGlzLnN0b3BEcmFnZ2luZyh0KX0sZHJhZ0ZlYXR1cmU6ZnVuY3Rpb24odCxlLG4pe1F0KHRoaXMuZ2V0U2VsZWN0ZWQoKSxuKSx0LmRyYWdNb3ZlTG9jYXRpb249ZS5sbmdMYXR9LGRyYWdWZXJ0ZXg6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgbz10LnNlbGVjdGVkQ29vcmRQYXRocy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZlYXR1cmUuZ2V0Q29vcmRpbmF0ZShlKX0pKSxyPUt0KG8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dHlwZTpmLkZFQVRVUkUscHJvcGVydGllczp7fSxnZW9tZXRyeTp7dHlwZTpmLlBPSU5ULGNvb3JkaW5hdGVzOnR9fX0pKSxuKSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW9baV07dC5mZWF0dXJlLnVwZGF0ZUNvb3JkaW5hdGUodC5zZWxlY3RlZENvb3JkUGF0aHNbaV0sYVswXStyLmxuZyxhWzFdK3IubGF0KX19LGNsaWNrTm9UYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNUKX0sY2xpY2tJbmFjdGl2ZTpmdW5jdGlvbigpe3RoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1QpfSxjbGlja0FjdGl2ZUZlYXR1cmU6ZnVuY3Rpb24odCl7dC5zZWxlY3RlZENvb3JkUGF0aHM9W10sdGhpcy5jbGVhclNlbGVjdGVkQ29vcmRpbmF0ZXMoKSx0LmZlYXR1cmUuY2hhbmdlZCgpfSxvblNldHVwOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZmVhdHVyZUlkLG49dGhpcy5nZXRGZWF0dXJlKGUpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHByb3ZpZGUgYSBmZWF0dXJlSWQgdG8gZW50ZXIgZGlyZWN0X3NlbGVjdCBtb2RlXCIpO2lmKG4udHlwZT09PWYuUE9JTlQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRpcmVjdF9zZWxlY3QgbW9kZSBkb2Vzbid0IGhhbmRsZSBwb2ludCBmZWF0dXJlc1wiKTt2YXIgbz17ZmVhdHVyZUlkOmUsZmVhdHVyZTpuLGRyYWdNb3ZlTG9jYXRpb246dC5zdGFydFBvc3x8bnVsbCxkcmFnTW92aW5nOiExLGNhbkRyYWdNb3ZlOiExLHNlbGVjdGVkQ29vcmRQYXRoczp0LmNvb3JkUGF0aD9bdC5jb29yZFBhdGhdOltdfTtyZXR1cm4gdGhpcy5zZXRTZWxlY3RlZENvb3JkaW5hdGVzKHRoaXMucGF0aHNUb0Nvb3JkaW5hdGVzKGUsby5zZWxlY3RlZENvb3JkUGF0aHMpKSx0aGlzLnNldFNlbGVjdGVkKGUpLFR0LmRpc2FibGUodGhpcyksdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe3RyYXNoOiEwfSksb30sb25TdG9wOmZ1bmN0aW9uKCl7VHQuZW5hYmxlKHRoaXMpLHRoaXMuY2xlYXJTZWxlY3RlZENvb3JkaW5hdGVzKCl9LHRvRGlzcGxheUZlYXR1cmVzOmZ1bmN0aW9uKHQsZSxuKXt0LmZlYXR1cmVJZD09PWUucHJvcGVydGllcy5pZD8oZS5wcm9wZXJ0aWVzLmFjdGl2ZT1tLkFDVElWRSxuKGUpLEV0KGUse21hcDp0aGlzLm1hcCxtaWRwb2ludHM6ITAsc2VsZWN0ZWRQYXRoczp0LnNlbGVjdGVkQ29vcmRQYXRoc30pLmZvckVhY2gobikpOihlLnByb3BlcnRpZXMuYWN0aXZlPW0uSU5BQ1RJVkUsbihlKSksdGhpcy5maXJlQWN0aW9uYWJsZSh0KX0sb25UcmFzaDpmdW5jdGlvbih0KXt0LnNlbGVjdGVkQ29vcmRQYXRocy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLmxvY2FsZUNvbXBhcmUodCxcImVuXCIse251bWVyaWM6ITB9KX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5mZWF0dXJlLnJlbW92ZUNvb3JkaW5hdGUoZSl9KSksdGhpcy5maXJlVXBkYXRlKCksdC5zZWxlY3RlZENvb3JkUGF0aHM9W10sdGhpcy5jbGVhclNlbGVjdGVkQ29vcmRpbmF0ZXMoKSx0aGlzLmZpcmVBY3Rpb25hYmxlKHQpLCExPT09dC5mZWF0dXJlLmlzVmFsaWQoKSYmKHRoaXMuZGVsZXRlRmVhdHVyZShbdC5mZWF0dXJlSWRdKSx0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNULHt9KSl9LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXQoZSksbz1lZShlKSxyPW5lKGUpLGk9MD09PXQuc2VsZWN0ZWRDb29yZFBhdGhzLmxlbmd0aDtyZXR1cm4gbiYmaXx8byYmIWk/dGhpcy51cGRhdGVVSUNsYXNzZXMoe21vdXNlOmQuTU9WRX0pOnRoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLk5PTkV9KSwob3x8bnx8cikmJnQuZHJhZ01vdmluZyYmdGhpcy5maXJlVXBkYXRlKCksdGhpcy5zdG9wRHJhZ2dpbmcodCksITB9LG9uTW91c2VPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZHJhZ01vdmluZyYmdGhpcy5maXJlVXBkYXRlKCksITB9fTtvZS5vblRvdWNoU3RhcnQ9b2Uub25Nb3VzZURvd249ZnVuY3Rpb24odCxlKXtyZXR1cm4gZWUoZSk/dGhpcy5vblZlcnRleCh0LGUpOmF0KGUpP3RoaXMub25GZWF0dXJlKHQsZSk6bmUoZSk/dGhpcy5vbk1pZHBvaW50KHQsZSk6dm9pZCAwfSxvZS5vbkRyYWc9ZnVuY3Rpb24odCxlKXtpZighMD09PXQuY2FuRHJhZ01vdmUpe3QuZHJhZ01vdmluZz0hMCxlLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIG49e2xuZzplLmxuZ0xhdC5sbmctdC5kcmFnTW92ZUxvY2F0aW9uLmxuZyxsYXQ6ZS5sbmdMYXQubGF0LXQuZHJhZ01vdmVMb2NhdGlvbi5sYXR9O3Quc2VsZWN0ZWRDb29yZFBhdGhzLmxlbmd0aD4wP3RoaXMuZHJhZ1ZlcnRleCh0LGUsbik6dGhpcy5kcmFnRmVhdHVyZSh0LGUsbiksdC5kcmFnTW92ZUxvY2F0aW9uPWUubG5nTGF0fX0sb2Uub25DbGljaz1mdW5jdGlvbih0LGUpe3JldHVybiB1dChlKT90aGlzLmNsaWNrTm9UYXJnZXQodCxlKTphdChlKT90aGlzLmNsaWNrQWN0aXZlRmVhdHVyZSh0LGUpOnN0KGUpP3RoaXMuY2xpY2tJbmFjdGl2ZSh0LGUpOnZvaWQgdGhpcy5zdG9wRHJhZ2dpbmcodCl9LG9lLm9uVGFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHV0KGUpP3RoaXMuY2xpY2tOb1RhcmdldCh0LGUpOmF0KGUpP3RoaXMuY2xpY2tBY3RpdmVGZWF0dXJlKHQsZSk6c3QoZSk/dGhpcy5jbGlja0luYWN0aXZlKHQsZSk6dm9pZCAwfSxvZS5vblRvdWNoRW5kPW9lLm9uTW91c2VVcD1mdW5jdGlvbih0KXt0LmRyYWdNb3ZpbmcmJnRoaXMuZmlyZVVwZGF0ZSgpLHRoaXMuc3RvcERyYWdnaW5nKHQpfTt2YXIgcmU9e307ZnVuY3Rpb24gaWUodCxlKXtyZXR1cm4hIXQubG5nTGF0JiYodC5sbmdMYXQubG5nPT09ZVswXSYmdC5sbmdMYXQubGF0PT09ZVsxXSl9cmUub25TZXR1cD1mdW5jdGlvbigpe3ZhciB0PXRoaXMubmV3RmVhdHVyZSh7dHlwZTpmLkZFQVRVUkUscHJvcGVydGllczp7fSxnZW9tZXRyeTp7dHlwZTpmLlBPSU5ULGNvb3JkaW5hdGVzOltdfX0pO3JldHVybiB0aGlzLmFkZEZlYXR1cmUodCksdGhpcy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKSx0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7bW91c2U6ZC5BRER9KSx0aGlzLmFjdGl2YXRlVUlCdXR0b24ocC5QT0lOVCksdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe3RyYXNoOiEwfSkse3BvaW50OnR9fSxyZS5zdG9wRHJhd2luZ0FuZFJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLmRlbGV0ZUZlYXR1cmUoW3QucG9pbnQuaWRdLHtzaWxlbnQ6ITB9KSx0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNUKX0scmUub25UYXA9cmUub25DbGljaz1mdW5jdGlvbih0LGUpe3RoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLk1PVkV9KSx0LnBvaW50LnVwZGF0ZUNvb3JkaW5hdGUoXCJcIixlLmxuZ0xhdC5sbmcsZS5sbmdMYXQubGF0KSx0aGlzLm1hcC5maXJlKGcuQ1JFQVRFLHtmZWF0dXJlczpbdC5wb2ludC50b0dlb0pTT04oKV19KSx0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNULHtmZWF0dXJlSWRzOlt0LnBvaW50LmlkXX0pfSxyZS5vblN0b3A9ZnVuY3Rpb24odCl7dGhpcy5hY3RpdmF0ZVVJQnV0dG9uKCksdC5wb2ludC5nZXRDb29yZGluYXRlKCkubGVuZ3RofHx0aGlzLmRlbGV0ZUZlYXR1cmUoW3QucG9pbnQuaWRdLHtzaWxlbnQ6ITB9KX0scmUudG9EaXNwbGF5RmVhdHVyZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUucHJvcGVydGllcy5pZD09PXQucG9pbnQuaWQ7aWYoZS5wcm9wZXJ0aWVzLmFjdGl2ZT1vP20uQUNUSVZFOm0uSU5BQ1RJVkUsIW8pcmV0dXJuIG4oZSl9LHJlLm9uVHJhc2g9cmUuc3RvcERyYXdpbmdBbmRSZW1vdmUscmUub25LZXlVcD1mdW5jdGlvbih0LGUpe2lmKHB0KGUpfHxmdChlKSlyZXR1cm4gdGhpcy5zdG9wRHJhd2luZ0FuZFJlbW92ZSh0LGUpfTt2YXIgYWU9e29uU2V0dXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5ld0ZlYXR1cmUoe3R5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6e30sZ2VvbWV0cnk6e3R5cGU6Zi5QT0xZR09OLGNvb3JkaW5hdGVzOltbXV19fSk7cmV0dXJuIHRoaXMuYWRkRmVhdHVyZSh0KSx0aGlzLmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpLFR0LmRpc2FibGUodGhpcyksdGhpcy51cGRhdGVVSUNsYXNzZXMoe21vdXNlOmQuQUREfSksdGhpcy5hY3RpdmF0ZVVJQnV0dG9uKHAuUE9MWUdPTiksdGhpcy5zZXRBY3Rpb25hYmxlU3RhdGUoe3RyYXNoOiEwfSkse3BvbHlnb246dCxjdXJyZW50VmVydGV4UG9zaXRpb246MH19LGNsaWNrQW55d2hlcmU6ZnVuY3Rpb24odCxlKXtpZih0LmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbj4wJiZpZShlLHQucG9seWdvbi5jb29yZGluYXRlc1swXVt0LmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbi0xXSkpcmV0dXJuIHRoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1Qse2ZlYXR1cmVJZHM6W3QucG9seWdvbi5pZF19KTt0aGlzLnVwZGF0ZVVJQ2xhc3Nlcyh7bW91c2U6ZC5BRER9KSx0LnBvbHlnb24udXBkYXRlQ29vcmRpbmF0ZShcIjAuXCIrdC5jdXJyZW50VmVydGV4UG9zaXRpb24sZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdCksdC5jdXJyZW50VmVydGV4UG9zaXRpb24rKyx0LnBvbHlnb24udXBkYXRlQ29vcmRpbmF0ZShcIjAuXCIrdC5jdXJyZW50VmVydGV4UG9zaXRpb24sZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdCl9LGNsaWNrT25WZXJ0ZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1Qse2ZlYXR1cmVJZHM6W3QucG9seWdvbi5pZF19KX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCxlKXt0LnBvbHlnb24udXBkYXRlQ29vcmRpbmF0ZShcIjAuXCIrdC5jdXJyZW50VmVydGV4UG9zaXRpb24sZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdCksbHQoZSkmJnRoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLlBPSU5URVJ9KX19O2FlLm9uVGFwPWFlLm9uQ2xpY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQoZSk/dGhpcy5jbGlja09uVmVydGV4KHQsZSk6dGhpcy5jbGlja0FueXdoZXJlKHQsZSl9LGFlLm9uS2V5VXA9ZnVuY3Rpb24odCxlKXtwdChlKT8odGhpcy5kZWxldGVGZWF0dXJlKFt0LnBvbHlnb24uaWRdLHtzaWxlbnQ6ITB9KSx0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNUKSk6ZnQoZSkmJnRoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1Qse2ZlYXR1cmVJZHM6W3QucG9seWdvbi5pZF19KX0sYWUub25TdG9wPWZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLk5PTkV9KSxUdC5lbmFibGUodGhpcyksdGhpcy5hY3RpdmF0ZVVJQnV0dG9uKCksdm9pZCAwIT09dGhpcy5nZXRGZWF0dXJlKHQucG9seWdvbi5pZCkmJih0LnBvbHlnb24ucmVtb3ZlQ29vcmRpbmF0ZShcIjAuXCIrdC5jdXJyZW50VmVydGV4UG9zaXRpb24pLHQucG9seWdvbi5pc1ZhbGlkKCk/dGhpcy5tYXAuZmlyZShnLkNSRUFURSx7ZmVhdHVyZXM6W3QucG9seWdvbi50b0dlb0pTT04oKV19KToodGhpcy5kZWxldGVGZWF0dXJlKFt0LnBvbHlnb24uaWRdLHtzaWxlbnQ6ITB9KSx0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNULHt9LHtzaWxlbnQ6ITB9KSkpfSxhZS50b0Rpc3BsYXlGZWF0dXJlcz1mdW5jdGlvbih0LGUsbil7dmFyIG89ZS5wcm9wZXJ0aWVzLmlkPT09dC5wb2x5Z29uLmlkO2lmKGUucHJvcGVydGllcy5hY3RpdmU9bz9tLkFDVElWRTptLklOQUNUSVZFLCFvKXJldHVybiBuKGUpO2lmKDAhPT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCl7dmFyIHI9ZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXS5sZW5ndGg7aWYoIShyPDMpKXtpZihlLnByb3BlcnRpZXMubWV0YT12LkZFQVRVUkUsbihfdCh0LnBvbHlnb24uaWQsZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXSxcIjAuMFwiLCExKSkscj4zKXt2YXIgaT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLmxlbmd0aC0zO24oX3QodC5wb2x5Z29uLmlkLGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1baV0sXCIwLlwiK2ksITEpKX1pZihyPD00KXt2YXIgYT1bW2UuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1bMF1bMF0sZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXVsxXV0sW2UuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1bMV1bMF0sZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXVsxXVsxXV1dO2lmKG4oe3R5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6ZS5wcm9wZXJ0aWVzLGdlb21ldHJ5Ontjb29yZGluYXRlczphLHR5cGU6Zi5MSU5FX1NUUklOR319KSwzPT09cilyZXR1cm59cmV0dXJuIG4oZSl9fX0sYWUub25UcmFzaD1mdW5jdGlvbih0KXt0aGlzLmRlbGV0ZUZlYXR1cmUoW3QucG9seWdvbi5pZF0se3NpbGVudDohMH0pLHRoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1QpfTt2YXIgc2U9e29uU2V0dXA6ZnVuY3Rpb24odCl7dmFyIGUsbixvPSh0PXR8fHt9KS5mZWF0dXJlSWQscj1cImZvcndhcmRcIjtpZihvKXtpZighKGU9dGhpcy5nZXRGZWF0dXJlKG8pKSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBhIGZlYXR1cmUgd2l0aCB0aGUgcHJvdmlkZWQgZmVhdHVyZUlkXCIpO3ZhciBpPXQuZnJvbTtpZihpJiZcIkZlYXR1cmVcIj09PWkudHlwZSYmaS5nZW9tZXRyeSYmXCJQb2ludFwiPT09aS5nZW9tZXRyeS50eXBlJiYoaT1pLmdlb21ldHJ5KSxpJiZcIlBvaW50XCI9PT1pLnR5cGUmJmkuY29vcmRpbmF0ZXMmJjI9PT1pLmNvb3JkaW5hdGVzLmxlbmd0aCYmKGk9aS5jb29yZGluYXRlcyksIWl8fCFBcnJheS5pc0FycmF5KGkpKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSB1c2UgdGhlIGBmcm9tYCBwcm9wZXJ0eSB0byBpbmRpY2F0ZSB3aGljaCBwb2ludCB0byBjb250aW51ZSB0aGUgbGluZSBmcm9tXCIpO3ZhciBhPWUuY29vcmRpbmF0ZXMubGVuZ3RoLTE7aWYoZS5jb29yZGluYXRlc1thXVswXT09PWlbMF0mJmUuY29vcmRpbmF0ZXNbYV1bMV09PT1pWzFdKW49YSsxLGUuYWRkQ29vcmRpbmF0ZS5hcHBseShlLFtuXS5jb25jYXQoZS5jb29yZGluYXRlc1thXSkpO2Vsc2V7aWYoZS5jb29yZGluYXRlc1swXVswXSE9PWlbMF18fGUuY29vcmRpbmF0ZXNbMF1bMV0hPT1pWzFdKXRocm93IG5ldyBFcnJvcihcImBmcm9tYCBzaG91bGQgbWF0Y2ggdGhlIHBvaW50IGF0IGVpdGhlciB0aGUgc3RhcnQgb3IgdGhlIGVuZCBvZiB0aGUgcHJvdmlkZWQgTGluZVN0cmluZ1wiKTtyPVwiYmFja3dhcmRzXCIsbj0wLGUuYWRkQ29vcmRpbmF0ZS5hcHBseShlLFtuXS5jb25jYXQoZS5jb29yZGluYXRlc1swXSkpfX1lbHNlIGU9dGhpcy5uZXdGZWF0dXJlKHt0eXBlOmYuRkVBVFVSRSxwcm9wZXJ0aWVzOnt9LGdlb21ldHJ5Ont0eXBlOmYuTElORV9TVFJJTkcsY29vcmRpbmF0ZXM6W119fSksbj0wLHRoaXMuYWRkRmVhdHVyZShlKTtyZXR1cm4gdGhpcy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKSxUdC5kaXNhYmxlKHRoaXMpLHRoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLkFERH0pLHRoaXMuYWN0aXZhdGVVSUJ1dHRvbihwLkxJTkUpLHRoaXMuc2V0QWN0aW9uYWJsZVN0YXRlKHt0cmFzaDohMH0pLHtsaW5lOmUsY3VycmVudFZlcnRleFBvc2l0aW9uOm4sZGlyZWN0aW9uOnJ9fSxjbGlja0FueXdoZXJlOmZ1bmN0aW9uKHQsZSl7aWYodC5jdXJyZW50VmVydGV4UG9zaXRpb24+MCYmaWUoZSx0LmxpbmUuY29vcmRpbmF0ZXNbdC5jdXJyZW50VmVydGV4UG9zaXRpb24tMV0pfHxcImJhY2t3YXJkc1wiPT09dC5kaXJlY3Rpb24mJmllKGUsdC5saW5lLmNvb3JkaW5hdGVzW3QuY3VycmVudFZlcnRleFBvc2l0aW9uKzFdKSlyZXR1cm4gdGhpcy5jaGFuZ2VNb2RlKGguU0lNUExFX1NFTEVDVCx7ZmVhdHVyZUlkczpbdC5saW5lLmlkXX0pO3RoaXMudXBkYXRlVUlDbGFzc2VzKHttb3VzZTpkLkFERH0pLHQubGluZS51cGRhdGVDb29yZGluYXRlKHQuY3VycmVudFZlcnRleFBvc2l0aW9uLGUubG5nTGF0LmxuZyxlLmxuZ0xhdC5sYXQpLFwiZm9yd2FyZFwiPT09dC5kaXJlY3Rpb24/KHQuY3VycmVudFZlcnRleFBvc2l0aW9uKyssdC5saW5lLnVwZGF0ZUNvb3JkaW5hdGUodC5jdXJyZW50VmVydGV4UG9zaXRpb24sZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdCkpOnQubGluZS5hZGRDb29yZGluYXRlKDAsZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdCl9LGNsaWNrT25WZXJ0ZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1Qse2ZlYXR1cmVJZHM6W3QubGluZS5pZF19KX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCxlKXt0LmxpbmUudXBkYXRlQ29vcmRpbmF0ZSh0LmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbixlLmxuZ0xhdC5sbmcsZS5sbmdMYXQubGF0KSxsdChlKSYmdGhpcy51cGRhdGVVSUNsYXNzZXMoe21vdXNlOmQuUE9JTlRFUn0pfX07c2Uub25UYXA9c2Uub25DbGljaz1mdW5jdGlvbih0LGUpe2lmKGx0KGUpKXJldHVybiB0aGlzLmNsaWNrT25WZXJ0ZXgodCxlKTt0aGlzLmNsaWNrQW55d2hlcmUodCxlKX0sc2Uub25LZXlVcD1mdW5jdGlvbih0LGUpe2Z0KGUpP3RoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1Qse2ZlYXR1cmVJZHM6W3QubGluZS5pZF19KTpwdChlKSYmKHRoaXMuZGVsZXRlRmVhdHVyZShbdC5saW5lLmlkXSx7c2lsZW50OiEwfSksdGhpcy5jaGFuZ2VNb2RlKGguU0lNUExFX1NFTEVDVCkpfSxzZS5vblN0b3A9ZnVuY3Rpb24odCl7VHQuZW5hYmxlKHRoaXMpLHRoaXMuYWN0aXZhdGVVSUJ1dHRvbigpLHZvaWQgMCE9PXRoaXMuZ2V0RmVhdHVyZSh0LmxpbmUuaWQpJiYodC5saW5lLnJlbW92ZUNvb3JkaW5hdGUoXCJcIit0LmN1cnJlbnRWZXJ0ZXhQb3NpdGlvbiksdC5saW5lLmlzVmFsaWQoKT90aGlzLm1hcC5maXJlKGcuQ1JFQVRFLHtmZWF0dXJlczpbdC5saW5lLnRvR2VvSlNPTigpXX0pOih0aGlzLmRlbGV0ZUZlYXR1cmUoW3QubGluZS5pZF0se3NpbGVudDohMH0pLHRoaXMuY2hhbmdlTW9kZShoLlNJTVBMRV9TRUxFQ1Qse30se3NpbGVudDohMH0pKSl9LHNlLm9uVHJhc2g9ZnVuY3Rpb24odCl7dGhpcy5kZWxldGVGZWF0dXJlKFt0LmxpbmUuaWRdLHtzaWxlbnQ6ITB9KSx0aGlzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNUKX0sc2UudG9EaXNwbGF5RmVhdHVyZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUucHJvcGVydGllcy5pZD09PXQubGluZS5pZDtpZihlLnByb3BlcnRpZXMuYWN0aXZlPW8/bS5BQ1RJVkU6bS5JTkFDVElWRSwhbylyZXR1cm4gbihlKTtlLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aDwyfHwoZS5wcm9wZXJ0aWVzLm1ldGE9di5GRUFUVVJFLG4oX3QodC5saW5lLmlkLGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbXCJmb3J3YXJkXCI9PT10LmRpcmVjdGlvbj9lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aC0yOjFdLFwiXCIrKFwiZm9yd2FyZFwiPT09dC5kaXJlY3Rpb24/ZS5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGgtMjoxKSwhMSkpLG4oZSkpfTt2YXIgdWU9e3NpbXBsZV9zZWxlY3Q6dGUsZGlyZWN0X3NlbGVjdDpvZSxkcmF3X3BvaW50OnJlLGRyYXdfcG9seWdvbjphZSxkcmF3X2xpbmVfc3RyaW5nOnNlfSxjZT17ZGVmYXVsdE1vZGU6aC5TSU1QTEVfU0VMRUNULGtleWJpbmRpbmdzOiEwLHRvdWNoRW5hYmxlZDohMCxjbGlja0J1ZmZlcjoyLHRvdWNoQnVmZmVyOjI1LGJveFNlbGVjdDohMCxkaXNwbGF5Q29udHJvbHNEZWZhdWx0OiEwLHN0eWxlczpvdCxtb2Rlczp1ZSxjb250cm9sczp7fSx1c2VyUHJvcGVydGllczohMX0sbGU9e3BvaW50OiEwLGxpbmVfc3RyaW5nOiEwLHBvbHlnb246ITAsdHJhc2g6ITAsY29tYmluZV9mZWF0dXJlczohMCx1bmNvbWJpbmVfZmVhdHVyZXM6ITB9LGRlPXtwb2ludDohMSxsaW5lX3N0cmluZzohMSxwb2x5Z29uOiExLHRyYXNoOiExLGNvbWJpbmVfZmVhdHVyZXM6ITEsdW5jb21iaW5lX2ZlYXR1cmVzOiExfTtmdW5jdGlvbiBwZSh0LGUpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc291cmNlP3Q6dHQodCx7aWQ6dC5pZCtcIi5cIitlLHNvdXJjZTpcImhvdFwiPT09ZT9sLkhPVDpsLkNPTER9KX0pKX12YXIgZmU9e2V4cG9ydHM6e319OyFmdW5jdGlvbih0LGUpe3ZhciBuPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLG89OTAwNzE5OTI1NDc0MDk5MSxyPVwiW29iamVjdCBBcmd1bWVudHNdXCIsaT1cIltvYmplY3QgQXJyYXldXCIsYT1cIltvYmplY3QgQm9vbGVhbl1cIixzPVwiW29iamVjdCBEYXRlXVwiLHU9XCJbb2JqZWN0IEVycm9yXVwiLGM9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLGw9XCJbb2JqZWN0IE1hcF1cIixkPVwiW29iamVjdCBOdW1iZXJdXCIscD1cIltvYmplY3QgT2JqZWN0XVwiLGY9XCJbb2JqZWN0IFByb21pc2VdXCIsaD1cIltvYmplY3QgUmVnRXhwXVwiLGc9XCJbb2JqZWN0IFNldF1cIix5PVwiW29iamVjdCBTdHJpbmddXCIsdj1cIltvYmplY3QgU3ltYm9sXVwiLG09XCJbb2JqZWN0IFdlYWtNYXBdXCIsXz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsYj1cIltvYmplY3QgRGF0YVZpZXddXCIsRT0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLFQ9L14oPzowfFsxLTldXFxkKikkLyxDPXt9O0NbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09Q1tcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1DW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPUNbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPUNbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPUNbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPUNbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1DW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09Q1tcIltvYmplY3QgVWludDMyQXJyYXldXCJdPSEwLENbcl09Q1tpXT1DW19dPUNbYV09Q1tiXT1DW3NdPUNbdV09Q1tjXT1DW2xdPUNbZF09Q1twXT1DW2hdPUNbZ109Q1t5XT1DW21dPSExO3ZhciBPPVwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmZ2xvYmFsLk9iamVjdD09PU9iamVjdCYmZ2xvYmFsLFM9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLEk9T3x8U3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHg9ZSYmIWUubm9kZVR5cGUmJmUsTT14JiZ0JiYhdC5ub2RlVHlwZSYmdCxMPU0mJk0uZXhwb3J0cz09PXgsTj1MJiZPLnByb2Nlc3MsQT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gTiYmTi5iaW5kaW5nJiZOLmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKHQpe319KCksUD1BJiZBLmlzVHlwZWRBcnJheTtmdW5jdGlvbiBGKHQsZSl7Zm9yKHZhciBuPS0xLG89bnVsbD09dD8wOnQubGVuZ3RoOysrbjxvOylpZihlKHRbbl0sbix0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB3KHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe25bKytlXT1bbyx0XX0pKSxufWZ1bmN0aW9uIFIodCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe25bKytlXT10fSkpLG59dmFyIGssRCxVLGo9QXJyYXkucHJvdG90eXBlLFY9RnVuY3Rpb24ucHJvdG90eXBlLEI9T2JqZWN0LnByb3RvdHlwZSxHPUlbXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sSj1WLnRvU3RyaW5nLHo9Qi5oYXNPd25Qcm9wZXJ0eSxZPShrPS9bXi5dKyQvLmV4ZWMoRyYmRy5rZXlzJiZHLmtleXMuSUVfUFJPVE98fFwiXCIpKT9cIlN5bWJvbChzcmMpXzEuXCIrazpcIlwiLCQ9Qi50b1N0cmluZyxxPVJlZ0V4cChcIl5cIitKLmNhbGwoeikucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKSxIPUw/SS5CdWZmZXI6dm9pZCAwLFg9SS5TeW1ib2wsWj1JLlVpbnQ4QXJyYXksVz1CLnByb3BlcnR5SXNFbnVtZXJhYmxlLEs9ai5zcGxpY2UsUT1YP1gudG9TdHJpbmdUYWc6dm9pZCAwLHR0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsZXQ9SD9ILmlzQnVmZmVyOnZvaWQgMCxudD0oRD1PYmplY3Qua2V5cyxVPU9iamVjdCxmdW5jdGlvbih0KXtyZXR1cm4gRChVKHQpKX0pLG90PUF0KEksXCJEYXRhVmlld1wiKSxydD1BdChJLFwiTWFwXCIpLGl0PUF0KEksXCJQcm9taXNlXCIpLGF0PUF0KEksXCJTZXRcIiksc3Q9QXQoSSxcIldlYWtNYXBcIiksdXQ9QXQoT2JqZWN0LFwiY3JlYXRlXCIpLGN0PVJ0KG90KSxsdD1SdChydCksZHQ9UnQoaXQpLHB0PVJ0KGF0KSxmdD1SdChzdCksaHQ9WD9YLnByb3RvdHlwZTp2b2lkIDAsZ3Q9aHQ/aHQudmFsdWVPZjp2b2lkIDA7ZnVuY3Rpb24geXQodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciBvPXRbZV07dGhpcy5zZXQob1swXSxvWzFdKX19ZnVuY3Rpb24gdnQodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciBvPXRbZV07dGhpcy5zZXQob1swXSxvWzFdKX19ZnVuY3Rpb24gbXQodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciBvPXRbZV07dGhpcy5zZXQob1swXSxvWzFdKX19ZnVuY3Rpb24gX3QodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IG10OysrZTxuOyl0aGlzLmFkZCh0W2VdKX1mdW5jdGlvbiBidCh0KXt2YXIgZT10aGlzLl9fZGF0YV9fPW5ldyB2dCh0KTt0aGlzLnNpemU9ZS5zaXplfWZ1bmN0aW9uIEV0KHQsZSl7dmFyIG49VXQodCksbz0hbiYmRHQodCkscj0hbiYmIW8mJmp0KHQpLGk9IW4mJiFvJiYhciYmenQodCksYT1ufHxvfHxyfHxpLHM9YT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxvPUFycmF5KHQpOysrbjx0OylvW25dPWUobik7cmV0dXJuIG99KHQubGVuZ3RoLFN0cmluZyk6W10sdT1zLmxlbmd0aDtmb3IodmFyIGMgaW4gdCkhZSYmIXouY2FsbCh0LGMpfHxhJiYoXCJsZW5ndGhcIj09Y3x8ciYmKFwib2Zmc2V0XCI9PWN8fFwicGFyZW50XCI9PWMpfHxpJiYoXCJidWZmZXJcIj09Y3x8XCJieXRlTGVuZ3RoXCI9PWN8fFwiYnl0ZU9mZnNldFwiPT1jKXx8d3QoYyx1KSl8fHMucHVzaChjKTtyZXR1cm4gc31mdW5jdGlvbiBUdCh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKGt0KHRbbl1bMF0sZSkpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gQ3QodCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOlEmJlEgaW4gT2JqZWN0KHQpP2Z1bmN0aW9uKHQpe3ZhciBlPXouY2FsbCh0LFEpLG49dFtRXTt0cnl7dFtRXT12b2lkIDA7dmFyIG89ITB9Y2F0Y2godCl7fXZhciByPSQuY2FsbCh0KTtvJiYoZT90W1FdPW46ZGVsZXRlIHRbUV0pO3JldHVybiByfSh0KTpmdW5jdGlvbih0KXtyZXR1cm4gJC5jYWxsKHQpfSh0KX1mdW5jdGlvbiBPdCh0KXtyZXR1cm4gSnQodCkmJkN0KHQpPT1yfWZ1bmN0aW9uIFN0KHQsZSxuLG8sYyl7cmV0dXJuIHQ9PT1lfHwobnVsbD09dHx8bnVsbD09ZXx8IUp0KHQpJiYhSnQoZSk/dCE9dCYmZSE9ZTpmdW5jdGlvbih0LGUsbixvLGMsZil7dmFyIG09VXQodCksRT1VdChlKSxUPW0/aTpGdCh0KSxDPUU/aTpGdChlKSxPPShUPVQ9PXI/cDpUKT09cCxTPShDPUM9PXI/cDpDKT09cCxJPVQ9PUM7aWYoSSYmanQodCkpe2lmKCFqdChlKSlyZXR1cm4hMTttPSEwLE89ITF9aWYoSSYmIU8pcmV0dXJuIGZ8fChmPW5ldyBidCksbXx8enQodCk/TXQodCxlLG4sbyxjLGYpOmZ1bmN0aW9uKHQsZSxuLG8scixpLGMpe3N3aXRjaChuKXtjYXNlIGI6aWYodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fHQuYnl0ZU9mZnNldCE9ZS5ieXRlT2Zmc2V0KXJldHVybiExO3Q9dC5idWZmZXIsZT1lLmJ1ZmZlcjtjYXNlIF86cmV0dXJuISh0LmJ5dGVMZW5ndGghPWUuYnl0ZUxlbmd0aHx8IWkobmV3IFoodCksbmV3IFooZSkpKTtjYXNlIGE6Y2FzZSBzOmNhc2UgZDpyZXR1cm4ga3QoK3QsK2UpO2Nhc2UgdTpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgaDpjYXNlIHk6cmV0dXJuIHQ9PWUrXCJcIjtjYXNlIGw6dmFyIHA9dztjYXNlIGc6dmFyIGY9MSZvO2lmKHB8fChwPVIpLHQuc2l6ZSE9ZS5zaXplJiYhZilyZXR1cm4hMTt2YXIgbT1jLmdldCh0KTtpZihtKXJldHVybiBtPT1lO298PTIsYy5zZXQodCxlKTt2YXIgRT1NdChwKHQpLHAoZSksbyxyLGksYyk7cmV0dXJuIGMuZGVsZXRlKHQpLEU7Y2FzZSB2OmlmKGd0KXJldHVybiBndC5jYWxsKHQpPT1ndC5jYWxsKGUpfXJldHVybiExfSh0LGUsVCxuLG8sYyxmKTtpZighKDEmbikpe3ZhciB4PU8mJnouY2FsbCh0LFwiX193cmFwcGVkX19cIiksTT1TJiZ6LmNhbGwoZSxcIl9fd3JhcHBlZF9fXCIpO2lmKHh8fE0pe3ZhciBMPXg/dC52YWx1ZSgpOnQsTj1NP2UudmFsdWUoKTplO3JldHVybiBmfHwoZj1uZXcgYnQpLGMoTCxOLG4sbyxmKX19aWYoIUkpcmV0dXJuITE7cmV0dXJuIGZ8fChmPW5ldyBidCksZnVuY3Rpb24odCxlLG4sbyxyLGkpe3ZhciBhPTEmbixzPUx0KHQpLHU9cy5sZW5ndGgsYz1MdChlKS5sZW5ndGg7aWYodSE9YyYmIWEpcmV0dXJuITE7dmFyIGw9dTtmb3IoO2wtLTspe3ZhciBkPXNbbF07aWYoIShhP2QgaW4gZTp6LmNhbGwoZSxkKSkpcmV0dXJuITF9dmFyIHA9aS5nZXQodCk7aWYocCYmaS5nZXQoZSkpcmV0dXJuIHA9PWU7dmFyIGY9ITA7aS5zZXQodCxlKSxpLnNldChlLHQpO3ZhciBoPWE7Zm9yKDsrK2w8dTspe3ZhciBnPXRbZD1zW2xdXSx5PWVbZF07aWYobyl2YXIgdj1hP28oeSxnLGQsZSx0LGkpOm8oZyx5LGQsdCxlLGkpO2lmKCEodm9pZCAwPT09dj9nPT09eXx8cihnLHksbixvLGkpOnYpKXtmPSExO2JyZWFrfWh8fChoPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoZiYmIWgpe3ZhciBtPXQuY29uc3RydWN0b3IsXz1lLmNvbnN0cnVjdG9yO209PV98fCEoXCJjb25zdHJ1Y3RvclwiaW4gdCl8fCEoXCJjb25zdHJ1Y3RvclwiaW4gZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIG0mJm0gaW5zdGFuY2VvZiBtJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBfJiZfIGluc3RhbmNlb2YgX3x8KGY9ITEpfXJldHVybiBpLmRlbGV0ZSh0KSxpLmRlbGV0ZShlKSxmfSh0LGUsbixvLGMsZil9KHQsZSxuLG8sU3QsYykpfWZ1bmN0aW9uIEl0KHQpe3JldHVybiEoIUd0KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4hIVkmJlkgaW4gdH0odCkpJiYoVnQodCk/cTpFKS50ZXN0KFJ0KHQpKX1mdW5jdGlvbiB4dCh0KXtpZihuPShlPXQpJiZlLmNvbnN0cnVjdG9yLG89XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbi5wcm90b3R5cGV8fEIsZSE9PW8pcmV0dXJuIG50KHQpO3ZhciBlLG4sbyxyPVtdO2Zvcih2YXIgaSBpbiBPYmplY3QodCkpei5jYWxsKHQsaSkmJlwiY29uc3RydWN0b3JcIiE9aSYmci5wdXNoKGkpO3JldHVybiByfWZ1bmN0aW9uIE10KHQsZSxuLG8scixpKXt2YXIgYT0xJm4scz10Lmxlbmd0aCx1PWUubGVuZ3RoO2lmKHMhPXUmJiEoYSYmdT5zKSlyZXR1cm4hMTt2YXIgYz1pLmdldCh0KTtpZihjJiZpLmdldChlKSlyZXR1cm4gYz09ZTt2YXIgbD0tMSxkPSEwLHA9MiZuP25ldyBfdDp2b2lkIDA7Zm9yKGkuc2V0KHQsZSksaS5zZXQoZSx0KTsrK2w8czspe3ZhciBmPXRbbF0saD1lW2xdO2lmKG8pdmFyIGc9YT9vKGgsZixsLGUsdCxpKTpvKGYsaCxsLHQsZSxpKTtpZih2b2lkIDAhPT1nKXtpZihnKWNvbnRpbnVlO2Q9ITE7YnJlYWt9aWYocCl7aWYoIUYoZSwoZnVuY3Rpb24odCxlKXtpZihhPWUsIXAuaGFzKGEpJiYoZj09PXR8fHIoZix0LG4sbyxpKSkpcmV0dXJuIHAucHVzaChlKTt2YXIgYX0pKSl7ZD0hMTticmVha319ZWxzZSBpZihmIT09aCYmIXIoZixoLG4sbyxpKSl7ZD0hMTticmVha319cmV0dXJuIGkuZGVsZXRlKHQpLGkuZGVsZXRlKGUpLGR9ZnVuY3Rpb24gTHQodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1lKHQpO3JldHVybiBVdCh0KT9vOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLG89ZS5sZW5ndGgscj10Lmxlbmd0aDsrK248bzspdFtyK25dPWVbbl07cmV0dXJuIHR9KG8sbih0KSl9KHQsWXQsUHQpfWZ1bmN0aW9uIE50KHQsZSl7dmFyIG4sbyxyPXQuX19kYXRhX187cmV0dXJuKFwic3RyaW5nXCI9PShvPXR5cGVvZihuPWUpKXx8XCJudW1iZXJcIj09b3x8XCJzeW1ib2xcIj09b3x8XCJib29sZWFuXCI9PW8/XCJfX3Byb3RvX19cIiE9PW46bnVsbD09PW4pP3JbXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJzdHJpbmdcIjpcImhhc2hcIl06ci5tYXB9ZnVuY3Rpb24gQXQodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfSh0LGUpO3JldHVybiBJdChuKT9uOnZvaWQgMH15dC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPXV0P3V0KG51bGwpOnt9LHRoaXMuc2l6ZT0wfSx5dC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSx5dC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX187aWYodXQpe3ZhciBvPWVbdF07cmV0dXJuIG89PT1uP3ZvaWQgMDpvfXJldHVybiB6LmNhbGwoZSx0KT9lW3RdOnZvaWQgMH0seXQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiB1dD92b2lkIDAhPT1lW3RdOnouY2FsbChlLHQpfSx5dC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyh0KT8wOjEsb1t0XT11dCYmdm9pZCAwPT09ZT9uOmUsdGhpc30sdnQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH0sdnQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49VHQoZSx0KTtyZXR1cm4hKG48MCkmJihuPT1lLmxlbmd0aC0xP2UucG9wKCk6Sy5jYWxsKGUsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9LHZ0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPVR0KGUsdCk7cmV0dXJuIG48MD92b2lkIDA6ZVtuXVsxXX0sdnQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gVHQodGhpcy5fX2RhdGFfXyx0KT4tMX0sdnQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18sbz1UdChuLHQpO3JldHVybiBvPDA/KCsrdGhpcy5zaXplLG4ucHVzaChbdCxlXSkpOm5bb11bMV09ZSx0aGlzfSxtdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyB5dCxtYXA6bmV3KHJ0fHx2dCksc3RyaW5nOm5ldyB5dH19LG10LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9TnQodGhpcyx0KS5kZWxldGUodCk7cmV0dXJuIHRoaXMuc2l6ZS09ZT8xOjAsZX0sbXQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gTnQodGhpcyx0KS5nZXQodCl9LG10LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIE50KHRoaXMsdCkuaGFzKHQpfSxtdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49TnQodGhpcyx0KSxvPW4uc2l6ZTtyZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemUrPW4uc2l6ZT09bz8wOjEsdGhpc30sX3QucHJvdG90eXBlLmFkZD1fdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQodCxuKSx0aGlzfSxfdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX0sYnQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgdnQsdGhpcy5zaXplPTB9LGJ0LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPWUuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemU9ZS5zaXplLG59LGJ0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfSxidC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX0sYnQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIHZ0KXt2YXIgbz1uLl9fZGF0YV9fO2lmKCFydHx8by5sZW5ndGg8MTk5KXJldHVybiBvLnB1c2goW3QsZV0pLHRoaXMuc2l6ZT0rK24uc2l6ZSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgbXQobyl9cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplPW4uc2l6ZSx0aGlzfTt2YXIgUHQ9dHQ/ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/W106KHQ9T2JqZWN0KHQpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLG89bnVsbD09dD8wOnQubGVuZ3RoLHI9MCxpPVtdOysrbjxvOyl7dmFyIGE9dFtuXTtlKGEsbix0KSYmKGlbcisrXT1hKX1yZXR1cm4gaX0odHQodCksKGZ1bmN0aW9uKGUpe3JldHVybiBXLmNhbGwodCxlKX0pKSl9OmZ1bmN0aW9uKCl7cmV0dXJuW119LEZ0PUN0O2Z1bmN0aW9uIHd0KHQsZSl7cmV0dXJuISEoZT1udWxsPT1lP286ZSkmJihcIm51bWJlclwiPT10eXBlb2YgdHx8VC50ZXN0KHQpKSYmdD4tMSYmdCUxPT0wJiZ0PGV9ZnVuY3Rpb24gUnQodCl7aWYobnVsbCE9dCl7dHJ5e3JldHVybiBKLmNhbGwodCl9Y2F0Y2godCl7fXRyeXtyZXR1cm4gdCtcIlwifWNhdGNoKHQpe319cmV0dXJuXCJcIn1mdW5jdGlvbiBrdCh0LGUpe3JldHVybiB0PT09ZXx8dCE9dCYmZSE9ZX0ob3QmJkZ0KG5ldyBvdChuZXcgQXJyYXlCdWZmZXIoMSkpKSE9Ynx8cnQmJkZ0KG5ldyBydCkhPWx8fGl0JiZGdChpdC5yZXNvbHZlKCkpIT1mfHxhdCYmRnQobmV3IGF0KSE9Z3x8c3QmJkZ0KG5ldyBzdCkhPW0pJiYoRnQ9ZnVuY3Rpb24odCl7dmFyIGU9Q3QodCksbj1lPT1wP3QuY29uc3RydWN0b3I6dm9pZCAwLG89bj9SdChuKTpcIlwiO2lmKG8pc3dpdGNoKG8pe2Nhc2UgY3Q6cmV0dXJuIGI7Y2FzZSBsdDpyZXR1cm4gbDtjYXNlIGR0OnJldHVybiBmO2Nhc2UgcHQ6cmV0dXJuIGc7Y2FzZSBmdDpyZXR1cm4gbX1yZXR1cm4gZX0pO3ZhciBEdD1PdChmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP090OmZ1bmN0aW9uKHQpe3JldHVybiBKdCh0KSYmei5jYWxsKHQsXCJjYWxsZWVcIikmJiFXLmNhbGwodCxcImNhbGxlZVwiKX0sVXQ9QXJyYXkuaXNBcnJheTt2YXIganQ9ZXR8fGZ1bmN0aW9uKCl7cmV0dXJuITF9O2Z1bmN0aW9uIFZ0KHQpe2lmKCFHdCh0KSlyZXR1cm4hMTt2YXIgZT1DdCh0KTtyZXR1cm4gZT09Y3x8XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiPT1lfHxcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIj09ZXx8XCJbb2JqZWN0IFByb3h5XVwiPT1lfWZ1bmN0aW9uIEJ0KHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pi0xJiZ0JTE9PTAmJnQ8PW99ZnVuY3Rpb24gR3QodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIG51bGwhPXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfWZ1bmN0aW9uIEp0KHQpe3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdH12YXIgenQ9UD9mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9fShQKTpmdW5jdGlvbih0KXtyZXR1cm4gSnQodCkmJkJ0KHQubGVuZ3RoKSYmISFDW0N0KHQpXX07ZnVuY3Rpb24gWXQodCl7cmV0dXJuIG51bGwhPShlPXQpJiZCdChlLmxlbmd0aCkmJiFWdChlKT9FdCh0KTp4dCh0KTt2YXIgZX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gU3QodCxlKX19KGZlLGZlLmV4cG9ydHMpO3ZhciBoZT1lKGZlLmV4cG9ydHMpO2Z1bmN0aW9uIGdlKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZS5sZW5ndGgmJkpTT04uc3RyaW5naWZ5KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS5zb3J0KCkpPT09SlNPTi5zdHJpbmdpZnkoZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLnNvcnQoKSl9dmFyIHllPXtQb2x5Z29uOlYsTGluZVN0cmluZzpqLFBvaW50OlUsTXVsdGlQb2x5Z29uOkosTXVsdGlMaW5lU3RyaW5nOkosTXVsdGlQb2ludDpKfTt2YXIgdmU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQ29tbW9uU2VsZWN0b3JzOmh0LGNvbnN0cmFpbkZlYXR1cmVNb3ZlbWVudDpLdCxjcmVhdGVNaWRQb2ludDpidCxjcmVhdGVTdXBwbGVtZW50YXJ5UG9pbnRzOkV0LGNyZWF0ZVZlcnRleDpfdCxkb3VibGVDbGlja1pvb206VHQsZXVjbGlkZWFuRGlzdGFuY2U6QSxmZWF0dXJlc0F0Ok0sZ2V0RmVhdHVyZUF0QW5kU2V0Q3Vyc29yczpOLGlzQ2xpY2s6UCxpc0V2ZW50QXRDb29yZGluYXRlczppZSxpc1RhcDpGLG1hcEV2ZW50VG9Cb3VuZGluZ0JveDpTLE1vZGVIYW5kbGVyOnQsbW92ZUZlYXR1cmVzOlF0LHNvcnRGZWF0dXJlczpPLHN0cmluZ1NldHNBcmVFcXVhbDpnZSxTdHJpbmdTZXQ6SSx0aGVtZTpvdCx0b0RlbnNlQXJyYXk6SH0pLG1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49e29wdGlvbnM6dD1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9dHQodCk7cmV0dXJuIHQuY29udHJvbHN8fChlLmNvbnRyb2xzPXt9KSwhMT09PXQuZGlzcGxheUNvbnRyb2xzRGVmYXVsdD9lLmNvbnRyb2xzPXR0KGRlLHQuY29udHJvbHMpOmUuY29udHJvbHM9dHQobGUsdC5jb250cm9scyksKGU9dHQoY2UsZSkpLnN0eWxlcz1wZShlLnN0eWxlcyxcImNvbGRcIikuY29uY2F0KHBlKGUuc3R5bGVzLFwiaG90XCIpKSxlfSh0KX07ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlLm1vZGVzPWgsZS5nZXRGZWF0dXJlSWRzQXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE0uY2xpY2soe3BvaW50OmV9LG51bGwsdCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm9wZXJ0aWVzLmlkfSkpfSxlLmdldFNlbGVjdGVkSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RvcmUuZ2V0U2VsZWN0ZWRJZHMoKX0sZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybnt0eXBlOmYuRkVBVFVSRV9DT0xMRUNUSU9OLGZlYXR1cmVzOnQuc3RvcmUuZ2V0U2VsZWN0ZWRJZHMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnN0b3JlLmdldChlKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvR2VvSlNPTigpfSkpfX0sZS5nZXRTZWxlY3RlZFBvaW50cz1mdW5jdGlvbigpe3JldHVybnt0eXBlOmYuRkVBVFVSRV9DT0xMRUNUSU9OLGZlYXR1cmVzOnQuc3RvcmUuZ2V0U2VsZWN0ZWRDb29yZGluYXRlcygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6Zi5GRUFUVVJFLHByb3BlcnRpZXM6e30sZ2VvbWV0cnk6e3R5cGU6Zi5QT0lOVCxjb29yZGluYXRlczp0LmNvb3JkaW5hdGVzfX19KSl9fSxlLnNldD1mdW5jdGlvbihuKXtpZih2b2lkIDA9PT1uLnR5cGV8fG4udHlwZSE9PWYuRkVBVFVSRV9DT0xMRUNUSU9OfHwhQXJyYXkuaXNBcnJheShuLmZlYXR1cmVzKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEZlYXR1cmVDb2xsZWN0aW9uXCIpO3ZhciBvPXQuc3RvcmUuY3JlYXRlUmVuZGVyQmF0Y2goKSxyPXQuc3RvcmUuZ2V0QWxsSWRzKCkuc2xpY2UoKSxpPWUuYWRkKG4pLGE9bmV3IEkoaSk7cmV0dXJuKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFhLmhhcyh0KX0pKSkubGVuZ3RoJiZlLmRlbGV0ZShyKSxvKCksaX0sZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShJdChlKSkpLmZlYXR1cmVzLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5pZD1lLmlkfHxrKCksbnVsbD09PWUuZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBnZW9tZXRyeTogbnVsbFwiKTtpZih2b2lkIDA9PT10LnN0b3JlLmdldChlLmlkKXx8dC5zdG9yZS5nZXQoZS5pZCkudHlwZSE9PWUuZ2VvbWV0cnkudHlwZSl7dmFyIG49eWVbZS5nZW9tZXRyeS50eXBlXTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZ2VvbWV0cnkgdHlwZTogXCIrZS5nZW9tZXRyeS50eXBlK1wiLlwiKTt2YXIgbz1uZXcgbih0LGUpO3Quc3RvcmUuYWRkKG8pfWVsc2V7dmFyIHI9dC5zdG9yZS5nZXQoZS5pZCk7ci5wcm9wZXJ0aWVzPWUucHJvcGVydGllcyxoZShyLnByb3BlcnRpZXMsZS5wcm9wZXJ0aWVzKXx8dC5zdG9yZS5mZWF0dXJlQ2hhbmdlZChyLmlkKSxoZShyLmdldENvb3JkaW5hdGVzKCksZS5nZW9tZXRyeS5jb29yZGluYXRlcyl8fHIuaW5jb21pbmdDb29yZHMoZS5nZW9tZXRyeS5jb29yZGluYXRlcyl9cmV0dXJuIGUuaWR9KSk7cmV0dXJuIHQuc3RvcmUucmVuZGVyKCksbn0sZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIG49dC5zdG9yZS5nZXQoZSk7aWYobilyZXR1cm4gbi50b0dlb0pTT04oKX0sZS5nZXRBbGw9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpmLkZFQVRVUkVfQ09MTEVDVElPTixmZWF0dXJlczp0LnN0b3JlLmdldEFsbCgpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9HZW9KU09OKCl9KSl9fSxlLmRlbGV0ZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5zdG9yZS5kZWxldGUobix7c2lsZW50OiEwfSksZS5nZXRNb2RlKCkhPT1oLkRJUkVDVF9TRUxFQ1R8fHQuc3RvcmUuZ2V0U2VsZWN0ZWRJZHMoKS5sZW5ndGg/dC5zdG9yZS5yZW5kZXIoKTp0LmV2ZW50cy5jaGFuZ2VNb2RlKGguU0lNUExFX1NFTEVDVCx2b2lkIDAse3NpbGVudDohMH0pLGV9LGUuZGVsZXRlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RvcmUuZGVsZXRlKHQuc3RvcmUuZ2V0QWxsSWRzKCkse3NpbGVudDohMH0pLGUuZ2V0TW9kZSgpPT09aC5ESVJFQ1RfU0VMRUNUP3QuZXZlbnRzLmNoYW5nZU1vZGUoaC5TSU1QTEVfU0VMRUNULHZvaWQgMCx7c2lsZW50OiEwfSk6dC5zdG9yZS5yZW5kZXIoKSxlfSxlLmNoYW5nZU1vZGU9ZnVuY3Rpb24obixvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89e30pLG49PT1oLlNJTVBMRV9TRUxFQ1QmJmUuZ2V0TW9kZSgpPT09aC5TSU1QTEVfU0VMRUNUPyhnZShvLmZlYXR1cmVJZHN8fFtdLHQuc3RvcmUuZ2V0U2VsZWN0ZWRJZHMoKSl8fCh0LnN0b3JlLnNldFNlbGVjdGVkKG8uZmVhdHVyZUlkcyx7c2lsZW50OiEwfSksdC5zdG9yZS5yZW5kZXIoKSksZSk6KG49PT1oLkRJUkVDVF9TRUxFQ1QmJmUuZ2V0TW9kZSgpPT09aC5ESVJFQ1RfU0VMRUNUJiZvLmZlYXR1cmVJZD09PXQuc3RvcmUuZ2V0U2VsZWN0ZWRJZHMoKVswXXx8dC5ldmVudHMuY2hhbmdlTW9kZShuLG8se3NpbGVudDohMH0pLGUpfSxlLmdldE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudHMuZ2V0TW9kZSgpfSxlLnRyYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZXZlbnRzLnRyYXNoKHtzaWxlbnQ6ITB9KSxlfSxlLmNvbWJpbmVGZWF0dXJlcz1mdW5jdGlvbigpe3JldHVybiB0LmV2ZW50cy5jb21iaW5lRmVhdHVyZXMoe3NpbGVudDohMH0pLGV9LGUudW5jb21iaW5lRmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudHMudW5jb21iaW5lRmVhdHVyZXMoe3NpbGVudDohMH0pLGV9LGUuc2V0RmVhdHVyZVByb3BlcnR5PWZ1bmN0aW9uKG4sbyxyKXtyZXR1cm4gdC5zdG9yZS5zZXRGZWF0dXJlUHJvcGVydHkobixvLHIpLGV9LGV9KG4sZSksbi5hcGk9ZTt2YXIgbz1udChuKTtyZXR1cm4gZS5vbkFkZD1vLm9uQWRkLGUub25SZW1vdmU9by5vblJlbW92ZSxlLnR5cGVzPXAsZS5vcHRpb25zPXQsZX07ZnVuY3Rpb24gX2UodCl7bWUodCx0aGlzKX1yZXR1cm4gX2UubW9kZXM9dWUsX2UuY29uc3RhbnRzPUUsX2UubGliPXZlLF9lfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwYm94LWdsLWRyYXcuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"e3acb7cda707\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9kaXN0L21hcGJveC1nbC1kcmF3LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JvdXRvcGlhLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvbWFwYm94LWdsLWRyYXcvZGlzdC9tYXBib3gtZ2wtZHJhdy5jc3M/MjQ3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImUzYWNiN2NkYTcwN1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css\n");

/***/ })

};
;